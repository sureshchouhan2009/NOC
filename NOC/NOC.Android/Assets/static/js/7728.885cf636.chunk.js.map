{"version":3,"file":"static/js/7728.885cf636.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/chunks/LaserlinePath.glsl.js","../node_modules/@arcgis/core/chunks/Laserlines.glsl.js","../node_modules/@arcgis/core/chunks/ShadedColorMaterial.glsl.js","../node_modules/@arcgis/core/views/3d/interactive/Manipulator3D.js","../node_modules/@arcgis/core/views/3d/interactive/editingTools/dragEventPipeline3D.js","../node_modules/@arcgis/core/views/3d/interactive/manipulatorUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlinePathTechnique.js","../node_modules/@arcgis/core/views/3d/support/LaserlinePathData.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/LaserlineTechnique.js","../node_modules/@arcgis/core/views/3d/support/LaserLineRenderer.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/LaserlineVisualElement.js","../node_modules/@arcgis/core/views/3d/interactive/visualElements/VisualElement.js","../node_modules/@arcgis/core/views/3d/support/geometryUtils/ray.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/CameraSpace.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/shaders/ShadedColorMaterialTechnique.js","../node_modules/@arcgis/core/views/3d/webgl-engine/materials/ShadedColorMaterial.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{Laserline as e}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{glsl as i}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as o}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function a(a){const t=new o;return t.include(e,a),t.vertex.uniforms.add(\"uModelViewMatrix\",\"mat4\"),t.vertex.uniforms.add(\"uProjectionMatrix\",\"mat4\"),t.attributes.add(\"start\",\"vec3\"),t.attributes.add(\"end\",\"vec3\"),t.attributes.add(\"up\",\"vec3\"),t.attributes.add(\"extrude\",\"vec2\"),t.varyings.add(\"uv\",\"vec2\"),t.varyings.add(\"vViewStart\",\"vec3\"),t.varyings.add(\"vViewEnd\",\"vec3\"),t.varyings.add(\"vViewPlane\",\"vec4\"),t.vertex.uniforms.add(\"glowWidth\",\"float\"),t.vertex.uniforms.add(\"pixelToNDC\",\"vec2\"),t.vertex.code.add(i`void main() {\nvec3 pos = mix(start, end, extrude.x);\nvec4 viewPos = uModelViewMatrix * vec4(pos, 1);\nvec4 projPos = uProjectionMatrix * viewPos;\nvec2 ndcPos = projPos.xy / projPos.w;\nvec3 viewUp = (uModelViewMatrix * vec4(extrude.y * up, 0)).xyz;\nvec4 projPosUp = uProjectionMatrix * vec4(viewPos.xyz + viewUp, 1);\nvec2 projExtrudeDir = normalize(projPosUp.xy / projPosUp.w - ndcPos);\nvec2 lxy = abs(sign(projExtrudeDir) - ndcPos);\nndcPos += length(lxy) * projExtrudeDir;\nvec3 worldPlaneNormal = normalize(cross(up, normalize(end - start)));\nvec3 viewPlaneNormal = (uModelViewMatrix * vec4(worldPlaneNormal, 0)).xyz;\nvViewStart = (uModelViewMatrix * vec4(start, 1)).xyz;\nvViewEnd = (uModelViewMatrix * vec4(end, 1)).xyz;\nvViewPlane = vec4(viewPlaneNormal, -dot(viewPlaneNormal, vViewStart));\nfloat xPaddingPixels = sign(dot(viewPlaneNormal, viewPos.xyz)) * (extrude.x * 2.0 - 1.0) * glowWidth;\nndcPos.x += xPaddingPixels * pixelToNDC.x;\nuv = ndcPos * 0.5 + 0.5;\ngl_Position = vec4(ndcPos, 0, 1);\n}`),t.fragment.uniforms.add(\"globalAlpha\",\"float\"),t.fragment.uniforms.add(\"perScreenPixelRatio\",\"float\"),t.fragment.code.add(i`float planeDistancePixels(vec4 plane, vec3 pos, vec3 start, vec3 end) {\nvec3 origin = mix(start, end, 0.5);\nvec3 basis = end - origin;\nvec3 posAtOrigin = pos - origin;\nfloat x = dot(normalize(basis), posAtOrigin);\nfloat y = dot(plane.xyz, posAtOrigin);\nfloat dx = max(abs(x) - length(basis), 0.0);\nfloat dy = y;\nfloat dist = length(vec2(dx, dy));\nfloat width = fwidth(y);\nfloat maxPixelDistance = length(pos) * perScreenPixelRatio * 2.0;\nfloat pixelDist = dist / min(width, maxPixelDistance);\nreturn abs(pixelDist);\n}\nvoid main() {\nvec3 pos;\nvec3 normal;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\ndiscard;\n}\nfloat distance = planeDistancePixels(vViewPlane, pos, vViewStart, vViewEnd);\nvec4 color = laserlineProfile(distance);\nfloat alpha = 1.0 - smoothstep(0.995, 0.999, abs(dot(normal, vViewPlane.xyz)));\ngl_FragColor = laserlineOutput(color * alpha * depthDiscontinuityAlpha);\n}`),t}const t=Object.freeze({__proto__:null,build:a});export{t as L,a as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../core/mathUtils.js\";import{Laserline as t}from\"../views/3d/webgl-engine/core/shaderLibrary/Laserline.glsl.js\";import{ScreenSpacePass as i}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSpacePass.js\";import{glsl as n}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as a}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";const l=e(6);function o(e){const l=new a;return l.extensions.add(\"GL_OES_standard_derivatives\"),l.include(i),l.include(t,e),l.fragment.uniforms.add(\"angleCutoff\",\"vec2\"),l.fragment.uniforms.add(\"globalAlpha\",\"float\"),e.heightManifoldEnabled&&l.fragment.uniforms.add(\"heightPlane\",\"vec4\"),e.pointDistanceEnabled&&l.fragment.uniforms.add(\"pointDistanceSphere\",\"vec4\"),e.lineVerticalPlaneEnabled&&l.fragment.uniforms.add(\"lineVerticalPlane\",\"vec4\").add(\"lineVerticalStart\",\"vec3\").add(\"lineVerticalEnd\",\"vec3\"),(e.heightManifoldEnabled||e.pointDistanceEnabled||e.lineVerticalPlaneEnabled)&&l.fragment.uniforms.add(\"maxPixelDistance\",\"float\"),e.intersectsLineEnabled&&l.fragment.uniforms.add(\"intersectsLineStart\",\"vec3\").add(\"intersectsLineEnd\",\"vec3\").add(\"intersectsLineDirection\",\"vec3\").add(\"intersectsLineRadius\",\"float\").add(\"perScreenPixelRatio\",\"float\"),(e.lineVerticalPlaneEnabled||e.heightManifoldEnabled)&&l.fragment.code.add(n`float planeDistancePixels(vec4 plane, vec3 pos) {\nfloat dist = dot(plane.xyz, pos) + plane.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`),e.pointDistanceEnabled&&l.fragment.code.add(n`float sphereDistancePixels(vec4 sphere, vec3 pos) {\nfloat dist = distance(sphere.xyz, pos) - sphere.w;\nfloat width = fwidth(dist);\ndist /= min(width, maxPixelDistance);\nreturn abs(dist);\n}`),e.intersectsLineEnabled&&l.fragment.code.add(n`float lineDistancePixels(vec3 start, vec3 dir, float radius, vec3 pos) {\nfloat dist = length(cross(dir, pos - start)) / (length(pos) * perScreenPixelRatio);\nreturn abs(dist) - radius;\n}`),(e.lineVerticalPlaneEnabled||e.intersectsLineEnabled)&&l.fragment.code.add(n`bool pointIsWithinLine(vec3 pos, vec3 start, vec3 end) {\nvec3 dir = end - start;\nfloat t2 = dot(dir, pos - start);\nfloat l2 = dot(dir, dir);\nreturn t2 >= 0.0 && t2 <= l2;\n}`),l.fragment.code.add(n`void main() {\nvec3 pos;\nvec3 normal;\nfloat depthDiscontinuityAlpha;\nif (!laserlineReconstructFromDepth(pos, normal, depthDiscontinuityAlpha)) {\ndiscard;\n}\nvec4 color = vec4(0, 0, 0, 0);`),e.heightManifoldEnabled&&l.fragment.code.add(n`{\nfloat heightManifoldAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, heightPlane.xyz)));\nvec4 heightManifoldColor = laserlineProfile(planeDistancePixels(heightPlane, pos));\ncolor = max(color, heightManifoldColor * heightManifoldAlpha);\n}`),e.pointDistanceEnabled&&l.fragment.code.add(n`{\nfloat pointDistanceSphereDistance = sphereDistancePixels(pointDistanceSphere, pos);\nvec4 pointDistanceSphereColor = laserlineProfile(pointDistanceSphereDistance);\nfloat pointDistanceSphereAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, normalize(pos - pointDistanceSphere.xyz))));\ncolor = max(color, pointDistanceSphereColor * pointDistanceSphereAlpha);\n}`),e.lineVerticalPlaneEnabled&&l.fragment.code.add(n`{\nif (pointIsWithinLine(pos, lineVerticalStart, lineVerticalEnd)) {\nfloat lineVerticalDistance = planeDistancePixels(lineVerticalPlane, pos);\nvec4 lineVerticalColor = laserlineProfile(lineVerticalDistance);\nfloat lineVerticalAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, abs(dot(normal, lineVerticalPlane.xyz)));\ncolor = max(color, lineVerticalColor * lineVerticalAlpha);\n}\n}`),e.intersectsLineEnabled&&l.fragment.code.add(n`{\nif (pointIsWithinLine(pos, intersectsLineStart, intersectsLineEnd)) {\nfloat intersectsLineDistance = lineDistancePixels(intersectsLineStart, intersectsLineDirection, intersectsLineRadius, pos);\nvec4 intersectsLineColor = laserlineProfile(intersectsLineDistance);\nfloat intersectsLineAlpha = 1.0 - smoothstep(angleCutoff.x, angleCutoff.y, 1.0 - abs(dot(normal, intersectsLineDirection)));\ncolor = max(color, intersectsLineColor * intersectsLineAlpha);\n}\n}`),l.fragment.code.add(n`gl_FragColor = laserlineOutput(color * depthDiscontinuityAlpha);\n}`),l}const s=Object.freeze({__proto__:null,defaultAngleCutoff:l,build:o});export{s as L,o as b,l as d};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{ScreenSizeScaling as e}from\"../views/3d/webgl-engine/core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{Slice as r}from\"../views/3d/webgl-engine/core/shaderLibrary/Slice.glsl.js\";import{Transform as o}from\"../views/3d/webgl-engine/core/shaderLibrary/Transform.glsl.js\";import{ReadLinearDepth as i}from\"../views/3d/webgl-engine/core/shaderLibrary/output/ReadLinearDepth.glsl.js\";import{multipassTerrainTest as a}from\"../views/3d/webgl-engine/core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{symbolAlphaCutoff as d}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaDiscard.glsl.js\";import{ColorConversion as l}from\"../views/3d/webgl-engine/core/shaderLibrary/util/ColorConversion.glsl.js\";import{glsl as n}from\"../views/3d/webgl-engine/core/shaderModules/interfaces.js\";import{ShaderBuilder as s}from\"../views/3d/webgl-engine/core/shaderModules/ShaderBuilder.js\";function t(t){const c=new s;return c.include(o,{linearDepth:!1}),c.include(e,{}),c.include(r,t),c.fragment.include(l),c.vertex.uniforms.add(\"proj\",\"mat4\").add(\"view\",\"mat4\"),c.fragment.uniforms.add(\"color\",\"vec4\"),c.attributes.add(\"position\",\"vec3\"),c.varyings.add(\"vWorldPosition\",\"vec3\"),t.multipassTerrainEnabled&&c.varyings.add(\"depth\",\"float\"),t.screenSizeEnabled&&c.attributes.add(\"offset\",\"vec3\"),t.shadingEnabled&&(c.vertex.uniforms.add(\"viewNormal\",\"mat4\"),c.fragment.uniforms.add(\"shadedColor\",\"vec4\").add(\"shadingDirection\",\"vec3\"),c.attributes.add(\"normal\",\"vec3\"),c.varyings.add(\"vViewNormal\",\"vec3\")),c.vertex.code.add(n`\n    void main(void) {\n      vWorldPosition = ${t.screenSizeEnabled?\"screenSizeScaling(offset, position)\":\"position\"};\n  `),t.shadingEnabled&&c.vertex.code.add(n`vec3 worldNormal = normal;\nvViewNormal = (viewNormal * vec4(worldNormal, 1)).xyz;`),c.vertex.code.add(n`\n    ${t.multipassTerrainEnabled?\"depth = (view * vec4(vWorldPosition, 1.0)).z;\":\"\"}\n    gl_Position = transformPosition(proj, view, vWorldPosition);\n  }\n  `),t.multipassTerrainEnabled&&(c.fragment.include(i),c.include(a,t)),c.fragment.code.add(n`\n    void main() {\n      discardBySlice(vWorldPosition);\n      ${t.multipassTerrainEnabled?\"terrainDepthTest(gl_FragCoord, depth);\":\"\"}\n    `),t.shadingEnabled?c.fragment.code.add(n`vec3 viewNormalNorm = normalize(vViewNormal);\nfloat shadingFactor = 1.0 - clamp(-dot(viewNormalNorm, shadingDirection), 0.0, 1.0);\nvec4 finalColor = mix(color, shadedColor, shadingFactor);`):c.fragment.code.add(n`vec4 finalColor = color;`),c.fragment.code.add(n`\n      if (finalColor.a < ${n.float(d)}) {\n        discard;\n      }\n      ${7===t.output?n`gl_FragColor = vec4(finalColor.a);`:\"\"}\n\n      ${0===t.output?n`gl_FragColor = highlightSlice(finalColor, vWorldPosition); ${t.OITEnabled?\"gl_FragColor = premultiplyAlpha(gl_FragColor);\":\"\"}`:\"\"}\n    }\n    `),c}const c=Object.freeze({__proto__:null,build:t});export{c as S,t as b};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import{neverReached as e}from\"../../../core/compilerUtils.js\";import t from\"../../../core/Evented.js\";import{deg2rad as i}from\"../../../core/mathUtils.js\";import{isSome as s,isNone as o,unwrapOr as r,unwrap as n}from\"../../../core/maybe.js\";import{createScreenPointArray as a,createRenderScreenPointArray3 as c,screenPointObjectToArray as l,castRenderScreenPointArray as h}from\"../../../core/screenUtils.js\";import{once as d}from\"../../../core/accessorSupport/utils.js\";import{f as u}from\"../../../chunks/mat3.js\";import{c as _}from\"../../../chunks/mat3f64.js\";import{c as g,s as m,m as f,i as p}from\"../../../chunks/mat4.js\";import{c as v}from\"../../../chunks/mat4f64.js\";import{a as b}from\"../../../chunks/vec2.js\";import{b as y,t as j,m as L,a as S,g as R,h as w,s as O,f as T}from\"../../../chunks/vec3.js\";import{c as E,Z as A}from\"../../../chunks/vec3f64.js\";import{canProjectWithoutEngine as D,projectPoint as F,sphericalPCPFtoLonLatElevation as z,computeENUToSphericalPCPFLocalRotation as k}from\"../../../geometry/projection.js\";import{getReferenceEllipsoid as P}from\"../../../geometry/projectionEllipsoid.js\";import{containsPointObject as I}from\"../../../geometry/support/aaBoundingRect.js\";import{create as M,distance2 as C,fromPoints as x,closestRayDistance2 as B}from\"../../../geometry/support/lineSegment.js\";import{create as W,fromPositionAndNormal as V,intersectRay as U}from\"../../../geometry/support/plane.js\";import{create as G}from\"../../../geometry/support/ray.js\";import{sv3d as H}from\"../../../geometry/support/vectorStacks.js\";import{clonePoint as Z}from\"../../../layers/graphics/hydratedFeatures.js\";import{getElevationAtPoint as q}from\"../support/ElevationProvider.js\";import{fromScreen as J}from\"../support/geometryUtils/ray.js\";import K from\"../webgl-engine/lib/Camera.js\";import{Object3D as N}from\"../webgl-engine/lib/Object3D.js\";import{WebGLLayer as Q}from\"../webgl-engine/lib/WebGLLayer.js\";import X from\"../../../geometry/Point.js\";class Y{constructor(e){this.camera=new K,this._elevation={offset:0,override:null},this.collisionType={type:\"point\"},this.collisionPriority=0,this._renderObjects=[],this.autoScaleRenderObjects=!0,this._available=!0,this._noDisplayCount=0,this._radius=10,this._worldSized=!1,this.focusMultiplier=2,this.touchMultiplier=2.5,this.worldOriented=!1,this._modelTransform=v(),this._worldFrame=null,this._renderLocation=E(),this._renderLocationDirty=!0,this._location=new X({x:0,y:0,z:0}),this._elevationAlignedLocation=new X,this._elevationAlignedLocationDirty=!0,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.cursor=null,this._grabbing=!1,this.dragging=!1,this._hovering=!1,this._selected=!1,this._state=0,this._focused=!1,this.events=new t.EventEmitter,this._screenLocation={screenPointArray:a(),renderScreenPointArray:c(),pixelSize:0},this._screenLocationDirty=!0,this._applyObjectTransform=null,this._engineResourcesAddedToStage=!1,this._engineResources=null,this._attached=!1,this._engineLayer=null,this._materialIdReferences=null,this._location.spatialReference=e.view.spatialReference;for(const t in e)this[t]=e[t];this.view.state&&this.view.state.camera&&this.camera.copyFrom(this.view.state.camera)}destroy(){this._removeResourcesFromStage(),this._engineResources=null,this.view=null,this.camera=null}get elevationInfo(){return this._elevationInfo}set elevationInfo(e){this._elevationInfo=e,this._elevationAlignedLocationDirty=!0,this._renderLocationDirty=!0,this._updateEngineObject()}get renderObjects(){return this._renderObjects}set renderObjects(e){this._removeResourcesFromStage(),this._engineResources=null,this._renderObjects=e.slice(),this._updateEngineObject()}set available(e){e!==this._available&&(this._available=e,this._updateEngineObject())}get available(){return this._available}disableDisplay(){return this._noDisplayCount++,1===this._noDisplayCount&&this._updateEngineObject(),{remove:d((()=>{this._noDisplayCount--,0===this._noDisplayCount&&this._updateEngineObject()}))}}set radius(e){e!==this._radius&&(this._radius=e,this._updateEngineObject())}get radius(){return this._radius}set worldSized(e){e!==this._worldSized&&(this._worldSized=e,this._updateEngineObject())}get worldSized(){return this._worldSized}get modelTransform(){return this._modelTransform}set modelTransform(e){$(e)&&(this._screenLocationDirty=!0),g(this._modelTransform,e),this._updateEngineObject()}get renderLocation(){return this._renderLocationDirty&&(this._renderLocationDirty=!1,this.view.renderCoordsHelper.toRenderCoords(this.elevationAlignedLocation,this._renderLocation),this.worldOriented?(this._worldFrame||(this._worldFrame=v()),ee(this.view,this._renderLocation,this._worldFrame)):this._worldFrame&&(this._worldFrame=null)),this._renderLocation}set renderLocation(e){this.view.renderCoordsHelper.fromRenderCoords(e,this._location),this.elevationAlignedLocation=this._location}get location(){return this._location}set location(e){Z(e,this._location),this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!0,this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}get elevationAlignedLocation(){return this._elevationAlignedLocationDirty?(this._evaluateElevationAlignment(),this._updateElevationAlignedLocation(),this._elevationAlignedLocation):this._elevationAlignedLocation}set elevationAlignedLocation(e){Z(e,this._location),this._evaluateElevationAlignment(),this._location.z-=this._elevation.offset,this._updateElevationAlignedLocation(),this._updateEngineObject(),this.events.emit(\"location-update\",{location:this._location})}_updateElevationAlignedLocation(){this._elevationAlignedLocation.x=this.location.x,this._elevationAlignedLocation.y=this.location.y;const e=s(this._elevation.override)?this._elevation.override:this.location.z||0;this._elevationAlignedLocation.z=e+this._elevation.offset,this._elevationAlignedLocation.spatialReference=this.location.spatialReference,this._renderLocationDirty=!0,this._screenLocationDirty=!0,this._elevationAlignedLocationDirty=!1}grabbableForEvent(){return!0}get grabbing(){return this._grabbing}set grabbing(e){e!==this._grabbing&&(this._grabbing=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get hovering(){return this._hovering}set hovering(e){e!==this._hovering&&(this._hovering=e,this._setFocused(this._hovering||this._grabbing),this._updateEngineObject())}get selected(){return this._selected}set selected(e){e!==this._selected&&(this._selected=e,this._updateEngineObject(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,this._updateEngineObject())}updateStateEnabled(e,t){t?this.state|=e:this.state&=~e}_setFocused(e){e!==this._focused&&(this._focused=e,this.events.emit(\"focus-changed\",{action:!0===e?\"focus\":\"unfocus\"}))}get focused(){return this._focused}get screenLocation(){return this.ensureScreenLocation(),this._screenLocation}ensureScreenLocation(){if(!this._screenLocationDirty)return;this._screenLocation.pixelSize=this.camera.computeScreenPixelSizeAt(this.renderLocation),this._screenLocationDirty=!1;let e;if($(this._modelTransform)){const t=this._calculateModelTransformOffset(_e);e=y(t,t,this.renderLocation)}else e=this.renderLocation;this.camera.projectToRenderScreen(e,this._screenLocation.renderScreenPointArray),this.camera.renderToScreen(this._screenLocation.renderScreenPointArray,this._screenLocation.screenPointArray)}get applyObjectTransform(){return this._applyObjectTransform}set applyObjectTransform(e){this._applyObjectTransform=e,this._screenLocationDirty=!0,this._updateEngineObject()}intersectionDistance(t,i){if(!this.available)return null;const s=l(t,te),r=this._getCollisionRadius(i),n=-1*this.collisionPriority;switch(this.collisionType.type){case\"point\":if(b(this.screenLocation.screenPointArray,s)<r*r)return this.screenLocation.renderScreenPointArray[2]+n;break;case\"line\":{const e=this.collisionType.paths,t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,ne),a=r*this.screenLocation.pixelSize,c=J(this.camera,s,se);if(o(c))return null;for(const s of e){if(0===s.length)continue;const e=L(ce,s[0],i);for(let t=1;t<s.length;t++){const o=L(le,s[t],i),r=B(x(e,o,ie),c);if(null!=r&&r<a*a){const t=y(H.get(),e,o);S(t,t,.5);const i=h(H.get());return this.camera.projectToRenderScreen(t,i),i[2]+n}R(e,o)}}break}case\"disc\":{var a;const e=this.collisionType.direction,t=null!=(a=this.collisionType.offset)?a:A,i=this._getWorldToScreenObjectScale(),c=this._calculateObjectTransform(i,ne),l=r*this.screenLocation.pixelSize,h=J(this.camera,s,se);if(o(h))return null;const d=u(oe,c),_=j(de,e,d),g=L(ue,t,c);V(g,_,ae);const m=he;if(U(ae,h,m)&&w(m,g)<l*l)return this.screenLocation.renderScreenPointArray[2]+n;break}case\"ribbon\":{const{paths:e,direction:t}=this.collisionType,i=this._getWorldToScreenObjectScale(),a=this._calculateObjectTransform(i,ne),c=r*this.camera.computeScreenPixelSizeAt(this.renderLocation),l=J(this.camera,s,se);if(o(l))return null;const d=u(oe,a),_=j(de,t,d),g=this._calculateModelTransformPosition(ue);V(g,_,ae);const m=he;if(!U(ae,l,m))break;for(const s of e){if(0===s.length)continue;const e=L(ce,s[0],a);for(let t=1;t<s.length;t++){const i=L(le,s[t],a),o=C(x(e,i,ie),m);if(null!=o&&o<c*c){const t=y(H.get(),e,i);S(t,t,.5);const s=h(H.get());return this.camera.projectToRenderScreen(t,s),s[2]+n}R(e,i)}}break}default:e(this.collisionType)}return null}attach(e={manipulator3D:{}}){var t;if(!this.view._stage)return;const i=e.manipulator3D;if(o(i.engineLayerId)){const e=new Q({isPickable:!1,updatePolicy:1});this.view._stage.add(e),i.engineLayerId=e.id,this._engineLayer=e}else null!=(t=this.view._stage)&&t.getObject&&(this._engineLayer=this.view._stage.getObject(i.engineLayerId));i.engineLayerReferences=(i.engineLayerReferences||0)+1,this._materialIdReferences=i.materialIdReferences,o(this._materialIdReferences)&&(this._materialIdReferences=new Map,i.materialIdReferences=this._materialIdReferences),this.camera.copyFrom(this.view.state.camera),this._attached=!0,this._updateEngineObject(),D(this._location.spatialReference,this.view.spatialReference)||(this.location=new X({x:0,y:0,z:0,spatialReference:this.view.spatialReference}))}detach(e={manipulator3D:{}}){const t=e.manipulator3D;t.engineLayerReferences--;const i=0===t.engineLayerReferences;i&&(t.engineLayerId=null),this._removeResourcesFromStage(i),this._engineResources=null,this._engineLayer=null,this._materialIdReferences=null,this._attached=!1}onViewChange(){this.camera.copyFrom(this.view.state.camera),this._screenLocationDirty=!0,this._updateEngineObject()}onElevationChange(e){F(this.location,ge,e.spatialReference),I(e.extent,ge)&&(this.location=this._location)}_evaluateElevationAlignment(e=this.location){if(o(this.elevationInfo))return!1;let t=null,i=0;const s=r(this.elevationInfo.offset,0);switch(this.elevationInfo.mode){case\"on-the-ground\":t=r(q(this.view.elevationProvider,e,\"ground\"),0);break;case\"relative-to-ground\":i=r(q(this.view.elevationProvider,e,\"ground\"),0)+s;break;case\"relative-to-scene\":i=r(q(this.view.elevationProvider,e,\"scene\"),0)+s;break;case\"absolute-height\":i=s}return(i!==this._elevation.offset||t!==this._elevation.override)&&(this._elevation.offset=i,this._elevation.override=t,!0)}_updateEngineObject(){if(!this._attached)return;if(!this.available)return void this._removeResourcesFromStage();const e=this._getWorldToScreenObjectScale(),t=ne;if(!0===this.autoScaleRenderObjects){const i=this._getFocusedSize(this._radius,this.focused)*e;this._calculateObjectTransform(i,t)}else this._calculateObjectTransform(e,t);const{objectsByState:i}=this._ensureEngineResources(),s=(this.focused?2:1)|(this.selected?8:4),o=this._noDisplayCount>0;for(const{stateMask:r,objects:n}of i){if(o){for(const e of n)e.setVisible(!1);continue}const e=!(0!=(15&r))||(s&r)==(15&r),i=!(0!=(65520&r))||(this.state&r)==(65520&r);if(e&&i)for(const s of n)s.setVisible(!0),s.transformation=t;else for(const t of n)t.setVisible(!1)}}_ensureEngineResources(){if(o(this._engineResources)){const e=n(this._engineLayer),t=[],i=new Set;this.renderObjects.forEach((({material:e})=>{i.has(e)||(t.push(e),i.add(e))}));const s=(e,t)=>{const{geometry:i,material:s,transform:o}=t;Array.isArray(i)?i.forEach((t=>e.addGeometry(t,s,o))):e.addGeometry(i,s,o)},o=new Map;this._renderObjects.forEach((e=>{const t=new N({castShadow:!1});s(t,e);const i=e.stateMask||0,r=o.get(i)||[];r.push(t),o.set(i,r)}));const r=[];o.forEach(((e,t)=>r.push({stateMask:t,objects:e}))),this._engineResources={objectsByState:r,layer:e,materials:t}}return this._addResourcesToStage(),this._engineResources}_addResourcesToStage(){if(this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:e,layer:t,materials:i}=this._engineResources;i.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id)||0;0===i&&this.view._stage.add(e),t.set(e.id,i+1)})),e.forEach((({objects:e})=>{t.addMany(e),this.view._stage.addMany(e)})),this._engineResourcesAddedToStage=!0}_removeResourcesFromStage(e=!1){if(!this._engineResourcesAddedToStage||o(this._engineResources))return;const{objectsByState:t,layer:i,materials:s}=this._engineResources;t.forEach((({objects:e})=>{i.removeMany(e),this.view._stage.removeMany(e)})),s.forEach((e=>{const t=n(this._materialIdReferences),i=t.get(e.id);1===i?(this.view._stage.remove(e),t.delete(e.id)):t.set(e.id,i-1)})),e&&this.view._stage.remove(i),this._engineResourcesAddedToStage=!1}_getCollisionRadius(e){return this._getFocusedSize(this.radius,!0)*(\"touch\"===e?this.touchMultiplier:1)}_getFocusedSize(e,t){return e*(t?this.focusMultiplier:1)}_getWorldToScreenObjectScale(){return this._worldSized?1:this.screenLocation.pixelSize}_calculateModelTransformPosition(e){const t=this._getWorldToScreenObjectScale(),i=this._calculateObjectTransform(t,re);return O(e,i[12],i[13],i[14])}_calculateModelTransformOffset(e){const t=this._calculateModelTransformPosition(e);return T(e,t,this.renderLocation)}_calculateObjectTransform(e,t){return m(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1),this._worldFrame&&f(t,t,this._worldFrame),f(t,t,this._modelTransform),t[12]+=this.renderLocation[0],t[13]+=this.renderLocation[1],t[14]+=this.renderLocation[2],t[15]=1,s(this._applyObjectTransform)&&this._applyObjectTransform(t),t}get test(){let e=!1;if(s(this._engineResources))for(const t in this._engineResources.objectsByState){const i=this._engineResources.objectsByState[t];for(const t of i.objects)if(t.isVisible){e=!0;break}if(e)break}return{areAnyResourcesVisible:e}}}function $(e){return 0!==e[12]||0!==e[13]||0!==e[14]}function ee(e,t,s){switch(e.viewingMode){case\"local\":return p(s),!0;case\"global\":{const o=P(e.renderCoordsHelper.spatialReference);return z(t,0,ce,0,o.radius),k(i(ce[0]),i(ce[1]),s),!0}}}const te=a(),ie=M(),se=G(),oe=_(),re=v(),ne=v(),ae=W(),ce=E(),le=E(),he=E(),de=E(),ue=E(),_e=E(),ge=new X({x:0,y:0,z:0,spatialReference:null});export{Y as Manipulator3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as r,unwrapOr as t}from\"../../../../core/maybe.js\";import{screenPointObjectToArray as n,castScreenPointArray as o,createScreenPointArray as s}from\"../../../../core/screenUtils.js\";import{g as c,l,f as a,d as i,a as u,b as p,c as d}from\"../../../../chunks/vec3.js\";import{c as m}from\"../../../../chunks/vec3f64.js\";import{projectPoint as f}from\"../../../../geometry/projection.js\";import{intersectRay as g,fromPositionAndNormal as y,create as S}from\"../../../../geometry/support/plane.js\";import{create as j}from\"../../../../geometry/support/ray.js\";import{projectPoint as E}from\"../../../../geometry/support/vector.js\";import{sv2d as v}from\"../../../../geometry/support/vectorStacks.js\";import{getZForElevationMode as x,getGraphicEffectiveElevationInfo as b}from\"../../../../support/elevationInfoUtils.js\";import{fromScreen as w}from\"../../support/geometryUtils/ray.js\";import{newIntersector as I}from\"../../webgl-engine/lib/Intersector.js\";import{TERRAIN_ID as C}from\"../../webgl-engine/lib/verticalOffsetUtils.js\";import{EventPipeline as H}from\"../../../interactive/dragEventPipeline.js\";function P(e,r){return h(e,(()=>r))}function U(e){return h(e,(e=>e.plane))}function h(t,s){const c=m(),l=m();let a=!1;return i=>{const u=s(i);if(\"start\"===i.action){const r=n(i.screenStart,o(v.get())),s=w(t.state.camera,r,J);e(s)&&(a=g(u,s,c))}if(!a)return null;const p=n(i.screenEnd,o(v.get())),d=w(t.state.camera,p,J);return r(d)?null:g(u,d,l)?{...i,renderStart:c,renderEnd:l,plane:u,ray:d}:null}}function k(t,n,o,c=null,l=null){let a=null;return i=>{if(\"start\"===i.action&&(a=t.sceneIntersectionHelper.intersectElevationFromScreen(s(i.screenStart.x,i.screenStart.y),n,o,l),e(a)&&e(c)&&!f(a,a,c)))return null;if(r(a))return null;const u=t.sceneIntersectionHelper.intersectElevationFromScreen(s(i.screenEnd.x,i.screenEnd.y),n,o,l);return e(u)?e(c)&&!f(u,u,c)?null:{...i,mapStart:a,mapEnd:u}:null}}function M(e,r,t,n=null,o=null){return k(e,t,x(r,e,t),n,o)}function R(e,r,t,n=null,o=null){return M(e,t,b(r),n,o)}function F(r,t,n,o){const s=t.toMap(r.screenStart,{include:[n]});return e(s)?R(t,n,s,o):null}function T(e,r){const t=z,n=B,o=S();e.renderCoordsHelper.worldUpAtPosition(r,t);const s=d(o,t,a(n,r,e.state.camera.eye));return d(s,s,t),y(r,s,o)}function A(e,r,t){let n=null;const o=new H;return o.next(P(e,T(e,r))).next(D(e,r)).next(q(e,t)).next((e=>{e.mapEnd.x=e.mapStart.x,e.mapEnd.y=e.mapStart.y,n=e})),e=>(n=null,o.execute(e),n)}function D(e,r){const t=m(),n=l(r);e.renderCoordsHelper.worldUpAtPosition(r,t);const o=m(),s=m(),d=o=>{if(a(o,o,r),E(t,o,o),\"global\"===e.viewingMode){l(o)*Math.sign(i(t,o))<.001-n&&a(o,u(o,t,.001),r)}return p(o,o,r),o};return e=>(e.renderStart=d(c(o,e.renderStart)),e.renderEnd=d(c(s,e.renderEnd)),e)}function q(r,t){const n=r.renderCoordsHelper;return r=>{const o=n.fromRenderCoords(r.renderStart,t),s=n.fromRenderCoords(r.renderEnd,t);return e(o)&&e(s)?{...r,mapStart:o,mapEnd:s}:null}}function G(r){let t=null;return n=>{switch(n.action){case\"start\":t=r.disableDisplay();break;case\"end\":case\"cancel\":e(t)&&(t.remove(),t=null)}return n}}function O(o,c=null){const l=I(o.state.viewingMode);l.options.selectionMode=!0,l.options.store=0,l.options.hud=!1;const a=s(),i={requiresGroundFeedback:!0,enableDraped:!0,exclude:new Set},u=m(),p=t(c,o.spatialReference),d=e=>{o.map.ground&&o.map.ground.opacity<1?i.exclude.add(C):i.exclude.delete(C),o.sceneIntersectionHelper.intersectIntersectorScreen(n(e,a),l,i);const r=l.results.min;let t;if(r.getIntersectionPoint(u))t=2===r.intersector?0:1;else{if(!l.results.ground.getIntersectionPoint(u))return null;t=0}return{location:o.renderCoordsHelper.fromRenderCoords(u,p),surfaceType:t}};let f;return t=>{if(\"start\"===t.action){const r=d(t.screenStart);f=e(r)?r.location:null}if(r(f))return null;const n=d(t.screenEnd);return e(n)&&e(n.location)?{...t,mapStart:f,mapEnd:n.location,surfaceType:n.surfaceType}:null}}const z=m(),B=m(),J=j();export{q as convertToMapCoordinates,G as hideManipulatorWhileDragging,D as projectToWorldUp,O as screenToMap3D,M as screenToMapXYAtLocation,F as screenToMapXYForGraphic,R as screenToMapXYForGraphicAtLocation,P as screenToRenderPlane,U as screenToRenderPlaneFromEvent,A as screenToZConstrained};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{b as r}from\"../../../chunks/mat4.js\";import{f as n,c as o,m as c,n as a}from\"../../../chunks/vec3.js\";import{f as i}from\"../../../chunks/vec4f64.js\";import{sv3d as s,sm4d as l}from\"../../../geometry/support/vectorStacks.js\";import{hydrateGeometry as m}from\"../../../layers/graphics/hydratedFeatures.js\";import{Manipulator3D as u}from\"./Manipulator3D.js\";import{computeCentroid as p}from\"../layers/graphics/graphicUtils.js\";import g from\"../webgl-engine/lib/GeometryUtil.js\";import{ColorMaterial as f}from\"../webgl-engine/materials/ColorMaterial.js\";import{ShadedColorMaterial as h}from\"../webgl-engine/materials/ShadedColorMaterial.js\";function d(e,t=4,r=!0){const n=i(e[0],e[1],e[2],e.length>3?e[3]:1),o=e[3]<1;return r?new h({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t}):new f({color:n,transparent:o,writeDepth:!0,cullFace:2,renderOccluded:t})}function j(e,t=4){const r=i(e[0],e[1],e[2],4===e.length?e[3]:1);return new f({color:r,transparent:!0,writeDepth:!0,cullFace:1,renderOccluded:t})}function w(e,t,r){return new u({view:e,renderObjects:[{geometry:g.createSphereGeometry(1,32,32),material:d(i(t[0],t[1],t[2],null!=r?r:1))}]})}function y(e,t,a,i){const m=n(s.get(),e,a),u=b(m,o(s.get(),i,m),a,l.get());r(u,u);const p=c(s.get(),t,u);return Math.atan2(p[1],p[0])}function b(e,t,r,n){const c=a(s.get(),e),i=a(s.get(),t),l=o(s.get(),c,i);return n[0]=c[0],n[1]=c[1],n[2]=c[2],n[3]=0,n[4]=i[0],n[5]=i[1],n[6]=i[2],n[7]=0,n[8]=l[0],n[9]=l[1],n[10]=l[2],n[11]=0,n[12]=r[0],n[13]=r[1],n[14]=r[2],n[15]=1,n}function O(t,r){const n=t.getViewForGraphic(r);return e(n)&&\"computeAttachmentOrigin\"in n?n.computeAttachmentOrigin(r,t.spatialReference):null}function v(t,r,n){const o=O(t,n);e(o)?r.elevationAlignedLocation=o:F(r,n.geometry)}function F(e,r){if(t(r))return;const n=\"mesh\"===r.type?r.anchor:p(r);t(n)||(e.location=m(n))}export{y as calculateInputRotationTransform,b as calculateTranslateRotateFromBases,d as createManipulatorMaterial,j as createManipulatorOutlineMaterial,w as createSphereManipulator,O as getGraphicAttachmentOrigin,v as placeAtGraphic};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"../../../../chunks/tslib.es6.js\";import{a as o}from\"../../../../chunks/mat4.js\";import{c as t}from\"../../../../chunks/mat4f64.js\";import{ReloadableShaderModule as i}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as e}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as a,ShaderTechniqueConfiguration as s}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Program as n}from\"../lib/Program.js\";import{L as l}from\"../../../../chunks/LaserlinePath.glsl.js\";import{makePipelineState as m,simpleBlendingParams as h,defaultColorWriteParams as f}from\"../../../webgl/renderState.js\";class p extends e{initializeProgram(r){const o=p.shader.get(),t=this.configuration,i=o.build(t);return new n(r.rctx,i,p.attributeLocations)}bind(r,t,i){this.program.setUniform3fv(\"innerColor\",r.innerColor),this.program.setUniform1f(\"innerWidth\",r.innerWidth*i.pixelRatio),this.program.setUniform3fv(\"glowColor\",r.glowColor),this.program.setUniform1f(\"glowWidth\",r.glowWidth*i.pixelRatio),this.program.setUniform1f(\"glowFalloff\",r.glowFalloff),this.program.setUniform1f(\"globalAlpha\",r.globalAlpha),this.program.setUniform1f(\"perScreenPixelRatio\",i.perScreenPixelRatio),this.program.setUniform2f(\"pixelToNDC\",2/i.fullWidth,2/i.fullHeight),this.program.setUniformMatrix4fv(\"uProjectionMatrix\",i.projectionMatrix),o(c,i.viewMatrix,t),this.program.setUniformMatrix4fv(\"uModelViewMatrix\",c),this.configuration.contrastControlEnabled&&this.program.setUniform1f(\"globalAlphaContrastBoost\",null!=r.globalAlphaContrastBoost?r.globalAlphaContrastBoost:1)}initializePipeline(){return m({blending:h(1,771),colorWrite:f})}}p.shader=new i(l,(()=>import(\"./LaserlinePath.glsl.js\"))),p.attributeLocations=new Map([[\"start\",0],[\"end\",1],[\"up\",2],[\"extrude\",3]]);class g extends s{constructor(){super(...arguments),this.contrastControlEnabled=!1}}r([a()],g.prototype,\"contrastControlEnabled\",void 0);const c=t();export{p as LaserlinePathTechnique,g as LaserlinePathTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../core/maybe.js\";import{s as r,f as s}from\"../../../chunks/vec3.js\";import{c as i}from\"../../../chunks/vec3f64.js\";import{glLayout as o}from\"./buffer/glUtil.js\";import{newLayout as u}from\"./buffer/InterleavedLayout.js\";import{LaserlinePathTechnique as f}from\"../webgl-engine/shaders/LaserlinePathTechnique.js\";import n from\"../../webgl/BufferObject.js\";import a from\"../../webgl/VertexArrayObject.js\";class c{constructor(e){this._renderCoordsHelper=e,this._buffers=null,this._origin=i(),this._dirty=!1,this._count=0,this._vao=null}set vertices(e){const t=new Float64Array(3*e.length);let r=0;for(const s of e)t[r++]=s[0],t[r++]=s[1],t[r++]=s[2];this.buffers=[t]}set buffers(e){if(this._buffers=e,this._buffers.length>0){const e=this._buffers[0],t=3*Math.floor(e.length/3/2);r(this._origin,e[t+0],e[t+1],e[t+2])}else r(this._origin,0,0,0);this._dirty=!0}get origin(){return this._origin}draw(t){const r=this.ensureVAO(t);e(r)&&(t.bindVAO(r),t.drawArrays(4,0,this._count))}dispose(){e(this._vao)&&this._vao.dispose()}ensureVAO(e){return t(this._buffers)?null:(t(this._vao)&&(this._vao=this.createVAO(e,this._buffers)),this.ensureVertexData(this._vao,this._buffers),this._vao)}createVAO(e,t){const r=this.createDataBuffer(t);return this._dirty=!1,new a(e,f.attributeLocations,{data:o(d)},{data:n.createVertex(e,35044,r)})}ensureVertexData(e,t){if(!this._dirty)return;const r=this.createDataBuffer(t);e.vertexBuffers.data.setData(r),this._dirty=!1}numberOfRenderVertices(e){return 3*(2*(e.length/3-1))}createDataBuffer(e){const t=e.reduce(((e,t)=>e+this.numberOfRenderVertices(t)),0);this._count=t;const i=d.createBuffer(t),o=this._origin;let u=0,f=0;for(const n of e){for(let e=0;e<n.length;e+=3){const t=r(l,n[e+0],n[e+1],n[e+2]);0===e?f=this._renderCoordsHelper.getAltitude(t):this._renderCoordsHelper.setAltitude(t,f);const a=this._renderCoordsHelper.worldUpAtPosition(t,h),c=u+2*e,d=s(l,t,o);if(e<n.length-3){i.up.setVec(c,a),i.up.setVec(c+3,a),i.up.setVec(c+5,a);for(let e=0;e<6;e++)i.start.setVec(c+e,d);i.extrude.setValues(c+0,0,-1),i.extrude.setValues(c+1,1,-1),i.extrude.setValues(c+2,1,1),i.extrude.setValues(c+3,0,-1),i.extrude.setValues(c+4,1,1),i.extrude.setValues(c+5,0,1)}if(e>0){i.up.setVec(c-2,a),i.up.setVec(c-4,a),i.up.setVec(c-5,a);for(let e=-6;e<0;e++)i.end.setVec(c+e,d)}}u+=this.numberOfRenderVertices(n)}return i.buffer}}const h=i(),l=i(),d=u().vec3f(\"start\").vec3f(\"end\").vec3f(\"up\").vec2f(\"extrude\");export{c as LaserlinePathData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../../chunks/tslib.es6.js\";import{deg2rad as t}from\"../../../../core/mathUtils.js\";import{ReloadableShaderModule as e}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as r}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as i,ShaderTechniqueConfiguration as n}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{Default3D as a}from\"../lib/DefaultVertexAttributeLocations.js\";import{Program as l}from\"../lib/Program.js\";import{d as s,L as h}from\"../../../../chunks/Laserlines.glsl.js\";import{makePipelineState as f,simpleBlendingParams as p,defaultColorWriteParams as m}from\"../../../webgl/renderState.js\";class d extends r{initializeProgram(o){const t=d.shader.get(),e=this.configuration,r=t.build(e);return new l(o.rctx,r,a)}bind(o,e){this.program.setUniform3fv(\"innerColor\",o.innerColor),this.program.setUniform1f(\"innerWidth\",o.innerWidth*e.pixelRatio),this.program.setUniform3fv(\"glowColor\",o.glowColor),this.program.setUniform1f(\"glowWidth\",o.glowWidth*e.pixelRatio),this.program.setUniform1f(\"glowFalloff\",o.glowFalloff),this.program.setUniform1f(\"globalAlpha\",o.globalAlpha),this.configuration.contrastControlEnabled&&this.program.setUniform1f(\"globalAlphaContrastBoost\",null!=o.globalAlphaContrastBoost?o.globalAlphaContrastBoost:1);const r=null!=o.angleCutoff?o.angleCutoff:s;this.program.setUniform2f(\"angleCutoff\",Math.cos(r),Math.cos(Math.max(0,r-t(2)))),this.configuration.intersectsLineEnabled&&this.program.setUniform1f(\"perScreenPixelRatio\",e.perScreenPixelRatio)}initializePipeline(){return f({blending:p(1,771),colorWrite:m})}}d.shader=new e(h,(()=>import(\"./Laserlines.glsl.js\")));class c extends n{constructor(){super(...arguments),this.heightManifoldEnabled=!1,this.pointDistanceEnabled=!1,this.lineVerticalPlaneEnabled=!1,this.intersectsLineEnabled=!1,this.contrastControlEnabled=!1}}o([i()],c.prototype,\"heightManifoldEnabled\",void 0),o([i()],c.prototype,\"pointDistanceEnabled\",void 0),o([i()],c.prototype,\"lineVerticalPlaneEnabled\",void 0),o([i()],c.prototype,\"intersectsLineEnabled\",void 0),o([i()],c.prototype,\"contrastControlEnabled\",void 0);export{d as LaserlineTechnique,c as LaserlineTechniqueConfiguration};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{deg2rad as e}from\"../../../core/mathUtils.js\";import{isSome as t,isNone as i,disposeMaybe as n,releaseMaybe as s}from\"../../../core/maybe.js\";import{a as r}from\"../../../chunks/vec2f64.js\";import{g as a,m as h,i as l,n as o,c,b as _}from\"../../../chunks/vec3.js\";import{c as d}from\"../../../chunks/vec3f64.js\";import{t as m}from\"../../../chunks/vec4.js\";import{c as p}from\"../../../chunks/vec4f64.js\";import{create as f,fromRay as g,getStart as u,getEnd as b}from\"../../../geometry/support/clipRay.js\";import{intersectClipRay as P}from\"../../../geometry/support/frustum.js\";import{create as V,copy as E,pointAt as D}from\"../../../geometry/support/lineSegment.js\";import{create as q,fromPositionAndNormal as L}from\"../../../geometry/support/plane.js\";import{wrap as S}from\"../../../geometry/support/ray.js\";import{c as U}from\"../../../chunks/sphere.js\";import{LaserlinePathData as R}from\"./LaserlinePathData.js\";import{createQuadVAO as x}from\"../webgl-engine/lib/glUtil3D.js\";import{inverseProjectionInfo as M}from\"../webgl-engine/lib/Util.js\";import{copyParameters as T,updateParameters as v}from\"../webgl-engine/materials/internal/MaterialUtil.js\";import{LaserlinePathTechniqueConfiguration as C,LaserlinePathTechnique as j}from\"../webgl-engine/shaders/LaserlinePathTechnique.js\";import{LaserlineTechniqueConfiguration as w,LaserlineTechnique as A}from\"../webgl-engine/shaders/LaserlineTechnique.js\";const y=d(),I=p(),O={glowColor:[1,.5,0],glowWidth:8,glowFalloff:8,innerColor:[1,1,1],innerWidth:1,globalAlpha:.75,angleCutoff:e(6),globalAlphaContrastBoost:2};function H(e,t,i,n){const s=y,r=I;h(s,t,n),a(r,i),r[3]=0,m(r,r,n),L(s,r,e)}class z{constructor(e,t={},i={contrastControlEnabled:!1}){this._renderCoordsHelper=e,this._config=i,this._technique=null,this._projInfo=p(),this._zScale=r(),this._heightManifoldEnabled=!1,this._heightManifoldTarget=d(),this._pointDistanceEnabled=!1,this._pointDistanceOrigin=d(),this._pointDistanceTarget=d(),this._lineVerticalPlaneEnabled=!1,this._lineVerticalPlaneSegment=V(),this._intersectsLineEnabled=!1,this._intersectsLineSegment=V(),this._intersectsLineRadius=3,this._intersectsLineInfinite=!1,this._pathVerticalPlaneEnabled=!1,this._pathVerticalPlaneData=null,this._pathTechnique=null,this.canRender=!0,this._tempNormal=d(),this._tempDir=d(),this._tempUp=d(),this._tempVec3A=d(),this._tempVec3B=d(),this._tempVec4=p(),this._tempPlane=q(),this._tempSphere=U(),this._params=T(t,O)}get renderSlots(){return[this._config.contrastControlEnabled?15:14]}get needsLinearDepth(){return!0}get heightManifoldEnabled(){return this._heightManifoldEnabled}set heightManifoldEnabled(e){this._heightManifoldEnabled!==e&&(this._heightManifoldEnabled=e,this._requestRender())}get heightManifoldTarget(){return this._heightManifoldTarget}set heightManifoldTarget(e){a(this._heightManifoldTarget,e),this._requestRender()}get pointDistanceEnabled(){return this._pointDistanceEnabled}set pointDistanceEnabled(e){e!==this._pointDistanceEnabled&&(this._pointDistanceEnabled=e,this._requestRender())}get pointDistanceTarget(){return this._pointDistanceTarget}set pointDistanceTarget(e){a(this._pointDistanceTarget,e),this._requestRender()}get pointDistanceOrigin(){return this._pointDistanceOrigin}set pointDistanceOrigin(e){a(this._pointDistanceOrigin,e),this._requestRender()}get lineVerticalPlaneEnabled(){return this._lineVerticalPlaneEnabled}set lineVerticalPlaneEnabled(e){e!==this._lineVerticalPlaneEnabled&&(this._lineVerticalPlaneEnabled=e,this._requestRender())}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(e){E(e,this._lineVerticalPlaneSegment),this._requestRender()}get intersectsLineEnabled(){return this._intersectsLineEnabled}set intersectsLineEnabled(e){e!==this._intersectsLineEnabled&&(this._intersectsLineEnabled=e,this._requestRender())}get intersectsLineSegment(){return this._intersectsLineSegment}set intersectsLineSegment(e){E(e,this._intersectsLineSegment),this._requestRender()}get intersectsLineRadius(){return this._intersectsLineRadius}set intersectsLineRadius(e){e!==this._intersectsLineRadius&&(this._intersectsLineRadius=e,this._requestRender())}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){e!==this._intersectsLineInfinite&&(this._intersectsLineInfinite=e,this._requestRender())}get pathVerticalPlaneEnabled(){return this._pathVerticalPlaneEnabled}set pathVerticalPlaneEnabled(e){e!==this._pathVerticalPlaneEnabled&&(this._pathVerticalPlaneEnabled=e,t(this._pathVerticalPlaneData)&&this._requestRender())}set pathVerticalPlaneVertices(e){i(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new R(this._renderCoordsHelper)),this._pathVerticalPlaneData.vertices=e,this.pathVerticalPlaneEnabled&&this._requestRender()}set pathVerticalPlaneBuffers(e){i(this._pathVerticalPlaneData)&&(this._pathVerticalPlaneData=new R(this._renderCoordsHelper)),this._pathVerticalPlaneData.buffers=e,this.pathVerticalPlaneEnabled&&this._requestRender()}setParameters(e){v(this._params,e)&&this._requestRender()}initializeRenderContext(e){this._context=e;const t=e.renderContext.rctx;this._quadVAO=x(t),this._techniqueRepository=e.shaderTechniqueRep,this._techniqueConfig=new w;const i=new C;i.contrastControlEnabled=this._config.contrastControlEnabled,this._pathTechnique=this._techniqueRepository.acquire(j,i)}uninitializeRenderContext(){this._quadVAO=n(this._quadVAO),this._technique=s(this._technique),this._pathVerticalPlaneData=n(this._pathVerticalPlaneData),this._pathTechnique=s(this._pathTechnique)}render(e){const t=this.heightManifoldEnabled||this.pointDistanceEnabled||this.lineVerticalPlaneSegment||this.intersectsLineEnabled,i=this.pathVerticalPlaneEnabled;if(!t&&!i)return!1;const n=e.camera;return M(n.projectionMatrix,n.fullWidth,n.fullHeight,this._projInfo,this._zScale),t&&this.renderUnified(e),i&&this.renderPath(e),!0}renderUnified(e){const t=e.rctx,i=this._selectTechnique(),n=i.program;t.useProgram(n),i.bindPipelineState(t),this._bindGlobalUniforms(e,n),this.bindHeightManifoldUniforms(e,n),this.bindPointDistanceUniforms(e,n),this.bindLineVerticalPlaneUniforms(e,n),this.bindIntersectsLineUniforms(e,n),i.bind(this._params,e.camera),t.bindVAO(this._quadVAO),t.drawArrays(5,0,4)}renderPath(e){if(i(this._pathVerticalPlaneData)||i(this._pathTechnique))return;const t=e.rctx,n=this._pathTechnique,s=n.program;t.useProgram(s),n.bindPipelineState(t),this._bindGlobalUniforms(e,s),n.bind(this._params,this._pathVerticalPlaneData.origin,e.camera),this._pathVerticalPlaneData.draw(e.rctx)}bindHeightManifoldUniforms(e,t){if(!this.heightManifoldEnabled)return;const i=this._tempVec3A,n=this._tempPlane;this._renderCoordsHelper.worldUpAtPosition(this._heightManifoldTarget,i),H(n,this._heightManifoldTarget,i,e.camera.viewMatrix),t.setUniform4fv(\"heightPlane\",n)}bindPointDistanceUniforms(e,t){if(!this._pointDistanceEnabled)return;const i=e.camera,n=this._tempSphere;a(n,this._pointDistanceOrigin),h(n,n,i.viewMatrix),n[3]=l(this._pointDistanceOrigin,this._pointDistanceTarget),t.setUniform4f(\"pointDistanceSphere\",n[0],n[1],n[2],n[3])}bindLineVerticalPlaneUniforms(e,t){if(!this._lineVerticalPlaneEnabled)return;const i=this._renderCoordsHelper,n=e.camera,s=this._tempPlane,r=this._tempVec3A,l=this._tempUp,d=this._tempDir,m=this._tempNormal;D(this._lineVerticalPlaneSegment,.5,r),i.worldUpAtPosition(r,l),o(d,this._lineVerticalPlaneSegment.vector),c(m,l,d),o(m,m),H(s,this._lineVerticalPlaneSegment.origin,m,n.viewMatrix),t.setUniform4fv(\"lineVerticalPlane\",s);const p=this._tempVec3A;a(p,this._lineVerticalPlaneSegment.origin),i.setAltitude(p,0),h(p,p,n.viewMatrix),t.setUniform3fv(\"lineVerticalStart\",p);const f=this._tempVec3B;_(f,this._lineVerticalPlaneSegment.origin,this._lineVerticalPlaneSegment.vector),i.setAltitude(f,0),h(f,f,n.viewMatrix),t.setUniform3fv(\"lineVerticalEnd\",f)}bindIntersectsLineUniforms(e,t){if(!this._intersectsLineEnabled)return;const i=B,n=G;if(this._intersectsLineInfinite){const t=e.camera;if(g(S(this._intersectsLineSegment.origin,this._intersectsLineSegment.vector),k),k.c0=-Number.MAX_VALUE,!P(t.frustum,k))return;u(k,i),b(k,n)}else a(i,this._intersectsLineSegment.origin),_(n,this._intersectsLineSegment.origin,this._intersectsLineSegment.vector);const s=this._tempVec3A;h(s,i,e.camera.viewMatrix),t.setUniform3fv(\"intersectsLineStart\",s);const r=this._tempVec4;a(r,this._intersectsLineSegment.vector),this._tempVec4[3]=0,m(this._tempVec4,this._tempVec4,e.camera.viewMatrix),h(n,n,e.camera.viewMatrix),t.setUniform3fv(\"intersectsLineEnd\",n),o(r,r),t.setUniform3f(\"intersectsLineDirection\",r[0],r[1],r[2]),t.setUniform1f(\"intersectsLineRadius\",this._intersectsLineRadius)}_bindGlobalUniforms(e,t){const i=e.camera;t.setUniform4fv(\"projInfo\",this._projInfo),t.setUniform2fv(\"zScale\",this._zScale),t.setUniform2f(\"nearFar\",i.near,i.far),this._heightManifoldEnabled?t.setUniform1f(\"maxPixelDistance\",2*i.computeScreenPixelSizeAt(this._heightManifoldTarget)):this._pointDistanceEnabled?t.setUniform1f(\"maxPixelDistance\",2*i.computeScreenPixelSizeAt(this._pointDistanceTarget)):this._lineVerticalPlaneEnabled&&t.setUniform1f(\"maxPixelDistance\",2*i.computeScreenPixelSizeAt(this._lineVerticalPlaneSegment.origin)),t.bindTexture(e.offscreenRenderingHelper.linearDepthTexture,\"depthMap\"),t.bindTexture(e.offscreenRenderingHelper.mainColorTexture,\"frameColor\")}_requestRender(){this._context&&this._context.requestRender()}_selectTechnique(){return this._techniqueConfig.heightManifoldEnabled=this.heightManifoldEnabled,this._techniqueConfig.lineVerticalPlaneEnabled=this.lineVerticalPlaneEnabled,this._techniqueConfig.pointDistanceEnabled=this.pointDistanceEnabled,this._techniqueConfig.intersectsLineEnabled=this.intersectsLineEnabled,this._techniqueConfig.contrastControlEnabled=this._config.contrastControlEnabled,this._technique=this._techniqueRepository.releaseAndAcquire(A,this._techniqueConfig,this._technique),this._technique}}const k=f(),B=d(),G=d();export{z as LaserLineRenderer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isSome as e,isNone as t}from\"../../../../core/maybe.js\";import{g as i}from\"../../../../chunks/vec3.js\";import{c as n,a as s}from\"../../../../chunks/vec3f64.js\";import{create as r,fromValues as h,copy as a}from\"../../../../geometry/support/lineSegment.js\";import{VisualElement as l}from\"./VisualElement.js\";import{LaserLineRenderer as c}from\"../../support/LaserLineRenderer.js\";import{d}from\"../../../../chunks/Laserlines.glsl.js\";class o extends l{constructor(e){super(e.view),this._angleCutoff=d,this._style={},this._heightManifoldTarget=n(),this._heightManifoldEnabled=!1,this._intersectsLine=r(),this._intersectsLineEnabled=!1,this._intersectsLineInfinite=!1,this._lineVerticalPlaneSegment=null,this._pathVerticalPlaneBuffers=null,this._pointDistanceLine=null,this.applyProps(e)}get testData(){return this.renderer}createResources(){this.ensureRenderer()}destroyResources(){this.disposeRenderer()}updateVisibility(){this.syncHeightManifold(),this.syncIntersectsLine(),this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance()}get angleCutoff(){return this._angleCutoff}set angleCutoff(e){this._angleCutoff!==e&&(this._angleCutoff=e,this.syncAngleCutoff())}get style(){return this._style}set style(e){this._style=e,this.syncStyle()}get heightManifoldTarget(){return this._heightManifoldEnabled?this._heightManifoldTarget:null}set heightManifoldTarget(t){e(t)?(i(this._heightManifoldTarget,t),this._heightManifoldEnabled=!0):this._heightManifoldEnabled=!1,this.syncRenderer(),this.syncHeightManifold()}set intersectsWorldUpAtLocation(e){if(t(e))return void(this.intersectsLine=null);const i=this.view.renderCoordsHelper.worldUpAtPosition(e,f);this.intersectsLine=h(e,i),this.intersectsLineInfinite=!0}get intersectsLine(){return this._intersectsLineEnabled?this._intersectsLine:null}set intersectsLine(t){e(t)?(a(t,this._intersectsLine),this._intersectsLineEnabled=!0):this._intersectsLineEnabled=!1,this.syncIntersectsLine(),this.syncRenderer()}get intersectsLineInfinite(){return this._intersectsLineInfinite}set intersectsLineInfinite(e){this._intersectsLineInfinite=e,this.syncIntersectsLineInfinite()}get lineVerticalPlaneSegment(){return this._lineVerticalPlaneSegment}set lineVerticalPlaneSegment(t){this._lineVerticalPlaneSegment=e(t)?a(t):null,this.syncLineVerticalPlane(),this.syncRenderer()}get pathVerticalPlane(){return this._pathVerticalPlaneBuffers}set pathVerticalPlane(e){this._pathVerticalPlaneBuffers=e,this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance(),this.syncRenderer()}get pointDistanceLine(){return this._pointDistanceLine}set pointDistanceLine(t){this._pointDistanceLine=e(t)?{origin:s(t.origin),target:s(t.target)}:null,this.syncPointDistance(),this.syncRenderer()}syncRenderer(){this.attached&&(this._intersectsLineEnabled||this._heightManifoldEnabled||e(this._pointDistanceLine)||e(this._pathVerticalPlaneBuffers))?this.ensureRenderer():this.disposeRenderer()}ensureRenderer(){e(this.renderer)||(this.renderer=new c(this.view.renderCoordsHelper,void 0,{contrastControlEnabled:!0}),this.syncStyle(),this.syncHeightManifold(),this.syncIntersectsLine(),this.syncIntersectsLineInfinite(),this.syncPathVerticalPlane(),this.syncLineVerticalPlane(),this.syncPointDistance(),this.syncAngleCutoff(),this.view._stage&&this.view._stage.addRenderPlugin(this.renderer.renderSlots,this.renderer))}syncStyle(){t(this.renderer)||(this.renderer.setParameters(this._style),null!=this._style.intersectsLineRadius&&(this.renderer.intersectsLineRadius=this._style.intersectsLineRadius))}syncAngleCutoff(){t(this.renderer)||this.renderer.setParameters({angleCutoff:this._angleCutoff})}syncHeightManifold(){t(this.renderer)||(this.renderer.heightManifoldEnabled=this._heightManifoldEnabled&&this.visible,this._heightManifoldEnabled&&(this.renderer.heightManifoldTarget=this._heightManifoldTarget))}syncIntersectsLine(){t(this.renderer)||(this.renderer.intersectsLineEnabled=this._intersectsLineEnabled&&this.visible,this._intersectsLineEnabled&&(this.renderer.intersectsLineSegment=this._intersectsLine))}syncIntersectsLineInfinite(){t(this.renderer)||(this.renderer.intersectsLineInfinite=this._intersectsLineInfinite)}syncPathVerticalPlane(){t(this.renderer)||(this.renderer.pathVerticalPlaneEnabled=e(this._pathVerticalPlaneBuffers)&&this.visible,e(this._pathVerticalPlaneBuffers)&&(this.renderer.pathVerticalPlaneBuffers=this._pathVerticalPlaneBuffers))}syncLineVerticalPlane(){t(this.renderer)||(this.renderer.lineVerticalPlaneEnabled=e(this._lineVerticalPlaneSegment)&&this.visible,e(this._lineVerticalPlaneSegment)&&(this.renderer.lineVerticalPlaneSegment=this._lineVerticalPlaneSegment))}syncPointDistance(){t(this.renderer)||(this.renderer.pointDistanceEnabled=e(this._pointDistanceLine)&&this.visible,e(this._pointDistanceLine)&&(this.renderer.pointDistanceOrigin=this._pointDistanceLine.origin,this.renderer.pointDistanceTarget=this._pointDistanceLine.target))}disposeRenderer(){e(this.renderer)&&this.view._stage&&(this.view._stage.removeRenderPlugin(this.renderer),this.renderer=null)}}const f=n();export{o as LaserlineVisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass t{constructor(t){this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t,this.view.watch(\"ready\",(t=>{this._resourcesCreated&&(t?this._createResources():this._destroyResources())}))}applyProps(t){let e=!1;for(const s in t)s in this?\"attached\"===s?e=t[s]:this[s]=t[s]:console.error(\"Cannot set unknown property\",s);this.attached=e}destroy(){this.attached=!1}get attached(){return this._attached}set attached(t){t!==this._attached&&this.view._stage&&(this._attached=t,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources())}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.attached&&this.updateVisibility(t))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.visible||this.updateVisibility(!1)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}}export{t as VisualElement};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{castRenderScreenPointArray3 as r}from\"../../../../core/screenUtils.js\";import{c as n}from\"../../../../chunks/vec2.js\";import{f as o,g as t,s as c}from\"../../../../chunks/vec3.js\";import{sv3d as i}from\"../../../../geometry/support/vectorStacks.js\";function s(e,n,o){return u(e,e.screenToRender(n,r(i.get())),o)}function u(t,c,s){const u=r(n(i.get(),c));if(u[2]=0,!t.unprojectFromRenderScreen(u,s.origin))return null;const m=r(n(i.get(),c));m[2]=1;const g=t.unprojectFromRenderScreen(m,i.get());return e(g)?null:(o(s.direction,g,s.origin),s)}function m(e,n,o){return g(e,e.screenToRender(n,r(i.get())),o)}function g(r,n,s){t(s.origin,r.eye);const u=c(i.get(),n[0],n[1],1),m=r.unprojectFromRenderScreen(u,i.get());return e(m)?null:(o(s.direction,m,s.origin),s)}export{u as fromRender,g as fromRenderAtEye,s as fromScreen,m as fromScreenAtEye};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function o(o){o.fragment.uniforms.add(\"projInfo\",\"vec4\"),o.fragment.uniforms.add(\"zScale\",\"vec2\"),o.fragment.code.add(e`vec3 reconstructPosition(vec2 fragCoord, float depth) {\nreturn vec3((fragCoord * projInfo.xy + projInfo.zw) * (zScale.x * depth + zScale.y), depth);\n}`)}export{o as CameraSpace};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{ReadLinearDepth as e}from\"./output/ReadLinearDepth.glsl.js\";import{CameraSpace as o}from\"./util/CameraSpace.glsl.js\";import{glsl as r}from\"../shaderModules/interfaces.js\";function a(a,t){a.extensions.add(\"GL_OES_standard_derivatives\"),a.fragment.include(e),a.include(o),a.fragment.uniforms.add(\"glowColor\",\"vec3\"),a.fragment.uniforms.add(\"glowWidth\",\"float\"),a.fragment.uniforms.add(\"glowFalloff\",\"float\"),a.fragment.uniforms.add(\"innerColor\",\"vec3\"),a.fragment.uniforms.add(\"innerWidth\",\"float\"),a.fragment.uniforms.add(\"depthMap\",\"sampler2D\"),a.fragment.uniforms.add(\"nearFar\",\"vec2\"),a.fragment.uniforms.add(\"frameColor\",\"sampler2D\"),t.contrastControlEnabled&&a.fragment.uniforms.add(\"globalAlphaContrastBoost\",\"float\"),a.fragment.code.add(r`vec4 blendPremultiplied(vec4 source, vec4 dest) {\nfloat oneMinusSourceAlpha = 1.0 - source.a;\nreturn vec4(\nsource.rgb + dest.rgb * oneMinusSourceAlpha,\nsource.a + dest.a * oneMinusSourceAlpha\n);\n}`),a.fragment.code.add(r`vec4 premultipliedColor(vec3 rgb, float alpha) {\nreturn vec4(rgb * alpha, alpha);\n}`),a.fragment.code.add(r`vec4 laserlineProfile(float dist) {\nif (dist > glowWidth) {\nreturn vec4(0.0);\n}\nfloat innerAlpha = (1.0 - smoothstep(0.0, innerWidth, dist));\nfloat glowAlpha = pow(max(0.0, 1.0 - dist / glowWidth), glowFalloff);\nreturn blendPremultiplied(\npremultipliedColor(innerColor, innerAlpha),\npremultipliedColor(glowColor, glowAlpha)\n);\n}`),a.fragment.code.add(r`bool laserlineReconstructFromDepth(out vec3 pos, out vec3 normal, out float depthDiscontinuityAlpha) {\nfloat depth = linearDepthFromTexture(depthMap, uv, nearFar);\nif (-depth == nearFar[0]) {\nreturn false;\n}\npos = reconstructPosition(gl_FragCoord.xy, depth);\nnormal = normalize(cross(dFdx(pos), dFdy(pos)));\nfloat ddepth = fwidth(depth);\ndepthDiscontinuityAlpha = 1.0 - smoothstep(0.0, 0.01, -ddepth / depth);\nreturn true;\n}`),t.contrastControlEnabled?a.fragment.code.add(r`float rgbToLuminance(vec3 color) {\nreturn dot(vec3(0.2126, 0.7152, 0.0722), color);\n}\nvec4 laserlineOutput(vec4 color) {\nfloat backgroundLuminance = rgbToLuminance(texture2D(frameColor, uv).rgb);\nfloat alpha = clamp(globalAlpha * max(backgroundLuminance * globalAlphaContrastBoost, 1.0), 0.0, 1.0);\nreturn color * alpha;\n}`):a.fragment.code.add(r`vec4 laserlineOutput(vec4 color) {\nreturn color * globalAlpha;\n}`)}export{a as Laserline};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function i(i){i.vertex.uniforms.add(\"camPos\",\"vec3\").add(\"perScreenPixelRatio\",\"float\").add(\"screenSize\",\"float\"),i.vertex.code.add(e`float computeRenderPixelSizeAt( vec3 pWorld ){\nvec3 viewForward = - vec3(view[0][2], view[1][2], view[2][2]);\nfloat viewDirectionDistance = abs(dot(viewForward, pWorld - camPos));\nreturn viewDirectionDistance*perScreenPixelRatio;\n}\nvec3 screenSizeScaling(vec3 position, vec3 anchor){\nreturn position * screenSize * computeRenderPixelSizeAt(anchor) + anchor;\n}`)}function r(e,i,r){e.setUniform1f(\"perScreenPixelRatio\",r.camera.perScreenPixelRatio),e.setUniform1f(\"screenSize\",i.screenSize)}export{i as ScreenSizeScaling,r as bindScreenSizeScalingUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../../chunks/tslib.es6.js\";import{c as r}from\"../../../../chunks/vec4f64.js\";import{bindScreenSizeScalingUniforms as i}from\"../core/shaderLibrary/ScreenSizeScaling.glsl.js\";import{bindSliceUniformsWithOrigin as t}from\"../core/shaderLibrary/Slice.glsl.js\";import{bindMultipassTerrainTexture as o}from\"../core/shaderLibrary/shading/MultipassTerrainTest.glsl.js\";import{bindProjectionMatrix as s,bindView as a,bindCameraPosition as n}from\"../core/shaderLibrary/util/View.glsl.js\";import{ReloadableShaderModule as l}from\"../core/shaderTechnique/ReloadableShaderModule.js\";import{ShaderTechnique as p}from\"../core/shaderTechnique/ShaderTechnique.js\";import{parameter as d,ShaderTechniqueConfiguration as c}from\"../core/shaderTechnique/ShaderTechniqueConfiguration.js\";import{blendingDefault as h,OITBlending as m,OITDepthWrite as u,OITPolygonOffset as g}from\"../lib/OrderIndependentTransparency.js\";import{Program as b}from\"../lib/Program.js\";import{S as f}from\"../../../../chunks/ShadedColorMaterial.glsl.js\";import{makePipelineState as v,cullingParams as y,defaultDepthWriteParams as T,defaultColorWriteParams as E}from\"../../../webgl/renderState.js\";class S extends p{initializeProgram(e){const r=S.shader.get(),i=this.configuration,t=r.build({output:i.output,slicePlaneEnabled:i.slicePlaneEnabled,sliceHighlightDisabled:!1,sliceEnabledForVertexPrograms:!1,screenSizeEnabled:i.screenSizeEnabled,shadingEnabled:i.shadingEnabled,OITEnabled:0===i.transparencyPassType,multipassTerrainEnabled:i.multipassTerrainEnabled,cullAboveGround:i.cullAboveGround});return new b(e.rctx,t,P)}bindPass(e,r){const{screenSizeEnabled:t,shadingEnabled:a}=this.configuration,{color:n,shadingTint:l,shadingDirection:p}=e;s(this.program,r.camera.projectionMatrix),this.program.setUniform4fv(\"color\",n),r.multipassTerrainEnabled&&(this.program.setUniform2fv(\"cameraNearFar\",r.camera.nearFar),this.program.setUniform2fv(\"inverseViewport\",r.inverseViewport),o(this.program,r)),a&&(this.program.setUniform4fv(\"shadedColor\",this.blendColor(w,l,n)),this.program.setUniform3fv(\"shadingDirection\",p),this.program.setUniformMatrix4fv(\"viewNormal\",r.camera.viewInverseTransposeMatrix)),t&&i(this.program,e,r)}bindDraw(e){a(this.program,e),n(this.program,e.origin,e.camera.viewInverseTransposeMatrix),t(this.program,this.configuration,e),this.program.rebindTextures()}blendColor(e,r,i){const t=1-r[3],o=r[3]+i[3]*t;return 0===o?(e[3]=o,e):(e[0]=(r[0]*r[3]+i[0]*i[3]*t)/o,e[1]=(r[1]*r[3]+i[1]*i[3]*t)/o,e[2]=(r[2]*r[3]+i[2]*i[3]*t)/o,e[3]=i[3],e)}setPipelineState(e){const r=this.configuration,i=3===e,t=2===e;return v({blending:0!==r.output&&7!==r.output||!r.transparent?null:i?h:m(e),culling:y(r.cullFace),depthTest:{func:t?513:r.shadingEnabled?515:513},depthWrite:i?r.writeDepth&&T:u(e),colorWrite:E,polygonOffset:i||t?null:g})}initializePipeline(){return this.setPipelineState(this.configuration.transparencyPassType)}}S.shader=new l(f,(()=>import(\"./ShadedColorMaterial.glsl.js\")));class j extends c{constructor(){super(...arguments),this.output=0,this.cullFace=0,this.slicePlaneEnabled=!1,this.transparent=!1,this.writeDepth=!0,this.screenSizeEnabled=!0,this.shadingEnabled=!0,this.transparencyPassType=3,this.multipassTerrainEnabled=!1,this.cullAboveGround=!1}}e([d({count:8})],j.prototype,\"output\",void 0),e([d({count:3})],j.prototype,\"cullFace\",void 0),e([d()],j.prototype,\"slicePlaneEnabled\",void 0),e([d()],j.prototype,\"transparent\",void 0),e([d()],j.prototype,\"writeDepth\",void 0),e([d()],j.prototype,\"screenSizeEnabled\",void 0),e([d()],j.prototype,\"shadingEnabled\",void 0),e([d({count:4})],j.prototype,\"transparencyPassType\",void 0),e([d()],j.prototype,\"multipassTerrainEnabled\",void 0),e([d()],j.prototype,\"cullAboveGround\",void 0);const P=new Map([[\"position\",0],[\"normal\",1],[\"offset\",2]]),w=r();export{S as ShadedColorMaterialTechnique,j as ShadedColorMaterialTechniqueConfiguration,P as ShadedColorMaterialVertexAttrLocations};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{n as e,s as t,a as r,b as s}from\"../../../../chunks/vec3.js\";import{c as i}from\"../../../../chunks/vec3f64.js\";import{center as a,scale as n}from\"../../../../geometry/support/aaBoundingBox.js\";import{BufferViewVec3f as o}from\"../../../../geometry/support/buffer/BufferView.js\";import{newLayout as u}from\"../../support/buffer/InterleavedLayout.js\";import c from\"../lib/GLMaterial.js\";import{outputFromPass as l}from\"../lib/GLMaterials.js\";import{materialParametersDefaults as f,Material as h}from\"../lib/Material.js\";import{assert as p}from\"../lib/Util.js\";import{writeDefaultAttributes as m,writePosition as d}from\"./internal/bufferWriterUtils.js\";import{intersectTriangleGeometry as b}from\"./internal/MaterialUtil.js\";import{ShadedColorMaterialTechniqueConfiguration as g,ShadedColorMaterialVertexAttrLocations as v,ShadedColorMaterialTechnique as E}from\"../shaders/ShadedColorMaterialTechnique.js\";class q extends h{constructor(e){super(e,C),this.supportsEdges=!0,this.techniqueConfig=new g,this._vertexAttributeLocations=v}getTechniqueConfig(e,t){return this.techniqueConfig.output=e,this.techniqueConfig.cullFace=this.parameters.cullFace,this.techniqueConfig.slicePlaneEnabled=this.parameters.slicePlaneEnabled,this.techniqueConfig.transparent=this.parameters.transparent,this.techniqueConfig.writeDepth=this.parameters.writeDepth,this.techniqueConfig.screenSizeEnabled=this.parameters.screenSizeEnabled,this.techniqueConfig.shadingEnabled=this.parameters.shadingEnabled,this.techniqueConfig.transparencyPassType=t.transparencyPassType,this.techniqueConfig.multipassTerrainEnabled=t.multipassTerrainEnabled,this.techniqueConfig.cullAboveGround=t.cullAboveGround,this.techniqueConfig}getPassParameters(){return this.parameters}intersect(e,i,o,u,c,l,f){if(this.parameters.screenSizeEnabled){const o=e.vertexAttributes.get(\"offset\"),h={applyToVertex:(e,i,a,n)=>{const c=t(z,o.data[3*n+0],o.data[3*n+1],o.data[3*n+2]),l=t(w,e,i,a);return r(c,c,this.parameters.screenSize*u.camera.computeRenderPixelSizeAt(c)),s(l,l,c),[l[0],l[1],l[2]]},applyToAabb:e=>{const t=a(e,z);return n(e,this.parameters.screenSize*u.camera.computeRenderPixelSizeAt(t))}};b(e,i,u,c,l,h,f)}else b(e,i,u,c,l,void 0,f)}requiresSlot(e,t){if(4===l(t))return 2===e;let r=2;return this.parameters.transparent&&(r=this.parameters.writeDepth?4:7),e===r||20===e}createGLMaterial(e){return 0===e.output||7===e.output||4===e.output?new S(e):null}createBufferWriter(){return new x(this.parameters.screenSizeEnabled)}}class S extends c{updateParameters(e){return this.ensureTechnique(E,e)}beginSlot(e){return this.updateParameters(e)}bind(e,t){t.bindPass(this._material.getPassParameters(),e)}}const C={color:[1,1,1,1],shadingTint:[0,0,0,.25],shadingDirection:e(i(),[.5,-.5,-.5]),transparent:!1,writeDepth:!0,slicePlaneEnabled:!1,cullFace:0,screenSizeEnabled:!1,screenSize:14,shadingEnabled:!0,...f};class x{constructor(e){this.screenSizeEnabled=e;const t=u().vec3f(\"position\").vec3f(\"normal\");this.screenSizeEnabled&&t.vec3f(\"offset\"),this.vertexBufferLayout=t}allocate(e){return this.vertexBufferLayout.createBuffer(e)}elementCount(e){return e.indices.get(\"position\").length}write(e,t,r,s){if(m(t,this.vertexBufferLayout,e.transformation,e.invTranspTransformation,r,s),this.screenSizeEnabled){if(!t.vertexAttributes.has(\"offset\"))throw new Error(\"offset vertex attribute required for screenSizeEnabled ShadedColorMaterial\");{const i=t.vertexAttributes.get(\"offset\"),a=t.indices.get(\"offset\");p(3===i.size);const n=r.getField(\"offset\",o);if(!n)throw new Error(\"unable to acquire view for offset\");d(a,i.data,e.invTranspTransformation,n,s)}}}}const z=i(),w=i();export{q as ShadedColorMaterial};\n"],"names":["a","t","o","include","e","vertex","uniforms","add","attributes","varyings","code","i","fragment","Object","freeze","__proto__","build","l","extensions","heightManifoldEnabled","pointDistanceEnabled","lineVerticalPlaneEnabled","intersectsLineEnabled","n","s","defaultAngleCutoff","c","linearDepth","r","multipassTerrainEnabled","screenSizeEnabled","shadingEnabled","d","output","OITEnabled","Y","this","camera","K","_elevation","offset","override","collisionType","type","collisionPriority","_renderObjects","autoScaleRenderObjects","_available","_noDisplayCount","_radius","_worldSized","focusMultiplier","touchMultiplier","worldOriented","_modelTransform","v","_worldFrame","_renderLocation","E","_renderLocationDirty","_location","X","x","y","z","_elevationAlignedLocation","_elevationAlignedLocationDirty","interactive","selectable","grabbable","cursor","_grabbing","dragging","_hovering","_selected","_state","_focused","events","_screenLocation","screenPointArray","renderScreenPointArray","pixelSize","_screenLocationDirty","_applyObjectTransform","_engineResourcesAddedToStage","_engineResources","_attached","_engineLayer","_materialIdReferences","spatialReference","view","state","copyFrom","_removeResourcesFromStage","_elevationInfo","_updateEngineObject","slice","remove","$","g","renderCoordsHelper","toRenderCoords","elevationAlignedLocation","viewingMode","p","P","ce","radius","k","ee","fromRenderCoords","Z","emit","location","_evaluateElevationAlignment","_updateElevationAlignedLocation","_setFocused","action","ensureScreenLocation","computeScreenPixelSizeAt","renderLocation","_calculateModelTransformOffset","_e","projectToRenderScreen","renderToScreen","available","te","_getCollisionRadius","b","screenLocation","paths","_getWorldToScreenObjectScale","_calculateObjectTransform","ne","J","se","length","L","le","B","ie","H","S","h","R","direction","A","u","oe","_","j","de","ue","V","ae","m","he","U","w","_calculateModelTransformPosition","C","manipulator3D","_stage","engineLayerId","Q","isPickable","updatePolicy","id","getObject","engineLayerReferences","materialIdReferences","Map","D","F","ge","I","extent","elevationInfo","mode","q","elevationProvider","_getFocusedSize","focused","_ensureEngineResources","objectsByState","selected","stateMask","objects","setVisible","transformation","Set","renderObjects","forEach","material","has","push","N","castShadow","geometry","transform","Array","isArray","addGeometry","get","set","layer","materials","_addResourcesToStage","addMany","removeMany","delete","re","O","T","f","isVisible","areAnyResourcesVisible","M","G","W","plane","screenStart","screenEnd","renderStart","renderEnd","ray","sceneIntersectionHelper","intersectElevationFromScreen","mapStart","mapEnd","toMap","next","worldUpAtPosition","eye","Math","sign","execute","disableDisplay","options","selectionMode","store","hud","requiresGroundFeedback","enableDraped","exclude","map","ground","opacity","intersectIntersectorScreen","results","min","getIntersectionPoint","intersector","surfaceType","color","transparent","writeDepth","cullFace","renderOccluded","atan2","getViewForGraphic","computeAttachmentOrigin","anchor","shader","configuration","rctx","attributeLocations","program","setUniform3fv","innerColor","setUniform1f","innerWidth","pixelRatio","glowColor","glowWidth","glowFalloff","globalAlpha","perScreenPixelRatio","setUniform2f","fullWidth","fullHeight","setUniformMatrix4fv","projectionMatrix","viewMatrix","contrastControlEnabled","globalAlphaContrastBoost","blending","colorWrite","arguments","prototype","_renderCoordsHelper","_buffers","_origin","_dirty","_count","_vao","Float64Array","buffers","floor","ensureVAO","bindVAO","drawArrays","dispose","createVAO","ensureVertexData","createDataBuffer","data","vertexBuffers","setData","reduce","numberOfRenderVertices","createBuffer","getAltitude","setAltitude","up","setVec","start","extrude","setValues","end","buffer","vec3f","vec2f","angleCutoff","cos","max","_config","_technique","_projInfo","_zScale","_heightManifoldEnabled","_heightManifoldTarget","_pointDistanceEnabled","_pointDistanceOrigin","_pointDistanceTarget","_lineVerticalPlaneEnabled","_lineVerticalPlaneSegment","_intersectsLineEnabled","_intersectsLineSegment","_intersectsLineRadius","_intersectsLineInfinite","_pathVerticalPlaneEnabled","_pathVerticalPlaneData","_pathTechnique","canRender","_tempNormal","_tempDir","_tempUp","_tempVec3A","_tempVec3B","_tempVec4","_tempPlane","_tempSphere","_params","_requestRender","vertices","pathVerticalPlaneEnabled","_context","renderContext","_quadVAO","_techniqueRepository","shaderTechniqueRep","_techniqueConfig","acquire","lineVerticalPlaneSegment","renderUnified","renderPath","_selectTechnique","useProgram","bindPipelineState","_bindGlobalUniforms","bindHeightManifoldUniforms","bindPointDistanceUniforms","bindLineVerticalPlaneUniforms","bindIntersectsLineUniforms","bind","origin","draw","setUniform4fv","setUniform4f","vector","c0","Number","MAX_VALUE","frustum","setUniform3f","setUniform2fv","near","far","bindTexture","offscreenRenderingHelper","linearDepthTexture","mainColorTexture","requestRender","releaseAndAcquire","_angleCutoff","_style","_intersectsLine","_pathVerticalPlaneBuffers","_pointDistanceLine","applyProps","renderer","ensureRenderer","disposeRenderer","syncHeightManifold","syncIntersectsLine","syncPathVerticalPlane","syncLineVerticalPlane","syncPointDistance","syncAngleCutoff","syncStyle","syncRenderer","intersectsLine","intersectsLineInfinite","syncIntersectsLineInfinite","target","attached","addRenderPlugin","renderSlots","setParameters","intersectsLineRadius","visible","heightManifoldTarget","intersectsLineSegment","pathVerticalPlaneBuffers","pointDistanceOrigin","pointDistanceTarget","removeRenderPlugin","_resourcesCreated","_visible","watch","_createResources","_destroyResources","console","error","updateVisibility","createResources","destroyResources","unprojectFromRenderScreen","screenToRender","screenSize","slicePlaneEnabled","sliceHighlightDisabled","sliceEnabledForVertexPrograms","transparencyPassType","cullAboveGround","shadingTint","shadingDirection","nearFar","inverseViewport","blendColor","viewInverseTransposeMatrix","rebindTextures","culling","depthTest","func","depthWrite","polygonOffset","setPipelineState","count","supportsEdges","techniqueConfig","_vertexAttributeLocations","parameters","vertexAttributes","applyToVertex","computeRenderPixelSizeAt","applyToAabb","ensureTechnique","updateParameters","bindPass","_material","getPassParameters","vertexBufferLayout","indices","invTranspTransformation","Error","size","getField"],"sourceRoot":""}