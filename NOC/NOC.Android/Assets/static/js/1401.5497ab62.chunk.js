"use strict";(self.webpackChunketihadrailapp=self.webpackChunketihadrailapp||[]).push([[1401],{79347:function(t,e,n){n.d(e,{e:function(){return a}});var r,i,h,s={exports:{}};r=s,i=function(){function t(t,n,i){i=i||2;var h,s,a,u,c,l,f,x=n&&n.length,d=x?n[0]*i:t.length,_=e(t,0,d,i,!0),p=[];if(!_||_.next===_.prev)return p;if(x&&(_=o(t,n,_,i)),t.length>80*i){h=a=t[0],s=u=t[1];for(var v=i;v<d;v+=i)(c=t[v])<h&&(h=c),(l=t[v+1])<s&&(s=l),c>a&&(a=c),l>u&&(u=l);f=0!==(f=Math.max(a-h,u-s))?1/f:0}return r(_,p,i,h,s,f),p}function e(t,e,n,r,i){var h,s;if(i===S(t,e,n,r)>0)for(h=e;h<n;h+=r)s=F(h,t[h],t[h+1],s);else for(h=n-r;h>=e;h-=r)s=F(h,t[h],t[h+1],s);if(s&&T(s,s.next)){var a=s.next;R(s),s=a}return s}function n(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!T(r,r.next)&&0!==m(r.prev,r,r.next))r=r.next;else{var i=r.prev;if(R(r),(r=e=i)===r.next)break;n=!0}}while(n||r!==e);return e}function r(t,e,o,u,c,l,f){if(t){!f&&l&&x(t,u,c,l);for(var d,_,p=t;t.prev!==t.next;)if(d=t.prev,_=t.next,l?h(t,u,c,l):i(t))e.push(d.i/o),e.push(t.i/o),e.push(_.i/o),R(t),t=_.next,p=_.next;else if((t=_)===p){f?1===f?r(t=s(n(t),e,o),e,o,u,c,l,2):2===f&&a(t,e,o,u,c,l):r(n(t),e,o,u,c,l,1);break}}}function i(t){var e=t.prev,n=t,r=t.next;if(m(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(p(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&m(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function h(t,e,n,r){var i=t.prev,h=t,s=t.next;if(m(i,h,s)>=0)return!1;for(var a=i.x<h.x?i.x<s.x?i.x:s.x:h.x<s.x?h.x:s.x,o=i.y<h.y?i.y<s.y?i.y:s.y:h.y<s.y?h.y:s.y,u=i.x>h.x?i.x>s.x?i.x:s.x:h.x>s.x?h.x:s.x,c=i.y>h.y?i.y>s.y?i.y:s.y:h.y>s.y?h.y:s.y,l=d(a,o,e,n,r),f=d(u,c,e,n,r),x=t.prevZ,_=t.nextZ;x&&x.z>=l&&_&&_.z<=f;){if(x!==t.prev&&x!==t.next&&p(i.x,i.y,h.x,h.y,s.x,s.y,x.x,x.y)&&m(x.prev,x,x.next)>=0)return!1;if(x=x.prevZ,_!==t.prev&&_!==t.next&&p(i.x,i.y,h.x,h.y,s.x,s.y,_.x,_.y)&&m(_.prev,_,_.next)>=0)return!1;_=_.nextZ}for(;x&&x.z>=l;){if(x!==t.prev&&x!==t.next&&p(i.x,i.y,h.x,h.y,s.x,s.y,x.x,x.y)&&m(x.prev,x,x.next)>=0)return!1;x=x.prevZ}for(;_&&_.z<=f;){if(_!==t.prev&&_!==t.next&&p(i.x,i.y,h.x,h.y,s.x,s.y,_.x,_.y)&&m(_.prev,_,_.next)>=0)return!1;_=_.nextZ}return!0}function s(t,e,r){var i=t;do{var h=i.prev,s=i.next.next;!T(h,s)&&g(h,i,i.next,s)&&A(h,s)&&A(s,h)&&(e.push(h.i/r),e.push(i.i/r),e.push(s.i/r),R(i),R(i.next),i=t=s),i=i.next}while(i!==t);return n(i)}function a(t,e,i,h,s,a){var o=t;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&v(o,u)){var c=b(o,u);return o=n(o,o.next),c=n(c,c.next),r(o,e,i,h,s,a),void r(c,e,i,h,s,a)}u=u.next}o=o.next}while(o!==t)}function o(t,r,i,h){var s,a,o,c=[];for(s=0,a=r.length;s<a;s++)(o=e(t,r[s]*h,s<a-1?r[s+1]*h:t.length,h,!1))===o.next&&(o.steiner=!0),c.push(_(o));for(c.sort(u),s=0;s<c.length;s++)i=n(i=l(c[s],i),i.next);return i}function u(t,e){return t.x-e.x}function c(t){if(t.next.prev===t)return t;for(var e=t;;){var n=e.next;if(n.prev===e||n===e||n===t)break;e=n}return e}function l(t,e){var r=function(t,e){var n,r=e,i=t.x,h=t.y,s=-1/0;do{if(h<=r.y&&h>=r.next.y&&r.next.y!==r.y){var a=r.x+(h-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=i&&a>s){if(s=a,a===i){if(h===r.y)return r;if(h===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===s)return n;var o,u=n,c=n.x,l=n.y,x=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&p(h<l?i:s,h,c,l,h<l?s:i,h,r.x,r.y)&&(o=Math.abs(h-r.y)/(i-r.x),A(r,t)&&(o<x||o===x&&(r.x>n.x||r.x===n.x&&f(n,r)))&&(n=r,x=o)),r=r.next}while(r!==u);return n}(t,e);if(!r)return e;var i=b(r,t),h=n(r,r.next),s=c(i);return n(s,s.next),h=c(h),c(e===r?h:e)}function f(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function x(t,e,n,r){var i=t;do{if(null===i.z&&(i.z=d(i.x,i.y,e,n,r)),i.prev.next!==i||i.next.prev!==i)return i.prev.next=i,i.next.prev=i,x(t,e,n,r);i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,h,s,a,o,u=1;do{for(n=t,t=null,h=null,s=0;n;){for(s++,r=n,a=0,e=0;e<u&&(a++,r=r.nextZ);e++);for(o=u;a>0||o>0&&r;)0!==a&&(0===o||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,o--),h?h.nextZ=i:t=i,i.prevZ=h,h=i;n=r}h.nextZ=null,u*=2}while(s>1)}(i)}function d(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function _(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function p(t,e,n,r,i,h,s,a){return(i-s)*(e-a)-(t-s)*(h-a)>=0&&(t-s)*(r-a)-(n-s)*(e-a)>=0&&(n-s)*(h-a)-(i-s)*(r-a)>=0}function v(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&g(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(A(t,e)&&A(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,h=(t.y+e.y)/2;do{n.y>h!=n.next.y>h&&n.next.y!==n.y&&i<(n.next.x-n.x)*(h-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||T(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function T(t,e){return t.x===e.x&&t.y===e.y}function g(t,e,n,r){var i=y(m(t,e,n)),h=y(m(t,e,r)),s=y(m(n,r,t)),a=y(m(n,r,e));return i!==h&&s!==a||!(0!==i||!E(t,n,e))||!(0!==h||!E(t,r,e))||!(0!==s||!E(n,t,r))||!(0!==a||!E(n,e,r))}function E(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function y(t){return t>0?1:t<0?-1:0}function A(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function b(t,e){var n=new N(t.i,t.x,t.y),r=new N(e.i,e.x,e.y),i=t.next,h=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,h.next=r,r.prev=h,r}function F(t,e,n,r){var i=new N(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function R(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function N(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S(t,e,n,r){for(var i=0,h=e,s=n-r;h<n;h+=r)i+=(t[s]-t[h])*(t[h+1]+t[s+1]),s=h;return i}return t.deviation=function(t,e,n,r){var i=e&&e.length,h=i?e[0]*n:t.length,s=Math.abs(S(t,0,h,n));if(i)for(var a=0,o=e.length;a<o;a++){var u=e[a]*n,c=a<o-1?e[a+1]*n:t.length;s-=Math.abs(S(t,u,c,n))}var l=0;for(a=0;a<r.length;a+=3){var f=r[a]*n,x=r[a+1]*n,d=r[a+2]*n;l+=Math.abs((t[f]-t[d])*(t[x+1]-t[f+1])-(t[f]-t[x])*(t[d+1]-t[f+1]))}return 0===s&&0===l?0:Math.abs((l-s)/s)},t.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var h=0;h<t[i].length;h++)for(var s=0;s<e;s++)n.vertices.push(t[i][h][s]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n},t},void 0!==(h=i())&&(r.exports=h);var a=s.exports},151:function(t,e,n){function r(){return new Float32Array(4)}function i(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}function h(t,e,n,r){var i=new Float32Array(4);return i[0]=t,i[1]=e,i[2]=n,i[3]=r,i}function s(){return r()}function a(){return h(1,1,1,1)}function o(){return h(1,0,0,0)}function u(){return h(0,1,0,0)}function c(){return h(0,0,1,0)}function l(){return h(0,0,0,1)}n.d(e,{a:function(){return i},c:function(){return r},f:function(){return h}});var f=s(),x=a(),d=o(),_=u(),p=c(),v=l();Object.freeze({__proto__:null,create:r,clone:i,fromValues:h,createView:function(t,e){return new Float32Array(t,e,4)},zeros:s,ones:a,unitX:o,unitY:u,unitZ:c,unitW:l,ZEROS:f,ONES:x,UNIT_X:d,UNIT_Y:_,UNIT_Z:p,UNIT_W:v})},53634:function(t,e,n){n.d(e,{Z:function(){return d}});var r=n(1413),i=n(15671),h=n(43144),s=n(32718),a=n(92026),o=n(37825),u=n(8548),c=n(15880),l=n(51378),f=n(3384),x=s.Z.getLogger("esri.views.webgl.FrameBufferObject"),d=function(){function t(e,n){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if((0,i.Z)(this,t),this._context=e,this._glName=null,this._depthAttachment=null,this._stencilAttachment=null,this._colorAttachments=new Map,this._initialized=!1,this._desc=(0,r.Z)({},n),e.instanceCounter.increment(u._g.Framebuffer,this),(0,a.pC)(h)){Array.isArray(h)||(h=[h]);for(var o=0;o<h.length;++o){var f,x,d=h[o],p=void 0;_(d)?(p=d.descriptor,this._colorAttachments.set(36064+o,d)):(p=d,this._colorAttachments.set(36064+o,new l.Z(e,d))),0!==(null==(f=this._desc)?void 0:f.colorTarget)&&2!==(null==(x=this._desc)?void 0:x.colorTarget)&&console.error("Framebuffer is initialized with a texture however the descriptor indicates using a renderbuffer color attachment!"),this._validateColorAttachmentPoint(36064+o),this._validateTextureDimensions(p,this._desc)}}if(s instanceof c.Z){var m,T=null!=(m=this._desc.depthStencilTarget)?m:3;2===T?this._stencilAttachment=s:1===T||3===T?this._depthAttachment=s:console.error('If a Renderbuffer is provided, "depthStencilTarget" must be one of STENCIL_RENDER_BUFFER, DEPTH_RENDER_BUFFER or DEPTH_STENCIL_RENDER_BUFFER'),v(s.descriptor,this._desc)}else if((0,a.pC)(s)){var g;this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!"),_(s)?(this._depthStencilTexture=s,g=s.descriptor):this._depthStencilTexture=new l.Z(this._context,s),this._validateTextureDimensions(g,this._desc)}}return(0,h.Z)(t,[{key:"dispose",value:function(){if(this._desc){var t=this._context.getBoundFramebufferObject();this._disposeColorAttachments(),this._disposeDepthStencilAttachments(),this._glName&&(this._context.gl.deleteFramebuffer(this._glName),this._glName=null),this._context.bindFramebuffer(t),this._context.instanceCounter.decrement(u._g.Framebuffer,this),this._desc=null}}},{key:"glName",get:function(){return this._glName}},{key:"descriptor",get:function(){return this._desc}},{key:"colorTexture",get:function(){var t=this._colorAttachments.get(36064);return t&&_(t)?t:null}},{key:"colorAttachment",get:function(){return this._colorAttachments.get(36064)}},{key:"depthStencilAttachment",get:function(){return this._depthStencilTexture||this._depthAttachment||this._stencilAttachment}},{key:"depthStencilTexture",get:function(){return this._depthStencilTexture}},{key:"width",get:function(){return this._desc.width}},{key:"height",get:function(){return this._desc.height}},{key:"gpuMemoryUsage",get:function(){return(0,f.un)(this.colorAttachment)+(0,f.un)(this.depthStencilAttachment)}},{key:"getColorTexture",value:function(t){var e=this._colorAttachments.get(t);return e&&_(e)?e:null}},{key:"framebufferTexture2D",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:36064,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3553,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;e.framebufferTexture2D(e.FRAMEBUFFER,n,r,t,i)}},{key:"attachColorTexture",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:36064;if(t){this._validateColorAttachmentPoint(e);var n=t.descriptor;this._validateTextureDimensions(n,this._desc),this._disposeColorAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this.framebufferTexture2D(t.glName,this._context.gl,e)),this._colorAttachments.set(e,t)}}},{key:"detachColorTexture",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:36064,e=this._colorAttachments.get(t);if(_(e)){var n=e;return this._initialized&&(this._context.bindFramebuffer(this),this.framebufferTexture2D(null,this._context.gl,t)),this._colorAttachments.delete(t),n}}},{key:"attachDepthStencilTexture",value:function(t){if(!(0,a.Wi)(t)){var e=t.descriptor;34041!==e.pixelFormat&&console.error("Depth/Stencil texture must have a pixel type of DEPTH_STENCIL!"),34042!==e.dataType&&console.error("Depth/Stencil texture must have data type of UNSIGNED_INT_24_8!"),this._context.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture!"),this._validateTextureDimensions(e,this._desc),this._desc.depthStencilTarget&&4!==this._desc.depthStencilTarget&&(this._desc.depthStencilTarget=4),this._disposeDepthStencilAttachments(),this._initialized&&(this._context.bindFramebuffer(this),this.framebufferTexture2D(t.glName,this._context.gl,u.Lu)),this._depthStencilTexture=t}}},{key:"detachDepthStencilTexture",value:function(){var t=this._depthStencilTexture;return t&&this._initialized&&(this._context.bindFramebuffer(this),this.framebufferTexture2D(null,this._context.gl,u.Lu)),this._depthStencilTexture=null,t}},{key:"attachDepthStencilBuffer",value:function(t){if(!(0,a.Wi)(t)){var e=t.descriptor;if(34041!==e.internalFormat&&33189!==e.internalFormat&&console.error("Depth/Stencil buffer must have correct internalFormat"),v(e,this._desc),this._disposeDepthStencilAttachments(),this._desc.depthStencilTarget=34041===e.internalFormat?3:1,this._initialized){this._context.bindFramebuffer(this);var n=this._context.gl,r=1===this._desc.depthStencilTarget?n.DEPTH_ATTACHMENT:n.DEPTH_STENCIL_ATTACHMENT;n.framebufferRenderbuffer(n.FRAMEBUFFER,r,n.RENDERBUFFER,t.glName)}this._depthAttachment=t}}},{key:"detachDepthStencilBuffer",value:function(){var t=this._context.gl,e=this._depthAttachment;if(e&&this._initialized){this._context.bindFramebuffer(this);var n=1===this._desc.depthStencilTarget?t.DEPTH_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT;t.framebufferRenderbuffer(t.FRAMEBUFFER,n,t.RENDERBUFFER,null)}return this._depthAttachment=null,e}},{key:"detachAll",value:function(){this.detachColorTexture(),this.detachDepthStencilBuffer(),this.detachDepthStencilTexture()}},{key:"copyToTexture",value:function(t,e,n,r,i,h,s){(t<0||e<0||i<0||h<0)&&console.error("Offsets cannot be negative!"),(n<=0||r<=0)&&console.error("Copy width and height must be greater than zero!");var a=this._desc,o=s.descriptor;3553!==s.descriptor.target&&console.error("Texture target must be TEXTURE_2D!"),(t+n>a.width||e+r>a.height||i+n>o.width||h+r>o.height)&&console.error("Bad dimensions, the current input values will attempt to read or copy out of bounds!");var u=this._context,c=u.bindTexture(s,l.Z.TEXTURE_UNIT_FOR_UPDATES);u.bindFramebuffer(this),u.gl.copyTexSubImage2D(3553,0,i,h,t,e,n,r),u.bindTexture(c,l.Z.TEXTURE_UNIT_FOR_UPDATES)}},{key:"readPixels",value:function(t,e,n,r,i,h,s){(n<=0||r<=0)&&console.error("Copy width and height must be greater than zero!"),s||console.error("Target memory is not initialized!"),this._context.bindFramebuffer(this),this._context.gl.readPixels(t,e,n,r,i,h,s)}},{key:"resize",value:function(t,e){var n=this._desc;if(n.width!==t||n.height!==e){if(!this._initialized)return n.width=t,n.height=e,this._colorAttachments.forEach((function(n){n&&n.resize(t,e)})),void(this._depthStencilTexture&&this._depthStencilTexture.resize(t,e));n.width=t,n.height=e,this._colorAttachments.forEach((function(n){n&&n.resize(t,e)})),null!=this._depthStencilTexture?this._depthStencilTexture.resize(t,e):(this._depthAttachment||this._stencilAttachment)&&(this._depthAttachment&&this._depthAttachment.resize(t,e),this._stencilAttachment&&this._stencilAttachment.resize(t,e)),this._context.getBoundFramebufferObject()===this&&this._context.bindFramebuffer(null),this._initialized=!1}}},{key:"initializeAndBind",value:function(){var t,e,n,r,i=this,h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3553,s=this._context.gl;if(this._initialized)s.bindFramebuffer(s.FRAMEBUFFER,this.glName);else{this._glName&&s.deleteFramebuffer(this._glName);var a=this._context,u=s.createFramebuffer(),f=this._desc,x=null!=(t=f.colorTarget)?t:1,d=null!=(e=f.width)?e:1,v=null!=(n=f.height)?n:1;if(s.bindFramebuffer(s.FRAMEBUFFER,u),0===this._colorAttachments.size)if(0===x)this._colorAttachments.set(36064,p(a,f,2===this.descriptor.colorTarget?34067:3553));else{var m=new c.Z(a,{internalFormat:32854,width:d,height:v});this._colorAttachments.set(36064,m)}this._colorAttachments.forEach((function(t,e){t&&(_(t)?i.framebufferTexture2D(t.glName,s,e,h):s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,t.glName))}));var T=null!=(r=f.depthStencilTarget)?r:0;switch(T){case 1:case 3:this._depthAttachment||(this._depthAttachment=new c.Z(a,{internalFormat:1===f.depthStencilTarget?33189:34041,width:d,height:v}));var g=1===T?s.DEPTH_ATTACHMENT:s.DEPTH_STENCIL_ATTACHMENT;s.framebufferRenderbuffer(s.FRAMEBUFFER,g,s.RENDERBUFFER,this._depthAttachment.glName);break;case 2:this._stencilAttachment||(this._stencilAttachment=new c.Z(a,{internalFormat:36168,width:d,height:v})),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.STENCIL_ATTACHMENT,s.RENDERBUFFER,this._stencilAttachment.glName);break;case 4:if(!this._depthStencilTexture){a.capabilities.depthTexture||console.error("Extension WEBGL_depth_texture isn't supported therefore it is no possible to set the depth/stencil texture as an attachment!");var E={target:3553,pixelFormat:34041,dataType:34042,samplingMode:9728,wrapMode:33071,width:d,height:v};this._depthStencilTexture=new l.Z(a,E)}this.framebufferTexture2D(this._depthStencilTexture.glName,s,s.DEPTH_STENCIL_ATTACHMENT,h)}(0,o.CG)()&&s.checkFramebufferStatus(s.FRAMEBUFFER)!==s.FRAMEBUFFER_COMPLETE&&console.error("Framebuffer is incomplete!"),this._glName=u,this._initialized=!0}}},{key:"_disposeColorAttachments",value:function(){var t=this;this._colorAttachments.forEach((function(e,n){if(_(e))t._initialized&&(t._context.bindFramebuffer(t),t.framebufferTexture2D(null,t._context.gl,n)),e.dispose();else if(e instanceof WebGLRenderbuffer){var r=t._context.gl;t._initialized&&(t._context.bindFramebuffer(t),r.framebufferRenderbuffer(r.FRAMEBUFFER,n,r.RENDERBUFFER,null)),t._context.gl.deleteRenderbuffer(e)}})),this._colorAttachments.clear()}},{key:"_disposeDepthStencilAttachments",value:function(){var t=this._context.gl;if(this._depthAttachment){if(this._initialized){this._context.bindFramebuffer(this);var e=1===this._desc.depthStencilTarget?t.DEPTH_ATTACHMENT:t.DEPTH_STENCIL_ATTACHMENT;t.framebufferRenderbuffer(t.FRAMEBUFFER,e,t.RENDERBUFFER,null)}this._depthAttachment.dispose(),this._depthAttachment=null}this._stencilAttachment&&(this._initialized&&(this._context.bindFramebuffer(this),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.STENCIL_ATTACHMENT,t.RENDERBUFFER,null)),this._stencilAttachment.dispose(),this._stencilAttachment=null),this._depthStencilTexture&&(this._initialized&&(this._context.bindFramebuffer(this),this.framebufferTexture2D(null,t,t.DEPTH_STENCIL_ATTACHMENT)),this._depthStencilTexture.dispose(),this._depthStencilTexture=null)}},{key:"_validateTextureDimensions",value:function(t,e){3553!==t.target&&34067!==t.target&&console.error("Texture type must be TEXTURE_2D or TEXTURE_CUBE_MAP!"),void 0!==e.width&&e.width>=0&&void 0!==e.height&&e.height>=0?e.width===t.width&&e.height===t.height||console.error("Color attachment texture must match the framebuffer's!"):(e.width=t.width,e.height=t.height)}},{key:"_validateColorAttachmentPoint",value:function(e){if(-1===t._MAX_COLOR_ATTACHMENTS){var n=this._context.capabilities.drawBuffers;if(n){var r=this._context.gl;t._MAX_COLOR_ATTACHMENTS=r.getParameter(n.MAX_COLOR_ATTACHMENTS)}else t._MAX_COLOR_ATTACHMENTS=1}var i=e-36064;i+1>t._MAX_COLOR_ATTACHMENTS&&x.error("esri.FrameBufferObject","illegal attachment point for color attachment: ".concat(i+1,". Implementation supports up to ").concat(t._MAX_COLOR_ATTACHMENTS," color attachments"))}}]),t}();function _(t){return"type"in t&&"texture"===t.type}function p(t,e,n){return new l.Z(t,{target:n,pixelFormat:6408,dataType:5121,samplingMode:9728,wrapMode:33071,width:e.width,height:e.height})}function v(t,e){void 0!==e.width&&e.width>=0&&void 0!==e.height&&e.height>=0?e.width===t.width&&e.height===t.height||console.error("Renderbuffer dimensions must match the framebuffer's!"):(e.width=t.width,e.height=t.height)}d._MAX_COLOR_ATTACHMENTS=-1},15880:function(t,e,n){n.d(e,{Z:function(){return s}});var r=n(15671),i=n(43144),h=n(8548),s=function(){function t(e,n){(0,r.Z)(this,t),this._context=e,this._desc=n,this._context.instanceCounter.increment(h._g.Renderbuffer,this);var i=this._context.gl;this.glName=i.createRenderbuffer(),this._context.bindRenderbuffer(this),i.renderbufferStorage(i.RENDERBUFFER,n.internalFormat,n.width,n.height)}return(0,i.Z)(t,[{key:"descriptor",get:function(){return this._desc}},{key:"resize",value:function(t,e){var n=this._desc;if(n.width!==t||n.height!==e){n.width=t,n.height=e;var r=this._context.gl;this._context.bindRenderbuffer(this),r.renderbufferStorage(r.RENDERBUFFER,n.internalFormat,n.width,n.height)}}},{key:"dispose",value:function(){this._context&&(this._context.gl.deleteRenderbuffer(this.glName),this._context.instanceCounter.decrement(h._g.Renderbuffer,this),this._context=null)}}]),t}()}}]);
//# sourceMappingURL=1401.5497ab62.chunk.js.map