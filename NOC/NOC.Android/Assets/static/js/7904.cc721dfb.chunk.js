"use strict";(self.webpackChunketihadrailapp=self.webpackChunketihadrailapp||[]).push([[7904],{80573:function(e,t,n){n.d(t,{Z:function(){return d}});var i=n(15671),r=n(43144),o=n(60136),s=n(29388),a=n(27366),l=n(85015),c=n(79056),u=n(49861),h=(n(63780),n(93169),n(25243),n(69912)),p=0,v=function(e){(0,o.Z)(n,e);var t=(0,s.Z)(n);function n(e){var r;return(0,i.Z)(this,n),(r=t.call(this,e)).id="".concat(Date.now().toString(16),"-analysis-").concat(p++),r.title=null,r.parent=null,r.visible=!0,r}return(0,r.Z)(n,[{key:"cloneBaseAnalysisProperties",value:function(){return{title:this.title,visible:this.visible}}}]),n}((0,c.I)(l.Z));(0,a._)([(0,u.Cb)({type:String,constructOnly:!0})],v.prototype,"id",void 0),(0,a._)([(0,u.Cb)({type:String})],v.prototype,"title",void 0),(0,a._)([(0,u.Cb)({readOnly:!0})],v.prototype,"type",void 0),(0,a._)([(0,u.Cb)()],v.prototype,"parent",void 0),(0,a._)([(0,u.Cb)({readOnly:!0})],v.prototype,"extent",void 0),(0,a._)([(0,u.Cb)({type:Boolean})],v.prototype,"visible",void 0);var d=v=(0,a._)([(0,h.j)("esri.analysis.Analysis")],v)},38316:function(e,t,n){n.d(t,{Z:function(){return w}});var i,r=n(11186),o=n(71353),s=n(2170),a=n(80885),l=n(60176),c=n(78952),u=n(15559),h=n(80064);!function(e){e.boundingSphere=function(e,t){var n=t.center;(0,r.s)(n,0,0,0);for(var i=0;i<e.length;++i)(0,r.b)(n,n,e[i]);(0,r.a)(n,n,1/e.length);for(var o=0,s=0;s<e.length;++s)o=Math.max(o,(0,r.h)(n,e[s]));t.radius=Math.sqrt(o)},e.bestFitPlane=function(e,t){if(e.length<3)throw new Error("need at least 3 points to fit a plane");(0,h.pG)(e[0],e[1],e[2],t)},e.planePointDistance=function(e,t){return(0,r.d)(e,t)+e[3]},e.segmentLengthEuclidean=function(e,t,n){return(0,l.KC)(e,p,n)&&(0,l.KC)(t,v,n)?(0,r.i)(p,v):0},e.segmentLengthGeodesic=function(e,t){if(!(0,l.UY)(e,p)||!(0,l.UY)(t,v))return 0;var n={distance:null};return(0,u.cA)(n,[p[0],p[1]],[v[0],v[1]]),n.distance},e.segmentLengthGeodesicVector=function(e,t,n){var i={distance:null};return(0,u.cA)(i,[e[0],e[1]],[t[0],t[1]],n),i.distance},e.triangleAreaEuclidean=function(e,t,n){var i=t[0]-e[0],r=t[1]-e[1],o=n[0]-e[0],s=n[1]-e[1];return.5*Math.abs(i*s-r*o)},e.triangleAreaGeodesic=function(e,t,n,i){var r=f;return(0,l.ke)(e,i,p)&&(0,l.ke)(t,i,v)&&(0,l.ke)(n,i,d)?(r.setPoint(0,0,p),r.setPoint(0,1,v),r.setPoint(0,2,d),Math.abs((0,s.geodesicArea)(r,"square-meters"))):0},e.tangentFrame=function(e,t,n){Math.abs(e[0])>Math.abs(e[1])?(0,r.s)(t,0,1,0):(0,r.s)(t,1,0,0),(0,r.c)(n,e,t),(0,r.n)(t,t),(0,r.c)(t,n,e),(0,r.n)(n,n)},e.fitHemisphere=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=1e-6,o=function(e,t){if(0===t[0]&&0===t[1]&&0===t[2])return!1;for(var n=0;n<e.length;++n)if((0,r.d)(t,e[n])<-i)return!1;return!0};if(0===e.length)return!1;if(1===e.length)return t&&(0,r.g)(t,e[0]),!0;(0,r.s)(y,0,0,0);for(var s=0;s<e.length;++s)(0,r.b)(y,y,e[s]);if((0,r.n)(y,y),o(e,y))return t&&(0,r.g)(t,y),!0;if(!n)return!1;for(var a=0;a<e.length;++a)for(var l=0;l<e.length;++l)if(a!==l&&((0,r.c)(y,e[a],e[l]),(0,r.n)(y,y),o(e,y)))return t&&(0,r.g)(t,y),!0;return!1},e.compareSets=function(e,t){if(e===t)return!0;if(e.size!==t.size)return!1;for(var n=0;n<e.size;++n)if(!t.has(e[n]))return!1;return!0},e.isPrimaryPointerAction=function(e){return"mouse"!==e.pointerType||0===e.button}}(i||(i={}));var p=(0,o.c)(),v=(0,o.c)(),d=(0,o.c)(),f=new a.Z({rings:[[p,v,d]],spatialReference:c.Z.WGS84}),y=(0,o.c)(),w=i},82232:function(e,t,n){n.d(t,{gh:function(){return l},Vl:function(){return h},B$:function(){return c}});var i=n(1413),r=n(84652),o=n(17842),s=(n(14226),n(88396)),a=(n(11186),n(71353));(0,a.c)();function l(e,t){return(0,i.Z)((0,i.Z)({},e),(0,r.d9)(t))}function c(e,t,n,i){for(;e.length<t;)e.push(n());if(i)for(;e.length>t;)i(e.pop());else e.length=t}function u(e,t,n){var i=n.state.camera;n.renderCoordsHelper.toRenderCoords(e,p),i.projectToRenderScreen(p,v),n.state.camera.renderToScreen(v,t)}function h(e,t,n){return u(e,d,n),u(t,f,n),(0,s.b)(d,f)}var p=(0,a.c)(),v=(0,o.J$)(),d=((0,o.J$)(),(0,o.J$)(),(0,o.s1)(),(0,o.s1)()),f=(0,o.s1)()},32845:function(e,t,n){n.d(t,{V:function(){return C}});var i=n(1413),r=n(15861),o=n(37762),s=n(15671),a=n(43144),l=n(60136),c=n(29388),u=n(87757),h=n(27366),p=n(85015),v=n(10064),d=n(100),f=n(92026),y=n(66978),w=n(94172),_=n(49861),b=(n(63780),n(93169),n(25243),n(69912)),g=n(39965),C=function(e){(0,l.Z)(n,e);var t=(0,c.Z)(n);function n(e){var i;return(0,s.Z)(this,n),(i=t.call(this,e)).analysis=null,i.tool=null,i._baseHandles=new d.Z,i._loggedUnsupportedErrorOnce=!1,i._reconnectViewTask=null,i._isAnalysisOwner=!0,i._parentChangeFromReconnect=!1,i._toolCreationTask=null,e&&null!=e.visible&&(i.visible=e.visible),i}return(0,a.Z)(n,[{key:"initialize",value:function(){var e=this;this._baseHandles.add([(0,w.Ym)((function(){return{ready:(0,f.pC)(e.view)&&e.view.ready,supported:e.supported}}),(function(t){var n=t.ready,i=t.supported;!n||i||e._loggedUnsupportedErrorOnce||(e.logError(e.unsupportedErrorMessage),e._loggedUnsupportedErrorOnce=!0),e._scheduleViewReconnect()}),w.tX),(0,w.Ym)((function(){return(0,f.pC)(e.analysis)?e.analysis.parent:null}),(function(t){e._isAnalysisOwner&&(0,f.pC)(t)&&t!==e.view&&(e._isAnalysisOwner=!1),e._parentChangeFromReconnect||e._scheduleViewReconnect()}),{sync:!0})])}},{key:"destroy",value:function(){this.removeTool(),this._reconnectViewTask=(0,f.IM)(this._reconnectViewTask),this._disconnectFromView(this.view),this.view=null,this._baseHandles=(0,f.SC)(this._baseHandles),this._isAnalysisOwner&&(0,f.pC)(this.analysis)&&(this.analysis.destroy(),this._set("analysis",null))}},{key:"supported",get:function(){return(0,f.Wi)(this.view)||this.view.type===this.supportedViewType}},{key:"view",get:function(){return this._get("view")},set:function(e){var t=this;if(e!==this.view){this._disconnectFromView(this.view),this.removeTool(),this._set("view",e);var n="tools";this._baseHandles.remove(n),(0,f.Wi)(e)||this._baseHandles.add(e.tools.on("change",(function(e){if(t.tool){var n,i=(0,o.Z)(e.removed);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(t.tool===r){r.destroyed||r.destroy(),t._set("tool",null);break}}}catch(s){i.e(s)}finally{i.f()}}})),n)}}},{key:"visible",set:function(e){this._set("visible",e),(0,f.pC)(this.tool)&&(this.tool.visible=e),e||(this._toolCreationTask=(0,f.IM)(this._toolCreationTask))}},{key:"active",get:function(){return(0,f.pC)(this._toolCreationTask)&&!this._toolCreationTask.finished||(0,f.pC)(this.tool)&&this.tool.active}},{key:"disabled",get:function(){return(0,f.Wi)(this.view)||!this.view.ready||!this.supported}},{key:"creatingTool",get:function(){return(0,f.pC)(this._toolCreationTask)&&!this._toolCreationTask.finished}},{key:"onConnectToAnalysisView",value:function(e){}},{key:"onDisconnectFromAnalysisView",value:function(){}},{key:"createTool",value:function(){var e=(0,r.Z)(u.mark((function e(){var t,n,o=this;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="Tool creation was interrupted by another tool being created.",(0,f.pC)(this.tool)&&this.tool.rejectCreation(t),this.removeTool(),!(0,f.Wi)(this.view)&&this.supported){e.next=3;break}return e.abrupt("return",Promise.reject(new v.Z("tool:create","The view does not support the tool.",this.unsupportedErrorMessage)));case 3:return this._toolCreationTask=(0,y.vr)(function(){var e=(0,r.Z)(u.mark((function e(n){var r,s,a;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.Wg)(o.view).whenReady();case 2:return(0,y.k_)(n,t),r=o.createToolParams(),s=(0,g.J1)(r.constructorArguments),(0,f.pC)(o.analysis)&&(s.analysis=o.analysis),a=new r.toolConstructor((0,i.Z)((0,i.Z)({visible:o.visible},s),{},{view:o.view})),e.next=8,a.whenCreationStarted();case 8:return(0,y.Hc)(n)&&a.rejectCreation(t),(0,y.k_)(n,t),e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=6,this._toolCreationTask.promise;case 6:n=e.sent,this._set("tool",n),n.completed?this.view.tools.add(n):(this.view.addAndActivateTool(n),(0,w.zF)((function(){return n.completed}),(function(){n.active&&(0,f.pC)(o.view)&&(o.view.activeTool=null)}),{initial:!0,once:!0}));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeTool",value:function(){this._toolCreationTask=(0,f.IM)(this._toolCreationTask),(0,f.Wi)(this.tool)||((0,f.pC)(this.view)&&this.view.tools&&this.view.tools.remove(this.tool),this.tool.rejectCreation("Rejecting creation because tool is removed."),this.tool.destroyed||this.tool.destroy(),this._set("tool",null))}},{key:"_scheduleViewReconnect",value:function(){var e=this;this._reconnectViewTask=(0,f.IM)(this._reconnectViewTask),this._reconnectViewTask=(0,y.vr)((function(t){return e._reconnectView(t)}))}},{key:"_reconnectView",value:function(){var e=(0,r.Z)(u.mark((function e(t){var n,i,r;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,f.pC)(this.view)&&this.view.ready&&this.supported,!(0,y.Hc)(t)){e.next=3;break}return e.abrupt("return");case 3:if(this._disconnectFromView(this.view),n&&!(0,f.Wi)(this.view)){e.next=5;break}return e.abrupt("return");case 5:if(i=this.view,!(0,f.pC)(this.analysis)){e.next=19;break}if(!this._isAnalysisOwner){e.next=11;break}if(!(0,f.pC)(this.analysis.parent)){e.next=10;break}return e.abrupt("return",void this.logError("expected owned analysis to have null parent when connecting to view"));case 10:this._parentChangeFromReconnect=!0,i.analyses.add(this.analysis),this._parentChangeFromReconnect=!1;case 11:return e.next=13,i.whenAnalysisView(this.analysis);case 13:if(r=e.sent,!(0,y.Hc)(t)){e.next=16;break}return e.abrupt("return",void this._disconnectFromView(i));case 16:if(!(0,f.Wi)(r)){e.next=18;break}return e.abrupt("return",void this.logError("Unable to retrieve analysis view for analysis. Analysis may not be part of the scene."));case 18:this.onConnectToAnalysisView(r);case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_disconnectFromView",value:function(e){(0,f.pC)(this.analysis)&&((0,f.pC)(e)&&this._isAnalysisOwner&&(this._parentChangeFromReconnect=!0,e.analyses.remove(this.analysis),this._parentChangeFromReconnect=!1),this.onDisconnectFromAnalysisView())}},{key:"logError",value:function(){var e;(e=this.logger).error.apply(e,arguments)}}]),n}(p.Z);(0,h._)([(0,_.Cb)({constructOnly:!0})],C.prototype,"analysis",void 0),(0,h._)([(0,_.Cb)({constructOnly:!0})],C.prototype,"tool",void 0),(0,h._)([(0,_.Cb)()],C.prototype,"supported",null),(0,h._)([(0,_.Cb)({value:null})],C.prototype,"view",null),(0,h._)([(0,_.Cb)({type:Boolean,value:!0})],C.prototype,"visible",null),(0,h._)([(0,_.Cb)()],C.prototype,"active",null),(0,h._)([(0,_.Cb)()],C.prototype,"disabled",null),(0,h._)([(0,_.Cb)()],C.prototype,"_toolCreationTask",void 0),(0,h._)([(0,_.Cb)({readOnly:!0})],C.prototype,"creatingTool",null),C=(0,h._)([(0,b.j)("esri.widgets.support.InteractiveToolViewModel")],C)}}]);
//# sourceMappingURL=7904.cc721dfb.chunk.js.map