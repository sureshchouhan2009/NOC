{"version":3,"file":"static/js/6888.b3441ddc.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/support/requestImageUtils.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/ForwardLinearDepth.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/attributes/VerticalOffset.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/AnalyticalSkyModel.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PhysicallyBasedRendering.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/PiUtils.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/ReadShadowMap.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/shading/VisualVariables.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/core/shaderLibrary/util/ScreenSizePerspective.glsl.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/GLMaterialTexture.js","../node_modules/@arcgis/core/libs/basisu/BasisU.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/BasisUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/DDSUtil.js","../node_modules/@arcgis/core/views/3d/webgl-engine/lib/Texture.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../request.js\";async function t(t,r){const{data:a}=await e(t,{responseType:\"image\",...r});return a}export{t as requestImage};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../shaderModules/interfaces.js\";function a(a,r){0===r.output&&r.receiveShadows?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.code.add(e`void forwardLinearDepth() { linearDepth = gl_Position.w; }`)):1===r.output||3===r.output?(a.varyings.add(\"linearDepth\",\"float\"),a.vertex.uniforms.add(\"cameraNearFar\",\"vec2\"),a.vertex.code.add(e`void forwardLinearDepth() {\nlinearDepth = (-position_view().z - cameraNearFar[0]) / (cameraNearFar[1] - cameraNearFar[0]);\n}`)):a.vertex.code.add(e`void forwardLinearDepth() {}`)}export{a as ForwardLinearDepth};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{ScreenSizePerspective as e}from\"../util/ScreenSizePerspective.glsl.js\";import{glsl as r}from\"../../shaderModules/interfaces.js\";function t(t,l){const c=t.vertex.code;l.verticalOffsetEnabled?(t.vertex.uniforms.add(\"verticalOffset\",\"vec4\"),l.screenSizePerspectiveEnabled&&(t.include(e),t.vertex.uniforms.add(\"screenSizePerspectiveAlignment\",\"vec4\")),c.add(r`\n    vec3 calculateVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      float viewDistance = length((view * vec4(worldPos, 1.0)).xyz);\n      ${1===l.viewingMode?r`vec3 worldNormal = normalize(worldPos + localOrigin);`:r`vec3 worldNormal = vec3(0.0, 0.0, 1.0);`}\n      ${l.screenSizePerspectiveEnabled?r`\n          float cosAngle = dot(worldNormal, normalize(worldPos - camPos));\n          float verticalOffsetScreenHeight = screenSizePerspectiveScaleFloat(verticalOffset.x, abs(cosAngle), viewDistance, screenSizePerspectiveAlignment);`:r`\n          float verticalOffsetScreenHeight = verticalOffset.x;`}\n      // Screen sized offset in world space, used for example for line callouts\n      float worldOffset = clamp(verticalOffsetScreenHeight * verticalOffset.y * viewDistance, verticalOffset.z, verticalOffset.w);\n      return worldNormal * worldOffset;\n    }\n\n    vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) {\n      return worldPos + calculateVerticalOffset(worldPos, localOrigin);\n    }\n    `)):c.add(r`vec3 addVerticalOffset(vec3 worldPos, vec3 localOrigin) { return worldPos; }`)}function l(e,r,t){if(!r.verticalOffset)return;const l=c(r.verticalOffset,t.camera.fovY,t.camera.fullViewport[3]),i=t.camera.pixelRatio||1;e.setUniform4f(\"verticalOffset\",l.screenLength*i,l.perDistance,l.minWorldLength,l.maxWorldLength)}function c(e,r,t,l=i){return l.screenLength=e.screenLength,l.perDistance=Math.tan(.5*r)/(.5*t),l.minWorldLength=e.minWorldLength,l.maxWorldLength=e.maxWorldLength,l}const i={screenLength:0,perDistance:0,minWorldLength:0,maxWorldLength:0};export{t as VerticalOffset,l as bindVerticalOffsetUniforms,c as calculateVerticalOffsetFactors};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){const a=t.fragment.code;a.add(e`vec3 evaluateDiffuseIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float NdotNG)\n{\nreturn ((1.0 - NdotNG) * ambientGround + (1.0 + NdotNG) * ambientSky) * 0.5;\n}`),a.add(e`float integratedRadiance(float cosTheta2, float roughness)\n{\nreturn (cosTheta2 - 1.0) / (cosTheta2 * (1.0 - roughness * roughness) - 1.0);\n}`),a.add(e`vec3 evaluateSpecularIlluminationHemisphere(vec3 ambientGround, vec3 ambientSky, float RdotNG, float roughness)\n{\nfloat cosTheta2 = 1.0 - RdotNG * RdotNG;\nfloat intRadTheta = integratedRadiance(cosTheta2, roughness);\nfloat ground = RdotNG < 0.0 ? 1.0 - intRadTheta : 1.0 + intRadTheta;\nfloat sky = 2.0 - ground;\nreturn (ground * ambientGround + sky * ambientSky) * 0.5;\n}`)}export{t as AnalyticalSkyModel};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{AnalyticalSkyModel as e}from\"./AnalyticalSkyModel.glsl.js\";import{PiUtils as o}from\"./PiUtils.glsl.js\";import{glsl as t}from\"../../shaderModules/interfaces.js\";function a(a,n){const r=a.fragment.code;a.include(o),3===n.pbrMode||4===n.pbrMode?(r.add(t`\n    struct PBRShadingWater\n    {\n        float NdotL;   // cos angle between normal and light direction\n        float NdotV;   // cos angle between normal and view direction\n        float NdotH;   // cos angle between normal and half vector\n        float VdotH;   // cos angle between view direction and half vector\n        float LdotH;   // cos angle between light direction and half vector\n        float VdotN;   // cos angle between view direction and normal vector\n    };\n\n    float dtrExponent = ${n.useCustomDTRExponentForWater?\"2.2\":\"2.0\"};\n    `),r.add(t`vec3 fresnelReflection(float angle, vec3 f0, float f90) {\nreturn f0 + (f90 - f0) * pow(1.0 - angle, 5.0);\n}`),r.add(t`float normalDistributionWater(float NdotH, float roughness)\n{\nfloat r2 = roughness * roughness;\nfloat NdotH2 = NdotH * NdotH;\nfloat denom = pow((NdotH2 * (r2 - 1.0) + 1.0), dtrExponent) * PI;\nreturn r2 / denom;\n}`),r.add(t`float geometricOcclusionKelemen(float LoH)\n{\nreturn 0.25 / (LoH * LoH);\n}`),r.add(t`vec3 brdfSpecularWater(in PBRShadingWater props, float roughness, vec3 F0, float F0Max)\n{\nvec3  F = fresnelReflection(props.VdotH, F0, F0Max);\nfloat dSun = normalDistributionWater(props.NdotH, roughness);\nfloat V = geometricOcclusionKelemen(props.LdotH);\nfloat diffusionSunHaze = mix(roughness + 0.045, roughness + 0.385, 1.0 - props.VdotH);\nfloat strengthSunHaze  = 1.2;\nfloat dSunHaze = normalDistributionWater(props.NdotH, diffusionSunHaze)*strengthSunHaze;\nreturn ((dSun + dSunHaze) * V) * F;\n}\nvec3 tonemapACES(const vec3 x) {\nreturn (x * (2.51 * x + 0.03)) / (x * (2.43 * x + 0.59) + 0.14);\n}`)):1!==n.pbrMode&&2!==n.pbrMode||(a.include(e),r.add(t`struct PBRShadingInfo\n{\nfloat NdotL;\nfloat NdotV;\nfloat NdotH;\nfloat VdotH;\nfloat LdotH;\nfloat NdotNG;\nfloat RdotNG;\nfloat NdotAmbDir;\nfloat NdotH_Horizon;\nvec3 skyRadianceToSurface;\nvec3 groundRadianceToSurface;\nvec3 skyIrradianceToSurface;\nvec3 groundIrradianceToSurface;\nfloat averageAmbientRadiance;\nfloat ssao;\nvec3 albedoLinear;\nvec3 f0;\nvec3 f90;\nvec3 diffuseColor;\nfloat metalness;\nfloat roughness;\n};`),r.add(t`float normalDistribution(float NdotH, float roughness)\n{\nfloat a = NdotH * roughness;\nfloat b = roughness / (1.0 - NdotH * NdotH + a * a);\nreturn b * b * INV_PI;\n}`),r.add(t`const vec4 c0 = vec4(-1.0, -0.0275, -0.572,  0.022);\nconst vec4 c1 = vec4( 1.0,  0.0425,  1.040, -0.040);\nconst vec2 c2 = vec2(-1.04, 1.04);\nvec2 prefilteredDFGAnalytical(float roughness, float NdotV) {\nvec4 r = roughness * c0 + c1;\nfloat a004 = min(r.x * r.x, exp2(-9.28 * NdotV)) * r.x + r.y;\nreturn c2 * a004 + r.zw;\n}`),r.add(t`vec3 evaluateEnvironmentIllumination(PBRShadingInfo inputs) {\nvec3 indirectDiffuse = evaluateDiffuseIlluminationHemisphere(inputs.groundIrradianceToSurface, inputs.skyIrradianceToSurface, inputs.NdotNG);\nvec3 indirectSpecular = evaluateSpecularIlluminationHemisphere(inputs.groundRadianceToSurface, inputs.skyRadianceToSurface, inputs.RdotNG, inputs.roughness);\nvec3 diffuseComponent = inputs.diffuseColor * indirectDiffuse * INV_PI;\nvec2 dfg = prefilteredDFGAnalytical(inputs.roughness, inputs.NdotV);\nvec3 specularColor = inputs.f0 * dfg.x + inputs.f90 * dfg.y;\nvec3 specularComponent = specularColor * indirectSpecular;\nreturn (diffuseComponent + specularComponent);\n}`),r.add(t`float gamutMapChanel(float x, vec2 p){\nreturn (x < p.x) ? mix(0.0, p.y, x/p.x) : mix(p.y, 1.0, (x - p.x) / (1.0 - p.x) );\n}`),r.add(t`vec3 blackLevelSoftCompression(vec3 inColor, PBRShadingInfo inputs){\nvec3 outColor;\nvec2 p = vec2(0.02 * (inputs.averageAmbientRadiance), 0.0075 * (inputs.averageAmbientRadiance));\noutColor.x = gamutMapChanel(inColor.x, p) ;\noutColor.y = gamutMapChanel(inColor.y, p) ;\noutColor.z = gamutMapChanel(inColor.z, p) ;\nreturn outColor;\n}`))}export{a as PhysicallyBasedRendering};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as o}from\"../../shaderModules/interfaces.js\";function t(t){t.vertex.code.add(o`const float PI = 3.141592653589793;`),t.fragment.code.add(o`const float PI = 3.141592653589793;\nconst float LIGHT_NORMALIZATION = 1.0 / PI;\nconst float INV_PI = 0.3183098861837907;\nconst float HALF_PI = 1.570796326794897;`)}export{t as PiUtils};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{RgbaFloatEncoding as a}from\"../util/RgbaFloatEncoding.glsl.js\";import{glsl as e}from\"../../shaderModules/interfaces.js\";function t(t){t.fragment.include(a),t.fragment.uniforms.add(\"uShadowMapTex\",\"sampler2D\"),t.fragment.uniforms.add(\"uShadowMapNum\",\"int\"),t.fragment.uniforms.add(\"uShadowMapDistance\",\"vec4\"),t.fragment.uniforms.add(\"uShadowMapMatrix\",\"mat4\",4),t.fragment.uniforms.add(\"uDepthHalfPixelSz\",\"float\"),t.fragment.code.add(e`int chooseCascade(float _linearDepth, out mat4 mat) {\nvec4 distance = uShadowMapDistance;\nfloat depth = _linearDepth;\nint i = depth < distance[1] ? 0 : depth < distance[2] ? 1 : depth < distance[3] ? 2 : 3;\nmat = i == 0 ? uShadowMapMatrix[0] : i == 1 ? uShadowMapMatrix[1] : i == 2 ? uShadowMapMatrix[2] : uShadowMapMatrix[3];\nreturn i;\n}\nvec3 lightSpacePosition(vec3 _vpos, mat4 mat) {\nvec4 lv = mat * vec4(_vpos, 1.0);\nlv.xy /= lv.w;\nreturn 0.5 * lv.xyz + vec3(0.5);\n}\nvec2 cascadeCoordinates(int i, vec3 lvpos) {\nreturn vec2(float(i - 2 * (i / 2)) * 0.5, float(i / 2) * 0.5) + 0.5 * lvpos.xy;\n}\nfloat readShadowMapDepth(vec2 uv, sampler2D _depthTex) {\nreturn rgba2float(texture2D(_depthTex, uv));\n}\nfloat posIsInShadow(vec2 uv, vec3 lvpos, sampler2D _depthTex) {\nreturn readShadowMapDepth(uv, _depthTex) < lvpos.z ? 1.0 : 0.0;\n}\nfloat filterShadow(vec2 uv, vec3 lvpos, float halfPixelSize, sampler2D _depthTex) {\nfloat texSize = 0.5 / halfPixelSize;\nvec2 st = fract((vec2(halfPixelSize) + uv) * texSize);\nfloat s00 = posIsInShadow(uv + vec2(-halfPixelSize, -halfPixelSize), lvpos, _depthTex);\nfloat s10 = posIsInShadow(uv + vec2(halfPixelSize, -halfPixelSize), lvpos, _depthTex);\nfloat s11 = posIsInShadow(uv + vec2(halfPixelSize, halfPixelSize), lvpos, _depthTex);\nfloat s01 = posIsInShadow(uv + vec2(-halfPixelSize, halfPixelSize), lvpos, _depthTex);\nreturn mix(mix(s00, s10, st.x), mix(s01, s11, st.x), st.y);\n}\nfloat readShadowMap(const in vec3 _vpos, float _linearDepth) {\nmat4 mat;\nint i = chooseCascade(_linearDepth, mat);\nif (i >= uShadowMapNum) { return 0.0; }\nvec3 lvpos = lightSpacePosition(_vpos, mat);\nif (lvpos.z >= 1.0) { return 0.0; }\nif (lvpos.x < 0.0 || lvpos.x > 1.0 || lvpos.y < 0.0 || lvpos.y > 1.0) { return 0.0; }\nvec2 uv = cascadeCoordinates(i, lvpos);\nreturn filterShadow(uv, lvpos, uDepthHalfPixelSz, uShadowMapTex);\n}`)}function o(a,e){e.shadowMappingEnabled&&(e.shadowMap.bind(a),e.shadowMap.bindView(a,e.origin))}function i(a,e,t){e.shadowMappingEnabled&&e.shadowMap.bindView(a,t)}function l(a,e){e.shadowMappingEnabled&&e.shadowMap.bindView(a,e.origin)}export{t as ReadShadowMap,o as bindReadShadowMapUniforms,l as bindReadShadowMapView,i as bindReadShadowMapViewCustomOrigin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as v}from\"../../shaderModules/interfaces.js\";function e(e,o){o.vvInstancingEnabled&&(o.vvSize||o.vvColor)&&e.attributes.add(\"instanceFeatureAttribute\",\"vec4\"),o.vvSize?(e.vertex.uniforms.add(\"vvSizeMinSize\",\"vec3\"),e.vertex.uniforms.add(\"vvSizeMaxSize\",\"vec3\"),e.vertex.uniforms.add(\"vvSizeOffset\",\"vec3\"),e.vertex.uniforms.add(\"vvSizeFactor\",\"vec3\"),e.vertex.uniforms.add(\"vvSymbolRotationMatrix\",\"mat3\"),e.vertex.uniforms.add(\"vvSymbolAnchor\",\"vec3\"),e.vertex.code.add(v`vec3 vvScale(vec4 _featureAttribute) {\nreturn clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize, vvSizeMaxSize);\n}\nvec4 vvTransformPosition(vec3 position, vec4 _featureAttribute) {\nreturn vec4(vvSymbolRotationMatrix * ( vvScale(_featureAttribute) * (position + vvSymbolAnchor)), 1.0);\n}`),e.vertex.code.add(v`\n      const float eps = 1.192092896e-07;\n      vec4 vvTransformNormal(vec3 _normal, vec4 _featureAttribute) {\n        vec3 vvScale = clamp(vvSizeOffset + _featureAttribute.x * vvSizeFactor, vvSizeMinSize + eps, vvSizeMaxSize);\n        return vec4(vvSymbolRotationMatrix * _normal / vvScale, 1.0);\n      }\n\n      ${o.vvInstancingEnabled?v`\n      vec4 vvLocalNormal(vec3 _normal) {\n        return vvTransformNormal(_normal, instanceFeatureAttribute);\n      }\n\n      vec4 localPosition() {\n        return vvTransformPosition(position, instanceFeatureAttribute);\n      }`:\"\"}\n    `)):e.vertex.code.add(v`vec4 localPosition() { return vec4(position, 1.0); }\nvec4 vvLocalNormal(vec3 _normal) { return vec4(_normal, 1.0); }`),o.vvColor?(e.vertex.constants.add(\"vvColorNumber\",\"int\",8),e.vertex.code.add(v`\n      uniform float vvColorValues[vvColorNumber];\n      uniform vec4 vvColorColors[vvColorNumber];\n\n      vec4 vvGetColor(vec4 featureAttribute, float values[vvColorNumber], vec4 colors[vvColorNumber]) {\n        float value = featureAttribute.y;\n        if (value <= values[0]) {\n          return colors[0];\n        }\n\n        for (int i = 1; i < vvColorNumber; ++i) {\n          if (values[i] >= value) {\n            float f = (value - values[i-1]) / (values[i] - values[i-1]);\n            return mix(colors[i-1], colors[i], f);\n          }\n        }\n        return colors[vvColorNumber - 1];\n      }\n\n      ${o.vvInstancingEnabled?v`\n      vec4 vvColor() {\n        return vvGetColor(instanceFeatureAttribute, vvColorValues, vvColorColors);\n      }`:\"\"}\n    `)):e.vertex.code.add(v`vec4 vvColor() { return vec4(1.0); }`)}function o(v,e){e.vvSizeEnabled&&(v.setUniform3fv(\"vvSizeMinSize\",e.vvSizeMinSize),v.setUniform3fv(\"vvSizeMaxSize\",e.vvSizeMaxSize),v.setUniform3fv(\"vvSizeOffset\",e.vvSizeOffset),v.setUniform3fv(\"vvSizeFactor\",e.vvSizeFactor)),e.vvColorEnabled&&(v.setUniform1fv(\"vvColorValues\",e.vvColorValues),v.setUniform4fv(\"vvColorColors\",e.vvColorColors))}function r(v,e){o(v,e),e.vvOpacityEnabled&&(v.setUniform1fv(\"vvOpacityValues\",e.vvOpacityValues),v.setUniform1fv(\"vvOpacityOpacities\",e.vvOpacityOpacities))}function t(v,e){o(v,e),e.vvSizeEnabled&&(v.setUniform3fv(\"vvSymbolAnchor\",e.vvSymbolAnchor),v.setUniformMatrix3fv(\"vvSymbolRotationMatrix\",e.vvSymbolRotationMatrix))}export{e as VisualVariables,o as bindVisualVariablesUniforms,t as bindVisualVariablesUniformsForSymbols,r as bindVisualVariablesUniformsWithOpacity};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{glsl as e}from\"../../shaderModules/interfaces.js\";import{bindScreenSizePerspective as a}from\"../../../materials/internal/MaterialUtil.js\";function r(a){a.vertex.code.add(e`float screenSizePerspectiveMinSize(float size, vec4 factor) {\nfloat nonZeroSize = 1.0 - step(size, 0.0);\nreturn (\nfactor.z * (\n1.0 +\nnonZeroSize *\n2.0 * factor.w / (\nsize + (1.0 - nonZeroSize)\n)\n)\n);\n}`),a.vertex.code.add(e`float screenSizePerspectiveViewAngleDependentFactor(float absCosAngle) {\nreturn absCosAngle * absCosAngle * absCosAngle;\n}`),a.vertex.code.add(e`vec4 screenSizePerspectiveScaleFactor(float absCosAngle, float distanceToCamera, vec4 params) {\nreturn vec4(\nmin(params.x / (distanceToCamera - params.y), 1.0),\nscreenSizePerspectiveViewAngleDependentFactor(absCosAngle),\nparams.z,\nparams.w\n);\n}`),a.vertex.code.add(e`float applyScreenSizePerspectiveScaleFactorFloat(float size, vec4 factor) {\nreturn max(mix(size * factor.x, size, factor.y), screenSizePerspectiveMinSize(size, factor));\n}`),a.vertex.code.add(e`float screenSizePerspectiveScaleFloat(float size, float absCosAngle, float distanceToCamera, vec4 params) {\nreturn applyScreenSizePerspectiveScaleFactorFloat(\nsize,\nscreenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params)\n);\n}`),a.vertex.code.add(e`vec2 applyScreenSizePerspectiveScaleFactorVec2(vec2 size, vec4 factor) {\nreturn mix(size * clamp(factor.x, screenSizePerspectiveMinSize(size.y, factor) / size.y, 1.0), size, factor.y);\n}`),a.vertex.code.add(e`vec2 screenSizePerspectiveScaleVec2(vec2 size, float absCosAngle, float distanceToCamera, vec4 params) {\nreturn applyScreenSizePerspectiveScaleFactorVec2(size, screenSizePerspectiveScaleFactor(absCosAngle, distanceToCamera, params));\n}`)}function c(e,r){if(r.screenSizePerspective){a(r.screenSizePerspective,e,\"screenSizePerspective\");const c=r.screenSizePerspectiveAlignment||r.screenSizePerspective;a(c,e,\"screenSizePerspectiveAlignment\")}}export{r as ScreenSizePerspective,c as bindScreenSizePerspectiveUniforms};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{releaseMaybe as e,isNone as t,isSome as i}from\"../../../../core/maybe.js\";import s from\"./GLMaterial.js\";class r extends s{constructor(e){super(e),this._numLoading=0,this._disposed=!1,this._textureRepository=e.textureRep,this._textureId=e.textureId,this._acquire(e.textureId).then((e=>this._texture=e)),this._acquire(e.normalTextureId).then((e=>this._textureNormal=e)),this._acquire(e.emissiveTextureId).then((e=>this._textureEmissive=e)),this._acquire(e.occlusionTextureId).then((e=>this._textureOcclusion=e)),this._acquire(e.metallicRoughnessTextureId).then((e=>this._textureMetallicRoughness=e))}dispose(){this._texture=e(this._texture),this._textureNormal=e(this._textureNormal),this._textureEmissive=e(this._textureEmissive),this._textureOcclusion=e(this._textureOcclusion),this._textureMetallicRoughness=e(this._textureMetallicRoughness),this._disposed=!0}ensureResources(e){return 0===this._numLoading?2:1}updateTexture(i){(t(this._texture)||i!==this._texture.id)&&(this._texture=e(this._texture),this._textureId=i,this._acquire(this._textureId).then((e=>this._texture=e)))}bindTextures(e){i(this._texture)&&e.bindTexture(this._texture.glTexture,\"tex\"),i(this._textureNormal)&&e.bindTexture(this._textureNormal.glTexture,\"normalTexture\"),i(this._textureEmissive)&&e.bindTexture(this._textureEmissive.glTexture,\"texEmission\"),i(this._textureOcclusion)&&e.bindTexture(this._textureOcclusion.glTexture,\"texOcclusion\"),i(this._textureMetallicRoughness)&&e.bindTexture(this._textureMetallicRoughness.glTexture,\"texMetallicRoughness\")}bindTextureScale(e){const t=i(this._texture)?this._texture.glTexture:null;i(t)&&t.descriptor.textureCoordinateScaleFactor?e.setUniform2fv(\"textureCoordinateScaleFactor\",t.descriptor.textureCoordinateScaleFactor):e.setUniform2f(\"textureCoordinateScaleFactor\",1,1)}_acquire(i){return t(i)?Promise.resolve(null):(++this._numLoading,this._textureRepository.acquire(i).then((t=>this._disposed?(e(t),null):t)).finally((()=>--this._numLoading)))}}export{r as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{getAssetUrl as e}from\"../../assets.js\";import{isNone as t}from\"../../core/maybe.js\";function s(){if(t(i)){const t=t=>e(`esri/libs/basisu/${t}`);i=import(\"../../chunks/basis_transcoder.js\").then((e=>e.b)).then((({default:e})=>e({locateFile:t}).then((e=>(e.initializeBasis(),delete e.then,e)))))}return i}let i;export{s as getBasisTranscoder};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{isNone as e}from\"../../../../core/maybe.js\";import{getBasisTranscoder as t}from\"../../../../libs/basisu/BasisU.js\";import n from\"../../../webgl/Texture.js\";import{getBytesPerElementFormat as r}from\"../../../webgl/Util.js\";let s=null,i=null;async function a(){return e(i)&&(i=t(),s=await i),i}function o(t,n){if(e(s))return t.byteLength;const r=new s.BasisFile(new Uint8Array(t)),i=c(r)?l(r.getNumLevels(0),r.getHasAlpha(),r.getImageWidth(0,0),r.getImageHeight(0,0),n):0;return r.close(),r.delete(),i}function g(t,n){if(e(s))return t.byteLength;const r=new s.KTX2File(new Uint8Array(t)),i=u(r)?l(r.getLevels(),r.getHasAlpha(),r.getWidth(),r.getHeight(),n):0;return r.close(),r.delete(),i}function l(e,t,n,s,i){const a=r(t?37496:37492),o=i&&e>1?(4**e-1)/(3*4**(e-1)):1;return Math.ceil(n*s*a*o)}function c(e){return e.getNumImages()>=1&&!e.isUASTC()}function u(e){return e.getFaces()>=1&&e.isETC1S()}async function m(t,n,r){e(s)&&(s=await a());const i=new s.BasisFile(new Uint8Array(r));if(!c(i))return null;i.startTranscoding();const o=d(t,n,i.getNumLevels(0),i.getHasAlpha(),i.getImageWidth(0,0),i.getImageHeight(0,0),((e,t)=>i.getImageTranscodedSizeInBytes(0,e,t)),((e,t,n)=>i.transcodeImage(n,0,e,t,0,0)));return i.close(),i.delete(),o}async function h(t,n,r){e(s)&&(s=await a());const i=new s.KTX2File(new Uint8Array(r));if(!u(i))return null;i.startTranscoding();const o=d(t,n,i.getLevels(),i.getHasAlpha(),i.getWidth(),i.getHeight(),((e,t)=>i.getImageTranscodedSizeInBytes(e,0,0,t)),((e,t,n)=>i.transcodeImage(n,e,0,0,t,0,-1,-1)));return i.close(),i.delete(),o}function d(e,t,r,s,i,a,o,g){const{compressedTextureETC:l,compressedTextureS3TC:c}=e.capabilities,[u,m]=l?s?[1,37496]:[0,37492]:c?s?[3,33779]:[2,33776]:[13,6408],h=t.hasMipmap?r:Math.min(1,r),d=[];for(let n=0;n<h;n++)d.push(new Uint8Array(o(n,u))),g(n,u,d[n]);const p=d.length>1,f=p?9987:9729,w={...t,samplingMode:f,hasMipmap:p,internalFormat:m,width:i,height:a};return new n(e,w,{type:\"compressed\",levels:d})}export{m as createTextureBasis,h as createTextureKTX2,o as estimateMemoryBasis,g as estimateMemoryKTX2,a as loadBasis};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../../core/Logger.js\";import{isPowerOfTwo as t}from\"../../../../core/mathUtils.js\";import r from\"../../../webgl/Texture.js\";const n=e.getLogger(\"esri.views.3d.webgl-engine.lib.DDSUtil\"),o=542327876,a=131072,i=4;function s(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}function l(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)}const u=s(\"DXT1\"),c=s(\"DXT3\"),m=s(\"DXT5\"),h=31,p=0,d=1,g=2,f=3,w=4,C=7,x=20,D=21;function b(e,t,n){const{textureData:o,internalFormat:a,width:i,height:s}=A(n,t.hasMipmap);return t.samplingMode=o.levels.length>1?9987:9729,t.hasMipmap=o.levels.length>1,t.internalFormat=a,t.width=i,t.height=s,new r(e,t,o)}function A(e,r){const s=new Int32Array(e,0,h);if(s[p]!==o)return n.error(\"Invalid magic number in DDS header\"),null;if(!(s[x]&i))return n.error(\"Unsupported format, must contain a FourCC code\"),null;const b=s[D];let A,M;switch(b){case u:A=8,M=33776;break;case c:A=16,M=33778;break;case m:A=16,M=33779;break;default:return n.error(\"Unsupported FourCC code:\",l(b)),null}let v=1,F=s[w],U=s[f];0==(3&F)&&0==(3&U)||(n.warn(\"Rounding up compressed texture size to nearest multiple of 4.\"),F=F+3&-4,U=U+3&-4);const T=F,j=U;let k,y;s[g]&a&&!1!==r&&(v=Math.max(1,s[C])),1===v||t(F)&&t(U)||(n.warn(\"Ignoring mipmaps of non power of two sized compressed texture.\"),v=1);let I=s[d]+4;const S=[];for(let t=0;t<v;++t)y=(F+3>>2)*(U+3>>2)*A,k=new Uint8Array(e,I,y),S.push(k),I+=y,F=Math.max(1,F>>1),U=Math.max(1,U>>1);return{textureData:{type:\"compressed\",levels:S},internalFormat:M,width:T,height:j}}export{b as createDDSTexture,A as createDDSTextureData};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{neverReached as t}from\"../../../../core/compilerUtils.js\";import e from\"../../../../core/Error.js\";import r from\"../../../../core/Evented.js\";import{isPowerOfTwo as i,nextHighestPowerOfTwo as s}from\"../../../../core/mathUtils.js\";import{isNone as a,isSome as o,removeMaybe as n}from\"../../../../core/maybe.js\";import{onAbort as h,createAbortError as m}from\"../../../../core/promiseUtils.js\";import{isArrayBuffer as l,isUint8Array as p}from\"../../../../core/typedArrayUtil.js\";import{isBlobProtocol as d,isDataProtocol as c}from\"../../../../core/urlUtils.js\";import{requestImage as u}from\"../../../../support/requestImageUtils.js\";import{loadImageAsync as g}from\"../../../../support/requestUtils.js\";import{estimateMemoryKTX2 as f,estimateMemoryBasis as w,createTextureKTX2 as T,createTextureBasis as x}from\"./BasisUtil.js\";import{ContentObject as _}from\"./ContentObject.js\";import{createDDSTexture as D}from\"./DDSUtil.js\";import{createQuadVAO as F}from\"./glUtil3D.js\";import{assert as M}from\"./Util.js\";import y from\"../../../webgl/FramebufferObject.js\";import I from\"../../../webgl/Texture.js\";import{vertexCount as E}from\"../../../webgl/Util.js\";import O from\"../../../webgl/capabilities/isWebGL2Context.js\";class b extends _{constructor(t,e){super(),this.data=t,this.type=4,this._glTexture=null,this._powerOfTwoStretchInfo=null,this._loadingPromise=null,this._loadingController=null,this.events=new r,this.params=e||{},this.params.mipmap=!1!==this.params.mipmap,this.params.noUnpackFlip=this.params.noUnpackFlip||!1,this.params.preMultiplyAlpha=this.params.preMultiplyAlpha||!1,this.params.wrap=this.params.wrap||{s:10497,t:10497},this.params.powerOfTwoResizeMode=this.params.powerOfTwoResizeMode||1,this.estimatedTexMemRequired=b.estimateTexMemRequired(this.data,this.params),this.startPreload()}startPreload(){const t=this.data;a(t)||(t instanceof HTMLVideoElement?this.startPreloadVideoElement(t):t instanceof HTMLImageElement&&this.startPreloadImageElement(t))}startPreloadVideoElement(t){d(t.src)||\"auto\"===t.preload&&t.crossOrigin||(t.preload=\"auto\",t.crossOrigin=\"anonymous\",t.src=t.src)}startPreloadImageElement(t){c(t.src)||d(t.src)||t.crossOrigin||(t.crossOrigin=\"anonymous\",t.src=t.src)}static getDataDimensions(t){return t instanceof HTMLVideoElement?{width:t.videoWidth,height:t.videoHeight}:t}static estimateTexMemRequired(t,e){if(a(t))return 0;if(l(t)||p(t))return e.encoding===b.KTX2_ENCODING?f(t,e.mipmap):e.encoding===b.BASIS_ENCODING?w(t,e.mipmap):t.byteLength;const{width:r,height:i}=t instanceof Image||t instanceof ImageData||t instanceof HTMLCanvasElement||t instanceof HTMLVideoElement?b.getDataDimensions(t):e;return(e.mipmap?4/3:1)*r*i*(e.components||4)||0}dispose(){this.data=void 0}get width(){return this.params.width}get height(){return this.params.height}createDescriptor(t){var e;return{target:3553,pixelFormat:6408,dataType:5121,wrapMode:this.params.wrap,flipped:!this.params.noUnpackFlip,samplingMode:this.params.mipmap?9987:9729,hasMipmap:this.params.mipmap,preMultiplyAlpha:this.params.preMultiplyAlpha,maxAnisotropy:null!=(e=this.params.maxAnisotropy)?e:this.params.mipmap?t.parameters.maxMaxAnisotropy:1}}get glTexture(){return this._glTexture}load(t,e){if(o(this._glTexture))return this._glTexture;if(o(this._loadingPromise))return this._loadingPromise;const r=this.data;return a(r)?(this._glTexture=new I(t,this.createDescriptor(t),null),this._glTexture):\"string\"==typeof r?this.loadFromURL(t,e,r):r instanceof Image?this.loadFromImageElement(t,e,r):r instanceof HTMLVideoElement?this.loadFromVideoElement(t,e,r):r instanceof ImageData||r instanceof HTMLCanvasElement?this.loadFromImage(t,r,e):(l(r)||p(r))&&this.params.encoding===b.DDS_ENCODING?this.loadFromDDSData(t,r):(l(r)||p(r))&&this.params.encoding===b.KTX2_ENCODING?this.loadFromKTX2(t,r):(l(r)||p(r))&&this.params.encoding===b.BASIS_ENCODING?this.loadFromBasis(t,r):p(r)?this.loadFromPixelData(t,r):l(r)?this.loadFromPixelData(t,new Uint8Array(r)):null}get requiresFrameUpdates(){return this.data instanceof HTMLVideoElement}frameUpdate(t,e,r){if(!(this.data instanceof HTMLVideoElement)||a(this._glTexture))return r;if(this.data.readyState<2||r===this.data.currentTime)return r;if(o(this._powerOfTwoStretchInfo)){const{framebuffer:r,vao:i,sourceTexture:s}=this._powerOfTwoStretchInfo;s.setData(this.data),this.drawStretchedTexture(t,e,r,i,s,this._glTexture)}else{const{width:t,height:e}=this.data,{width:r,height:i}=this._glTexture.descriptor;t!==r||e!==i?this._glTexture.updateData(0,0,0,Math.min(t,r),Math.min(e,i),this.data):this._glTexture.setData(this.data)}return this._glTexture.descriptor.hasMipmap&&this._glTexture.generateMipmap(),this.data.currentTime}loadFromDDSData(t,e){return this._glTexture=D(t,this.createDescriptor(t),e),this._glTexture}loadFromKTX2(t,e){return this.loadAsync((()=>T(t,this.createDescriptor(t),e).then((t=>(this._glTexture=t,t)))))}loadFromBasis(t,e){return this.loadAsync((()=>x(t,this.createDescriptor(t),e).then((t=>(this._glTexture=t,t)))))}loadFromPixelData(t,e){M(this.params.width>0&&this.params.height>0);const r=this.createDescriptor(t);return r.pixelFormat=1===this.params.components?6409:3===this.params.components?6407:6408,r.width=this.params.width,r.height=this.params.height,this._glTexture=new I(t,r,e),this._glTexture}loadFromURL(t,e,r){return this.loadAsync((async i=>{const s=await u(r,{signal:i});return this.loadFromImage(t,s,e)}))}loadFromImageElement(t,e,r){return r.complete?this.loadFromImage(t,r,e):this.loadAsync((async i=>{const s=await g(r,r.src,!1,i);return this.loadFromImage(t,s,e)}))}loadFromVideoElement(t,e,r){return r.readyState>=2?this.loadFromImage(t,r,e):this.loadFromVideoElementAsync(t,e,r)}loadFromVideoElementAsync(t,r,i){return this.loadAsync((s=>new Promise(((a,o)=>{const l=()=>{i.removeEventListener(\"loadeddata\",p),i.removeEventListener(\"error\",d),n(c)},p=()=>{i.readyState>=2&&(l(),a(this.loadFromImage(t,i,r)))},d=t=>{l(),o(t||new e(\"Failed to load video\"))};i.addEventListener(\"loadeddata\",p),i.addEventListener(\"error\",d);const c=h(s,(()=>d(m())))}))))}loadFromImage(t,e,r){const s=b.getDataDimensions(e);this.params.width=s.width,this.params.height=s.height;const a=this.createDescriptor(t);return a.pixelFormat=3===this.params.components?6407:6408,!this.requiresPowerOfTwo(t,a)||i(s.width)&&i(s.height)?(a.width=s.width,a.height=s.height,this._glTexture=new I(t,a,e),this._glTexture):(this._glTexture=this.makePowerOfTwoTexture(t,e,s,a,r),this._glTexture)}loadAsync(t){const e=new AbortController;this._loadingController=e;const r=t(e.signal);this._loadingPromise=r;const i=()=>{this._loadingController===e&&(this._loadingController=null),this._loadingPromise===r&&(this._loadingPromise=null)};return r.then(i,i),r}requiresPowerOfTwo(t,e){const r=33071,i=\"number\"==typeof e.wrapMode?e.wrapMode===r:e.wrapMode.s===r&&e.wrapMode.t===r;return!O(t.gl)&&(e.hasMipmap||!i)}makePowerOfTwoTexture(e,r,i,a,o){const{width:n,height:h}=i,m=s(n),l=s(h);let p;switch(a.width=m,a.height=l,this.params.powerOfTwoResizeMode){case 2:a.textureCoordinateScaleFactor=[n/m,h/l],p=new I(e,a),p.updateData(0,0,0,n,h,r);break;case 1:case null:case void 0:p=this.stretchToPowerOfTwo(e,r,a,o());break;default:t(this.params.powerOfTwoResizeMode)}return a.hasMipmap&&p.generateMipmap(),p}stretchToPowerOfTwo(t,e,r,i){const s=new I(t,r),a=new y(t,{colorTarget:0,depthStencilTarget:0},s),o=new I(t,{target:3553,pixelFormat:r.pixelFormat,dataType:5121,wrapMode:33071,samplingMode:9729,flipped:!!r.flipped,maxAnisotropy:8,preMultiplyAlpha:r.preMultiplyAlpha},e),n=F(t),h=t.getBoundFramebufferObject();return this.drawStretchedTexture(t,i,a,n,o,s),this.requiresFrameUpdates?this._powerOfTwoStretchInfo={vao:n,sourceTexture:o,framebuffer:a}:(n.dispose(!0),o.dispose(),a.detachColorTexture(),a.dispose()),t.bindFramebuffer(h),s}drawStretchedTexture(t,e,r,i,s,a){t.bindFramebuffer(r);const o=t.getViewport();t.setViewport(0,0,a.descriptor.width,a.descriptor.height);const n=e.program;t.useProgram(n),n.setUniform4f(\"color\",1,1,1,1),n.bindTexture(s,\"tex\"),t.bindVAO(i),e.bindPipelineState(t),t.drawArrays(5,0,E(i,\"geometry\")),t.bindFramebuffer(null),t.setViewport(o.x,o.y,o.width,o.height)}unload(){if(o(this._powerOfTwoStretchInfo)){const{framebuffer:t,vao:e,sourceTexture:r}=this._powerOfTwoStretchInfo;e.dispose(!0),r.dispose(),t.dispose(),this._glTexture=null,this._powerOfTwoStretchInfo=null}if(o(this._glTexture)&&(this._glTexture.dispose(),this._glTexture=null),o(this._loadingController)){const t=this._loadingController;this._loadingController=null,this._loadingPromise=null,t.abort()}this.events.emit(\"unloaded\")}}b.DDS_ENCODING=\"image/vnd-ms.dds\",b.KTX2_ENCODING=\"image/ktx2\",b.BASIS_ENCODING=\"image/x.basis\";export{b as Texture};\n"],"names":["t","r","a","e","responseType","data","output","receiveShadows","varyings","add","vertex","code","uniforms","l","c","verticalOffsetEnabled","screenSizePerspectiveEnabled","include","viewingMode","verticalOffset","camera","fovY","fullViewport","i","pixelRatio","setUniform4f","screenLength","perDistance","minWorldLength","maxWorldLength","Math","tan","fragment","n","o","pbrMode","useCustomDTRExponentForWater","shadowMappingEnabled","shadowMap","bind","bindView","origin","vvInstancingEnabled","vvSize","vvColor","attributes","v","constants","vvSizeEnabled","setUniform3fv","vvSizeMinSize","vvSizeMaxSize","vvSizeOffset","vvSizeFactor","vvColorEnabled","setUniform1fv","vvColorValues","setUniform4fv","vvColorColors","vvOpacityEnabled","vvOpacityValues","vvOpacityOpacities","vvSymbolAnchor","setUniformMatrix3fv","vvSymbolRotationMatrix","screenSizePerspective","screenSizePerspectiveAlignment","_numLoading","_disposed","_textureRepository","textureRep","_textureId","textureId","_acquire","then","_texture","normalTextureId","_textureNormal","emissiveTextureId","_textureEmissive","occlusionTextureId","_textureOcclusion","metallicRoughnessTextureId","_textureMetallicRoughness","this","id","bindTexture","glTexture","descriptor","textureCoordinateScaleFactor","setUniform2fv","setUniform2f","Promise","resolve","acquire","finally","s","b","default","locateFile","initializeBasis","ceil","getNumImages","isUASTC","u","getFaces","isETC1S","BasisFile","Uint8Array","startTranscoding","d","getNumLevels","getHasAlpha","getImageWidth","getImageHeight","getImageTranscodedSizeInBytes","transcodeImage","close","delete","KTX2File","getLevels","getWidth","getHeight","g","capabilities","compressedTextureETC","compressedTextureS3TC","m","h","hasMipmap","min","push","p","length","f","w","samplingMode","internalFormat","width","height","type","levels","charCodeAt","A","Int32Array","error","M","String","fromCharCode","F","U","warn","k","y","T","j","max","I","S","textureData","_glTexture","_powerOfTwoStretchInfo","_loadingPromise","_loadingController","events","params","mipmap","noUnpackFlip","preMultiplyAlpha","wrap","powerOfTwoResizeMode","estimatedTexMemRequired","estimateTexMemRequired","startPreload","HTMLVideoElement","startPreloadVideoElement","HTMLImageElement","startPreloadImageElement","src","preload","crossOrigin","target","pixelFormat","dataType","wrapMode","flipped","maxAnisotropy","parameters","maxMaxAnisotropy","createDescriptor","loadFromURL","Image","loadFromImageElement","loadFromVideoElement","ImageData","HTMLCanvasElement","loadFromImage","encoding","DDS_ENCODING","loadFromDDSData","KTX2_ENCODING","loadFromKTX2","BASIS_ENCODING","loadFromBasis","loadFromPixelData","readyState","currentTime","framebuffer","vao","sourceTexture","setData","drawStretchedTexture","updateData","generateMipmap","D","loadAsync","x","components","signal","complete","loadFromVideoElementAsync","removeEventListener","addEventListener","getDataDimensions","requiresPowerOfTwo","makePowerOfTwoTexture","AbortController","O","gl","stretchToPowerOfTwo","colorTarget","depthStencilTarget","getBoundFramebufferObject","requiresFrameUpdates","dispose","detachColorTexture","bindFramebuffer","getViewport","setViewport","program","useProgram","bindVAO","bindPipelineState","drawArrays","E","abort","emit","videoWidth","videoHeight","byteLength","_"],"sourceRoot":""}