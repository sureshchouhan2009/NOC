"use strict";(self.webpackChunketihadrailapp=self.webpackChunketihadrailapp||[]).push([[4154],{11873:function(e,t,i){function n(){return[1,0,0,0,1,0,0,0,1]}function r(e,t){return new Float64Array(e,t,9)}i.d(t,{a:function(){return r},c:function(){return n}});Object.freeze({__proto__:null,create:n,clone:function(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},fromValues:function(e,t,i,n,r,o,a,s,c){return[e,t,i,n,r,o,a,s,c]},createView:r})},81949:function(e,t,i){function n(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}function o(e,t,i,n,r,o,a,s,c,l,h,u,p,v,f,d){return[e,t,i,n,r,o,a,s,c,l,h,u,p,v,f,d]}function a(e,t){return new Float64Array(e,t,16)}i.d(t,{I:function(){return s},a:function(){return a},b:function(){return r},c:function(){return n},f:function(){return o}});var s=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Object.freeze({__proto__:null,create:n,clone:r,fromValues:o,createView:a,IDENTITY:s})},98131:function(e,t,i){function n(){return[0,0,0,1]}function r(e){return[e[0],e[1],e[2],e[3]]}function o(e,t){return new Float64Array(e,t,4)}i.d(t,{I:function(){return a},a:function(){return n},b:function(){return r},c:function(){return o}});var a=[0,0,0,1];Object.freeze({__proto__:null,create:n,clone:r,fromValues:function(e,t,i,n){return[e,t,i,n]},createView:o,IDENTITY:a})},23470:function(e,t,i){i.d(t,{a:function(){return g},b:function(){return y},c:function(){return d},g:function(){return x},i:function(){return M},w:function(){return m}});i(93169);var n=i(32718),r=i(16889),o=i(92026),a=i(14226),s=i(11186),c=i(71353),l=i(90045),h=i(67077),u=i(40885),p=i(40927),v=i(11185),f=n.Z.getLogger("esri.geometry.support.sphere");function d(){return(0,h.c)()}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d();return(0,l.c)(t,e)}function m(e){return e}function g(e){e[0]=e[1]=e[2]=e[3]=0}function _(e){return Array.isArray(e)?e[3]:e}function x(e){return Array.isArray(e)?e:I}function b(e,t,i){if((0,o.Wi)(t))return!1;var n=t.origin,r=t.direction,a=k;a[0]=n[0]-e[0],a[1]=n[1]-e[1],a[2]=n[2]-e[2];var s=r[0]*r[0]+r[1]*r[1]+r[2]*r[2],c=2*(r[0]*a[0]+r[1]*a[1]+r[2]*a[2]),l=c*c-4*s*(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]-e[3]*e[3]);if(l<0)return!1;var h=Math.sqrt(l),u=(-c-h)/(2*s),p=(-c+h)/(2*s);return(u<0||p<u&&p>0)&&(u=p),!(u<0)&&(i&&(i[0]=n[0]+r[0]*u,i[1]=n[1]+r[1]*u,i[2]=n[2]+r[2]*u),!0)}var k=(0,c.c)();function M(e,t){return b(e,t,null)}function w(e,t,i){var n=v.WM.get(),r=v.MP.get();(0,s.c)(n,t.origin,t.direction);var o=_(e);(0,s.c)(i,n,t.origin),(0,s.a)(i,i,1/(0,s.l)(i)*o);var c=Z(e,t.origin),l=(0,p.EU)(t.origin,i);return(0,a.i)(r),(0,a.e)(r,r,l+c,n),(0,s.m)(i,i,r),i}function G(e,t,i){var n=(0,s.f)(v.WM.get(),t,x(e)),r=(0,s.a)(v.WM.get(),n,e[3]/(0,s.l)(n));return(0,s.b)(i,r,x(e))}function Z(e,t){var i=(0,s.f)(v.WM.get(),t,x(e)),n=(0,s.l)(i),o=_(e),a=o+Math.abs(o-n);return(0,r.ZF)(o/a)}var S=(0,c.c)();function V(e,t,i,n){var o=(0,s.f)(S,t,x(e));switch(i){case 0:var a=(0,r.jE)(o,S)[2];return(0,s.s)(n,-Math.sin(a),Math.cos(a),0);case 1:var c=(0,r.jE)(o,S),l=c[1],h=c[2],u=Math.sin(l);return(0,s.s)(n,-u*Math.cos(h),-u*Math.sin(h),Math.cos(l));case 2:return(0,s.n)(n,o);default:return}}function C(e,t){var i=(0,s.f)(O,t,x(e));return(0,s.l)(i)-e[3]}var I=(0,c.c)(),O=(0,c.c)();Object.freeze({__proto__:null,create:d,copy:y,fromCenterAndRadius:function(e,t){return(0,h.f)(e[0],e[1],e[2],t)},wrap:m,clear:g,fromRadius:function(e){return e},getRadius:_,getCenter:x,fromValues:function(e,t,i,n){return(0,h.f)(e,t,i,n)},elevate:function(e,t,i){return e!==i&&(0,s.g)(i,e),i[3]=e[3]+t,i},setExtent:function(e,t,i){return f.error("sphere.setExtent is not yet supported"),e===i?i:y(e,i)},intersectRay:b,intersectsRay:M,intersectRayClosestSilhouette:function(e,t,i){if(b(e,t,i))return i;var n=w(e,t,v.WM.get());return(0,s.b)(i,t.origin,(0,s.a)(v.WM.get(),t.direction,(0,s.i)(t.origin,n)/(0,s.l)(t.direction))),i},closestPointOnSilhouette:w,closestPoint:function(e,t,i){return b(e,t,i)?i:((0,u.JI)(t,x(e),i),G(e,i,i))},projectPoint:G,distanceToSilhouette:function(e,t){var i=(0,s.f)(v.WM.get(),t,x(e)),n=(0,s.p)(i),r=e[3]*e[3];return Math.sqrt(Math.abs(n-r))},angleToSilhouette:Z,axisAt:V,altitudeAt:C,setAltitudeAt:function(e,t,i,n){var r=C(e,t),o=V(e,t,2,O),a=(0,s.a)(O,o,i-r);return(0,s.b)(n,t,a)}})},21530:function(e,t,i){i.d(t,{x:function(){return a}});var n=i(15671),r=i(43144),o=i(70758),a=function(){function e(t){(0,n.Z)(this,e),this.allocator=t,this._items=[],this._itemsPtr=0,this.grow()}return(0,r.Z)(e,[{key:"get",value:function(){var e=this;return 0===this._itemsPtr&&(0,o.Y)((function(){return e.reset()})),this._itemsPtr===this._items.length&&this.grow(),this._items[this._itemsPtr++]}},{key:"reset",value:function(){var e=Math.min(3*Math.max(8,this._itemsPtr),this._itemsPtr+3*s);this._items.length=Math.min(e,this._items.length),this._itemsPtr=0}},{key:"grow",value:function(){for(var e=0;e<Math.max(8,Math.min(this._items.length,s));e++)this._items.push(this.allocator())}}]),e}(),s=1024},55652:function(e,t,i){i.d(t,{Er:function(){return C},JG:function(){return h},Ue:function(){return c},$I:function(){return f},zk:function(){return v},Yq:function(){return p},al:function(){return u},my:function(){return M},fn:function(){return w},rx:function(){return Z},dZ:function(){return S},BR:function(){return G},Ac:function(){return V},tk:function(){return k},mJ:function(){return R},nF:function(){return I},T5:function(){return b},jH:function(){return O},re:function(){return l}});var n=i(16889),r=i(92026),o=i(11186),a=i(71353),s=(i(23470),i(11185));function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E;return[e[0],e[1],e[2],e[3]]}function l(e,t,i,n){return u(e,t,i,n,s.o6.get())}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c();return u(e[0],e[1],e[2],e[3],t)}function u(e,t,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c();return r[0]=e,r[1]=t,r[2]=i,r[3]=n,r}function p(e,t,i){var n=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],r=Math.abs(n-1)>1e-5&&n>1e-12?1/Math.sqrt(n):1;return i[0]=t[0]*r,i[1]=t[1]*r,i[2]=t[2]*r,i[3]=-(i[0]*e[0]+i[1]*e[1]+i[2]*e[2]),i}function v(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c(),r=i[0]-t[0],o=i[1]-t[1],a=i[2]-t[2],s=e[0]-t[0],l=e[1]-t[1],h=e[2]-t[2],u=o*h-a*l,p=a*s-r*h,v=r*l-o*s,f=u*u+p*p+v*v,d=Math.abs(f-1)>1e-5&&f>1e-12?1/Math.sqrt(f):1;n[0]=u*d,n[1]=p*d,n[2]=v*d,n[3]=-(n[0]*e[0]+n[1]*e[1]+n[2]*e[2])}function f(e,t,i,n,r){if(e.count<3)return!1;e.getVec(i,y);for(var a=n,s=!1;a<e.count-1&&!s;)e.getVec(a,m),a++,s=!(0,o.k)(y,m);if(!s)return!1;for(a=Math.max(a,r),s=!1;a<e.count&&!s;)e.getVec(a,g),a++,(0,o.f)(_,y,m),(0,o.n)(_,_),(0,o.f)(x,m,g),(0,o.n)(x,x),s=!(0,o.k)(y,g)&&!(0,o.k)(m,g)&&Math.abs((0,o.d)(_,x))<d;return s?(v(y,m,g,t),!0):(0!==i||1!==n||2!==r)&&f(e,t,0,1,2)}var d=.99619469809,y=(0,a.c)(),m=(0,a.c)(),g=(0,a.c)(),_=(0,a.c)(),x=(0,a.c)();function b(e,t,i){return e!==i&&h(e,i),i[3]=-(0,o.d)(i,t),i}function k(e,t){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function M(e,t,i,n){return(0,o.c)(g,t,e),p(i,g,n)}function w(e,t,i,n){return P(e,t,(0,o.f)(s.WM.get(),i,t),z,n)}function G(e,t,i){return!!(0,r.pC)(t)&&P(e,t.origin,t.direction,A,i)}function Z(e,t,i){return P(e,t.origin,t.vector,0,i)}function S(e,t,i){return P(e,t.origin,t.vector,1,i)}function V(e,t){return O(e,t)>=0}function C(e,t){var i=(0,o.d)(e,t.ray.direction),n=-O(e,t.ray.origin);if(i>-1e-6&&i<1e-6)return n>0;var r=n/i;return i>0?r<t.c1&&(t.c1=r):r>t.c0&&(t.c0=r),t.c0<=t.c1}function I(e,t,i){var n=(0,o.a)(s.WM.get(),e,-e[3]),r=function(e,t,i){var n=(0,o.a)(s.WM.get(),e,(0,o.d)(e,t));return(0,o.f)(i,t,n),i}(e,(0,o.f)(s.WM.get(),t,n),s.WM.get());return(0,o.b)(i,r,n),i}function O(e,t){return(0,o.d)(e,t)+e[3]}function P(e,t,i,r,a){var s=(0,o.d)(e,i);if(0===s)return!1;var c=-((0,o.d)(e,t)+e[3])/s;return 1&r&&(c=(0,n.uZ)(c,0,1)),!(!(4&r)&&c<0||!(8&r)&&c>1)&&((0,o.b)(a,t,(0,o.a)(a,i,c)),!0)}function R(e){return e}var E=[0,0,1,0],z=12,A=8},40885:function(e,t,i){i.d(t,{JI:function(){return v},JG:function(){return l},Ue:function(){return s},Jk:function(){return p},zk:function(){return h},re:function(){return c}});i(63780);var n=i(21530),r=i(11186),o=i(71353),a=i(11185);function s(e){return e?{origin:(0,o.a)(e.origin),direction:(0,o.a)(e.direction)}:{origin:(0,o.c)(),direction:(0,o.c)()}}function c(e,t){var i=f.get();return i.origin=e,i.direction=t,i}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s();return u(e.origin,e.direction,t)}function h(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s();return(0,r.g)(i.origin,e),(0,r.f)(i.direction,t,e),i}function u(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s();return(0,r.g)(i.origin,e),(0,r.g)(i.direction,t),i}function p(e,t){var i=(0,r.c)(a.WM.get(),(0,r.n)(a.WM.get(),e.direction),(0,r.f)(a.WM.get(),t,e.origin));return(0,r.d)(i,i)}function v(e,t,i){var n=(0,r.d)(e.direction,(0,r.f)(i,t,e.origin));return(0,r.b)(i,e.origin,(0,r.a)(i,e.direction,n)),i}var f=new n.x((function(){return{origin:null,direction:null}}))},40927:function(e,t,i){i.d(t,{EU:function(){return c},cp:function(){return l},nF:function(){return a},SR:function(){return s}});var n=i(16889),r=i(11186),o=i(71353);function a(e,t,i){var n=(0,r.d)(e,t)/(0,r.d)(e,e);return(0,r.a)(i,e,n)}function s(e,t){return(0,r.d)(e,t)/(0,r.l)(e)}function c(e,t){var i=(0,r.d)(e,t)/((0,r.l)(e)*(0,r.l)(t));return-(0,n.ZF)(i)}function l(e,t,i){(0,r.n)(h,e),(0,r.n)(u,t);var o=(0,r.d)(h,u),a=(0,n.ZF)(o),s=(0,r.c)(h,h,u);return(0,r.d)(s,i)<0?2*Math.PI-a:a}var h=(0,o.c)(),u=(0,o.c)()},11185:function(e,t,i){i.d(t,{MP:function(){return m},vD:function(){return g},qW:function(){return f},WM:function(){return d},o6:function(){return y}});var n=i(15671),r=i(43144),o=i(70758),a=i(11873),s=i(81949),c=i(98131),l=i(6394),h=i(71353),u=i(67077),p=function(){function e(t,i,r){(0,n.Z)(this,e),this.itemByteSize=t,this.itemCreate=i,this._buffers=new Array,this._items=new Array,this._itemsPtr=0,this._itemsPerBuffer=Math.ceil(r/this.itemByteSize)}return(0,r.Z)(e,[{key:"get",value:function(){var e=this;0===this._itemsPtr&&(0,o.Y)((function(){return e.reset()}));for(var t=Math.floor(this._itemsPtr/this._itemsPerBuffer);this._buffers.length<=t;){for(var i=new ArrayBuffer(this._itemsPerBuffer*this.itemByteSize),n=0;n<this._itemsPerBuffer;++n)this._items.push(this.itemCreate(i,n*this.itemByteSize));this._buffers.push(i)}return this._items[this._itemsPtr++]}},{key:"reset",value:function(){for(var e=2*(Math.floor(this._itemsPtr/this._itemsPerBuffer)+1);this._buffers.length>e;)this._buffers.pop(),this._items.length=this._buffers.length*this._itemsPerBuffer;this._itemsPtr=0}},{key:"test",get:function(){return{size:this._buffers.length*this._itemsPerBuffer*this.itemByteSize}}}],[{key:"createVec2f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new e(16,l.c,t)}},{key:"createVec3f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new e(24,h.b,t)}},{key:"createVec4f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new e(32,u.a,t)}},{key:"createMat3f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new e(72,a.a,t)}},{key:"createMat4f64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new e(128,s.a,t)}},{key:"createQuatf64",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;return new e(32,c.c,t)}}]),e}(),v=4096,f=p.createVec2f64(),d=p.createVec3f64(),y=p.createVec4f64(),m=(p.createMat3f64(),p.createMat4f64()),g=p.createQuatf64()},85577:function(e,t,i){i.d(t,{r:function(){return k}});var n=i(93433),r=i(15671),o=i(43144),a=i(60136),s=i(29388),c=(i(59486),i(52639)),l=(i(51508),i(42537)),h=i(17842),u=i(88396),p=i(6394),v=i(71353),f=i(70040),d=i(76014),y=i(38561),m=i(16072),g=i(16851),_=i(75021),x=i(7882),b=i(29909),k=function(e){(0,a.Z)(i,e);var t=(0,s.Z)(i);function i(e){var n;return(0,r.Z)(this,i),(n=t.call(this)).graphicsLayer=e,n}return(0,o.Z)(i,[{key:"visualizeIntersectionPoint",value:function(e,t){return this._visualizeSnappingIndicator(new x.Z({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:t.coordinateHelper.spatialReference}),G)}},{key:"visualizePoint",value:function(e,t){return this._visualizeSnappingIndicator(new x.Z({x:e.point[0],y:e.point[1],spatialReference:t.coordinateHelper.spatialReference}),Z)}},{key:"visualizeLine",value:function(e,t){return this._visualizeSnappingIndicator(new b.Z({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.coordinateHelper.spatialReference}),S)}},{key:"visualizeParallelSign",value:function(e,t){return this._visualizeSnappingIndicator(new b.Z({paths:[[e.lineStart,e.lineEnd]],spatialReference:t.coordinateHelper.spatialReference}),V)}},{key:"visualizeRightAngleQuad",value:function(e,t){return this._visualizeSnappingIndicator(new b.Z({paths:[[e.previousVertex,e.centerVertex,e.nextVertex]],spatialReference:t.coordinateHelper.spatialReference}),P(e))}},{key:"_visualizeSnappingIndicator",value:function(e,t){var i=this,n=new c.Z({geometry:e,symbol:t});return this.graphicsLayer.add(n),(0,l.kB)((function(){i.graphicsLayer.remove(n)}))}}]),i}(y.a),M=f.O.main.toArray(),w=[].concat((0,n.Z)(f.O.main.toRgb()),[100]),G=new m.default({outline:new g.default({width:1.5,color:M}),size:15,color:[0,0,0,0]}),Z=new m.default({outline:{width:.5,color:[0,0,0,1]},size:10,color:M}),S=new _.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,h.Wz)(d.c.lineHintWidthTarget),color:M}]}}}),V=new _.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:M}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:"Relative",size:5,markerPlacement:{type:"CIMMarkerPlacementOnLine",placePerPart:!0,angleToLine:!0,relativeTo:"LineMiddle"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:"CIMPolygonSymbol",symbolLayers:[{type:"CIMSolidFill",enable:!0,color:M}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),C=function(e){return new _.Z({data:{type:"CIMSymbolReference",symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMVectorMarker",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:"Relative",size:(0,h.Wz)(d.c.rightAngleHintSize),rotation:e,markerPlacement:{type:"CIMMarkerPlacementOnVertices",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:"CIMMarkerGraphic",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",enable:!0,capStyle:"Butt",joinStyle:"Round",miterLimit:10,width:(0,h.Wz)(d.c.rightAngleHintOutlineSize),color:M},{type:"CIMSolidFill",enable:!0,color:w}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}})},I=C(45),O=C(225),P=function(){var e=(0,p.a)(),t=(0,p.a)(),i=(0,v.c)();return function(n){return(0,u.f)(e,n.centerVertex,n.previousVertex),(0,u.f)(t,n.nextVertex,n.previousVertex),(0,u.j)(i,e,t),i[2]<0?I:O}}()},83362:function(e,t,i){i.r(t),i.d(t,{default:function(){return $}});var n=i(15861),r=i(1413),o=i(29439),a=i(37762),s=i(60136),c=i(29388),l=i(43144),h=i(15671),u=i(87757),p=i(27366),v=(i(59486),i(52639)),f=i(40110),d=i(10064),y=i(91505),m=i(100),g=i(32718),_=i(92026),x=i(66978),b=i(8537),k=i(49861),M=(i(63780),i(93169),i(25243),i(69912)),w=i(69662),G=i(93655),Z=i(16072),S=i(85577),V=i(20008),C=i(53503),I=i(83089),O=i(70040),P=i(31235),R=i(87888),E=i(87268),z=i(34019),A=i(29909),L=i(7882),T=(0,l.Z)((function e(t,i,n){(0,h.Z)(this,e),this.graphic=t,this.mover=i,this.selected=n,this.type="reshape-start"})),F=(0,l.Z)((function e(t,i,n){(0,h.Z)(this,e),this.graphic=t,this.mover=i,this.selected=n,this.type="reshape"})),H=(0,l.Z)((function e(t,i,n){(0,h.Z)(this,e),this.graphic=t,this.mover=i,this.selected=n,this.type="reshape-stop"})),W=(0,l.Z)((function e(t,i,n){(0,h.Z)(this,e),this.mover=t,this.dx=i,this.dy=n,this.type="move-start"})),U=(0,l.Z)((function e(t,i,n){(0,h.Z)(this,e),this.mover=t,this.dx=i,this.dy=n,this.type="move"})),D=(0,l.Z)((function e(t,i,n){(0,h.Z)(this,e),this.mover=t,this.dx=i,this.dy=n,this.type="move-stop"})),B=(0,l.Z)((function e(t){(0,h.Z)(this,e),this.added=t,this.type="vertex-select"})),j=(0,l.Z)((function e(t){(0,h.Z)(this,e),this.removed=t,this.type="vertex-deselect"})),q=(0,l.Z)((function e(t,i,n,r){(0,h.Z)(this,e),this.added=t,this.graphic=i,this.oldGraphic=n,this.vertices=r,this.type="vertex-add"})),J=(0,l.Z)((function e(t,i,n,r){(0,h.Z)(this,e),this.removed=t,this.graphic=i,this.oldGraphic=n,this.vertices=r,this.type="vertex-remove"})),N=O.X.reshapeGraphics,Y={vertices:{default:new Z.default({style:"circle",size:N.vertex.size,color:N.vertex.color,outline:{color:N.vertex.outlineColor,width:1}}),hover:new Z.default({style:"circle",size:N.vertex.hoverSize,color:N.vertex.hoverColor,outline:{color:N.vertex.hoverOutlineColor,width:1}}),selected:new Z.default({style:"circle",size:N.selected.size,color:N.selected.color,outline:{color:N.selected.outlineColor,width:1}})},midpoints:{default:new Z.default({style:"circle",size:N.midpoint.size,color:N.midpoint.color,outline:{color:N.midpoint.outlineColor,width:1}}),hover:new Z.default({style:"circle",size:N.midpoint.size,color:N.midpoint.color,outline:{color:N.midpoint.outlineColor,width:1}})}},Q="esri.views.draw.support.Reshape",X=g.Z.getLogger(Q),K=function(e){(0,s.Z)(i,e);var t=(0,c.Z)(i);function i(e){var n;return(0,h.Z)(this,i),(n=t.call(this,e))._activeOperationInfo=null,n._editGeometryOperations=null,n._handles=new m.Z,n._graphicAttributes={esriSketchTool:"box"},n._mover=null,n._snappingTask=null,n._stagedVertex=null,n._viewHandles=new m.Z,n.callbacks={onReshapeStart:function(){},onReshape:function(){},onReshapeStop:function(){},onMoveStart:function(){},onMove:function(){},onMoveStop:function(){},onGraphicClick:function(){}},n.enableMidpoints=!0,n.enableMovement=!0,n.enableVertices=!0,n.graphic=null,n.vertexGraphics=new f.Z,n.layer=null,n.midpointGraphics=new f.Z,n.midpointSymbol=new Z.default({style:"circle",size:6,color:[200,200,200],outline:{color:[100,100,100],width:1}}),n.selectedVertices=[],n.snappingManager=null,n.type="reshape",n.view=null,n}return(0,l.Z)(i,[{key:"initialize",value:function(){var e=this;this._setup(),this._handles.add([(0,b.N1)(this,"view.ready",(function(){var t=e.layer,i=e.view;(0,I.p)(i,t),e._viewHandles.add([i.on("key-down",(function(t){return e._keyDownHandler(t)}),P.f.TOOL)])})),(0,b.Wy)(this,"graphic",(function(){return e.refresh()})),(0,b.Wy)(this,"layer",(function(t,i){i&&(e._clearSelection(),e._resetGraphics(i)),e.refresh()})),(0,b.Wy)(this,"enableMidpoints",(function(){e.refresh()}))])}},{key:"destroy",value:function(){var e;this._reset(),null==(e=this._mover)||e.destroy(),this._mover=null,this._handles=(0,_.SC)(this._handles),this._viewHandles=(0,_.SC)(this._viewHandles)}},{key:"state",get:function(){var e=!!this.get("view.ready"),t=!(!this.get("graphic")||!this.get("layer"));return e&&t?"active":e?"ready":"disabled"}},{key:"symbols",set:function(e){var t=e||{},i=t.midpoints,n=void 0===i?Y.midpoints:i,r=t.vertices,o=void 0===r?Y.vertices:r;this._set("symbols",{midpoints:n,vertices:o})}},{key:"isUIGraphic",value:function(e){var t=[];return this.graphic&&t.push(this.graphic),t.concat(this.vertexGraphics.items,this.midpointGraphics.items),t.length&&t.includes(e)}},{key:"refresh",value:function(){this._reset(),this._setup()}},{key:"reset",value:function(){this.graphic=null}},{key:"clearSelection",value:function(){this._clearSelection()}},{key:"removeSelectedVertices",value:function(){this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}},{key:"_setup",value:function(){var e=this.graphic;if(this.layer&&e&&!(0,_.Wi)(e.geometry)){var t=e.geometry;"mesh"!==t.type&&"extent"!==t.type?(this._setupGraphics(),this._setupMover()):this._logGeometryTypeError()}}},{key:"_setUpGeometryHelper",value:function(){var e=this.graphic.geometry;if((0,_.Wi)(e)||"mesh"===e.type||"extent"===e.type)this._logGeometryTypeError();else{var t="multipoint"===e.type?new A.Z({paths:e.points,spatialReference:e.spatialReference}):e;this._editGeometryOperations=E.c.fromGeometry(t,2)}}},{key:"_saveSnappingContextForHandle",value:function(e,t){var i;this._snappingGraphicsLayer=new G.Z({listMode:"hide",internal:!0,title:"Reshape snapping layer"}),this.view.map.layers.add(this._snappingGraphicsLayer),this._snappingContext=new z.N({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:"on-the-ground",offset:0},pointer:(null==(i=t.viewEvent)?void 0:i.pointerType)||"mouse",excludeFeature:this.graphic,visualizer:new S.r(this._snappingGraphicsLayer),vertexHandle:this._getVertexFromEditGeometry(e)})}},{key:"_reset",value:function(){this._clearSelection(),this._resetGraphics(),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._mover&&this._mover.destroy(),this._mover=null,this.view.cursor="default"}},{key:"_resetSnappingStateVars",value:function(){(0,_.pC)(this.snappingManager)&&this.snappingManager.doneSnapping(),(0,_.pC)(this._snappingGraphicsLayer)&&(this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy()),this._editGeometryOperations=(0,_.SC)(this._editGeometryOperations),this._snappingTask=(0,_.IM)(this._snappingTask),this._snappingTask=null,this._snappingContext=null,this._stagedVertex=null}},{key:"_resetGraphics",value:function(e){this._removeMidpointGraphics(e),this._removeVertexGraphics(e),this._set("selectedVertices",[])}},{key:"_removeMidpointGraphics",value:function(e){var t=e||this.layer;t&&t.removeMany(this.midpointGraphics.items),this.midpointGraphics.items.forEach((function(e){return e.destroy()})),this.midpointGraphics.removeAll()}},{key:"_removeVertexGraphics",value:function(e){var t=e||this.layer;t&&t.removeMany(this.vertexGraphics.items),this.vertexGraphics.items.forEach((function(e){return e.destroy()})),this.vertexGraphics.removeAll()}},{key:"_getCoordinatesForUI",value:function(e){var t=(0,w.nA)(e.clone());if("polygon"===e.type){var i,n=(0,a.Z)(t);try{for(n.s();!(i=n.n()).done;){var r=i.value,o=r[r.length-1];r[0][0]===o[0]&&r[0][1]===o[1]&&r.length>2&&r.pop()}}catch(s){n.e(s)}finally{n.f()}}return t}},{key:"_setupGraphics",value:function(){var e=this.graphic.geometry;if((0,_.pC)(e)&&("polyline"===e.type||"polygon"===e.type)){var t=this._getCoordinatesForUI(e);this.enableMidpoints&&this._setUpMidpointGraphics(t),this.enableVertices&&this._setUpVertexGraphics(t)}}},{key:"_setUpMidpointGraphics",value:function(e){this._removeMidpointGraphics();var t=this._createMidpointGraphics(e);this.midpointGraphics.addMany(t),this.layer.addMany(t)}},{key:"_setUpVertexGraphics",value:function(e){this._removeVertexGraphics();var t=this._createVertexGraphics(e);this.vertexGraphics.addMany(t),this._storeRelatedVertexIndices(),this.layer.addMany(t)}},{key:"_createVertexGraphics",value:function(e){var t=this._graphicAttributes,i=this.symbols,n=this.view.spatialReference,a=[];return null==e||e.forEach((function(e,s){e.forEach((function(e,c){var l,h=(0,o.Z)(e,2),u=h[0],p=h[1];a.push(new v.Z({geometry:new L.Z({x:u,y:p,spatialReference:n}),symbol:null==i||null==(l=i.vertices)?void 0:l.default,attributes:(0,r.Z)((0,r.Z)({},t),{},{pathIndex:s,pointIndex:c})}))}))})),a}},{key:"_createMidpointGraphics",value:function(e){var t=this,i=this._graphicAttributes,n=this.symbols,a=this.view.spatialReference,s=[];return null==e||e.forEach((function(e,c){e.forEach((function(l,h){var u=(0,o.Z)(l,2),p=u[0],f=u[1],d=e[h+1]?h+1:0;if("polygon"===(0,_.U2)(t.graphic.geometry,"type")||0!==d){var y=(0,o.Z)(e[d],2),m=y[0],g=y[1],x=(0,w.Gi)([p,f],[m,g]),b=(0,o.Z)(x,2),k=b[0],M=b[1];s.push(new v.Z({geometry:new L.Z({x:k,y:M,spatialReference:a}),symbol:n.midpoints.default,attributes:(0,r.Z)((0,r.Z)({},i),{},{pathIndex:c,pointIndexStart:h,pointIndexEnd:d})}))}}))})),s}},{key:"_storeRelatedVertexIndices",value:function(){var e=this.vertexGraphics.items;if(e)for(var t=e.map((function(e){var t=e.geometry;return{x:t.x,y:t.y}})),i=0;i<t.length;i++){for(var n=[],r=0;r<t.length;r++)if(i!==r){var o=t[i],a=t[r];o.x===a.x&&o.y===a.y&&n.push(r)}e[i].attributes.relatedGraphicIndices=n}}},{key:"_setupMover",value:function(){var e=this,t=this.enableMovement,i=this.graphic,n=this.midpointGraphics,r=this.vertexGraphics,o=this.view,a=(0,_.U2)(i.geometry,"type"),s="point"===a||"multipoint"===a,c=r.concat(n).items;t&&c.push(i),this._mover=new C.default({enableMoveAllGraphics:!1,indicatorsEnabled:s,graphics:c,view:o,callbacks:{onGraphicClick:function(t){return e._onGraphicClickCallback(t)},onGraphicMoveStart:function(t){return e._onGraphicMoveStartCallback(t)},onGraphicMove:function(t){return e._onGraphicMoveCallback(t)},onGraphicMoveStop:function(t){return e._onGraphicMoveStopCallback(t)},onGraphicPointerOver:function(t){return e._onGraphicPointerOverCallback(t)},onGraphicPointerOut:function(t){return e._onGraphicPointerOutCallback(t)}}})}},{key:"_onGraphicClickCallback",value:function(e){e.viewEvent.stopPropagation();var t=e.graphic;if(t===this.graphic)this.clearSelection(),this.emit("graphic-click",e),this.callbacks.onGraphicClick&&this.callbacks.onGraphicClick(e);else if(this._isMidpoint(t)){if(2===e.viewEvent.button)return;var i=this.graphic.clone(),n=this._createVertexFromMidpoint(t);this.refresh(),this._emitVertexAddEvent([t],i,n)}else this._isVertex(t)&&(e.viewEvent.stopPropagation(),2===e.viewEvent.button?this._removeVertices(t):(e.viewEvent.native.shiftKey||this._clearSelection(),this.selectedVertices.includes(t)?this._removeFromSelection(t,!0):this._addToSelection(t)))}},{key:"_setUpOperation",value:function(e){var t=e.graphic,i=e.dx,n=e.dy,r=t===this.graphic;this._resetSnappingStateVars(),this._setUpGeometryHelper(),this._saveSnappingContextForHandle(t,e),this._activeOperationInfo={target:this.graphic,mover:t,operationType:r?"move":"reshape",totalDx:i,totalDy:n}}},{key:"_onGraphicMoveStartCallback",value:function(e){var t=this,i=e.graphic,n=e.dx,r=e.dy;if(i===this.graphic)return this._clearSelection(),this._resetGraphics(),this._setUpOperation(e),this._emitMoveStartEvent(n,r),void("point"===this._editGeometryOperations.data.type&&this._onHandleMove(i,n,r,e,(function(){return t._emitMoveEvent(n,r)})));if(!this.selectedVertices.includes(i)){if(this._clearSelection(),this._isMidpoint(i)){var o=this.graphic.clone(),a=this._createVertexFromMidpoint(i);this._emitVertexAddEvent([i],o,a)}this._addToSelection(i)}this._setUpOperation(e),this._emitReshapeStartEvent(i),this._onHandleMove(i,n,r,e,(function(){return t._emitReshapeEvent(i)}))}},{key:"_onGraphicMoveCallback",value:function(e){var t=this,i=e.graphic,n=e.dx,r=e.dy;this._activeOperationInfo.totalDx+=n,this._activeOperationInfo.totalDy+=r,"move"===this._activeOperationInfo.operationType?"point"===this._editGeometryOperations.data.type?this._onHandleMove(i,n,r,e,(function(){return t._emitMoveEvent(n,r)})):this._emitMoveEvent(n,r):this._onHandleMove(i,n,r,e,(function(){return t._emitReshapeEvent(i)}))}},{key:"_onGraphicMoveStopCallback",value:function(e){var t=this,i=e.graphic,n=e.dx,r=e.dy;this._activeOperationInfo.totalDx+=n,this._activeOperationInfo.totalDy+=r,i===this.graphic?(this._emitMoveStopEvent(),this.refresh()):(this._onHandleMove(i,n,r,e,(function(){return t._emitReshapeStopEvent(i)})),this._resetSnappingStateVars(),this._activeOperationInfo=null,this._isMidpoint(i)&&this.refresh())}},{key:"_updateMidpointGraphicLocations",value:function(e){var t,i=(0,a.Z)(this.midpointGraphics);try{for(i.s();!(t=i.n()).done;){var n=t.value,r=n.attributes,s=r.pathIndex,c=r.pointIndexStart,l=r.pointIndexEnd,h=(0,o.Z)(e[s][c],2),u=h[0],p=h[1],v=(0,o.Z)(e[s][l],2),f=v[0],d=v[1],y=(0,w.Gi)([u,p],[f,d]),m=(0,o.Z)(y,2),g=m[0],_=m[1];n.geometry=new L.Z({x:g,y:_,spatialReference:this.view.spatialReference})}}catch(x){i.e(x)}finally{i.f()}}},{key:"_getIndicesForVertexGraphic",value:function(e){var t=e.attributes;return[(null==t?void 0:t.pathIndex)||0,(null==t?void 0:t.pointIndex)||0]}},{key:"_getVertexFromEditGeometry",value:function(e){var t=this._getIndicesForVertexGraphic(e),i=(0,o.Z)(t,2),n=i[0],r=i[1];return this._editGeometryOperations.data.components[n].vertices[r]}},{key:"_onHandleMove",value:function(e,t,i,r,o){var a=this;if((0,_.IM)(this._snappingTask),this._snappingContext){var s=e.geometry,c="graphic-move-stop"===r.type;if((0,_.pC)(this.snappingManager)&&this.selectedVertices.length<2&&!c){var l=this.snappingManager;this._stagedVertex=l.update(s,this._snappingContext),this._syncGeometryAfterVertexMove(e,new L.Z(this._stagedVertex),t,i,c),o(),this._snappingTask=(0,x.vr)(function(){var r=(0,n.Z)(u.mark((function n(r){var h;return u.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.snap(s,a._snappingContext,r);case 2:(h=n.sent).valid&&(a._stagedVertex=h.apply(),a._syncGeometryAfterVertexMove(e,new L.Z(a._stagedVertex),t,i,c),o());case 4:case"end":return n.stop()}}),n)})));return function(e){return r.apply(this,arguments)}}())}else{var h=(0,_.pC)(this._stagedVertex)?new L.Z(this._stagedVertex):s;this._syncGeometryAfterVertexMove(e,h,t,i,c),o()}}}},{key:"_syncGeometryAfterVertexMove",value:function(){var e=(0,n.Z)(u.mark((function e(t,i,n,r){var a,s,c,l,h,p,v,f,d,y,m,g,_,x=arguments;return u.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=x.length>4&&void 0!==x[4]&&x[4],"point"===(s=this._editGeometryOperations.data.geometry).type?t.geometry=i:(c=i.x,l=i.y,h=this._getIndicesForVertexGraphic(t),p=(0,o.Z)(h,2),v=p[0],f=p[1],d=(0,w.nA)(s),y=d[v].length-1,d[v][f]=[c,l],"polygon"===s.type&&(0===f?d[v][y]=[c,l]:f===y&&(d[v][0]=[c,l])),this._isVertex(t)&&(d=this._moveRelatedCoordinates(d,t,c,l),d=this._moveSelectedHandleCoordinates(d,t,n,r,"polygon"===s.type),this._updateMidpointGraphicLocations(d)),this.graphic.geometry=s.clone(),m=this._getVertexFromEditGeometry(t),g=c-m.pos[0],_=l-m.pos[1],this._editGeometryOperations.moveVertices([m],g,_,0),a&&(this._mover?this._mover.updateGeometry(this._mover.graphics.indexOf(t),i):t.geometry=i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,i,n,r){return e.apply(this,arguments)}}()},{key:"_moveRelatedCoordinates",value:function(e,t,i,n){var r,o=t.attributes.relatedGraphicIndices,s=(0,a.Z)(o);try{for(s.s();!(r=s.n()).done;){var c=r.value,l=this.vertexGraphics.getItemAt(c),h=l.attributes,u=h.pathIndex,p=h.pointIndex;e[u][p]=[i,n],l.geometry=t.geometry}}catch(v){s.e(v)}finally{s.f()}return e}},{key:"_moveSelectedHandleCoordinates",value:function(e,t,i,n,r){var o,s=(0,a.Z)(this.selectedVertices);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(c!==t){var l=c.attributes,h=l.pathIndex,u=l.pointIndex,p=l.relatedGraphicIndices,v=(0,V.e7)(c.geometry,i,n,this.view),f=e[h].length-1;e[h][u]=[v.x,v.y],c.geometry=v,r&&(0===u?e[h][f]=[v.x,v.y]:u===f&&(e[h][0]=[v.x,v.y]));var d,y=(0,a.Z)(p);try{for(y.s();!(d=y.n()).done;){var m=d.value,g=this.vertexGraphics.getItemAt(m),_=g.attributes,x=_.pathIndex,b=_.pointIndex;e[x][b]=[v.x,v.y],g.geometry=v}}catch(k){y.e(k)}finally{y.f()}}}}catch(k){s.e(k)}finally{s.f()}return e}},{key:"_onGraphicPointerOverCallback",value:function(e){var t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.hover),this._updateHoverCursor(t)}},{key:"_onGraphicPointerOutCallback",value:function(e){var t=e.graphic;this._isVertex(t)&&!this._isSelected(t)&&(t.symbol=this.symbols.vertices.default),this.view.cursor="default"}},{key:"_createVertexFromMidpoint",value:function(e){var t=this._graphicAttributes,i=this.graphic.geometry;if((0,_.Wi)(i)||"polygon"!==i.type&&"polyline"!==i.type)return[];var n=i.clone(),o=[],a=e.attributes,s=a.pathIndex,c=a.pointIndexStart,l=a.pointIndexEnd,h=e.geometry,u=h.x,p=h.y,v=0===l?c+1:l,f=(0,w.nA)(n);return f[s].splice(v,0,[u,p]),e.attributes=(0,r.Z)((0,r.Z)({},t),{},{pathIndex:s,pointIndex:v,relatedGraphicIndices:[]}),o.push({coordinates:f[s][v],componentIndex:s,vertexIndex:v}),this.graphic.geometry=n,o}},{key:"_addToSelection",value:function(e){e instanceof v.Z&&(e=[e]);var t,i=(0,a.Z)(e);try{for(i.s();!(t=i.n()).done;){t.value.symbol=this.symbols.vertices.selected}}catch(n){i.e(n)}finally{i.f()}this._set("selectedVertices",this.selectedVertices.concat(e)),this._emitSelectEvent(e)}},{key:"_removeFromSelection",value:function(e,t){var i=this.symbols.vertices,n=t?i.hover:i.default;e instanceof v.Z&&(e=[e]);var r,o=(0,a.Z)(e);try{for(o.s();!(r=o.n()).done;){var s=r.value;this.selectedVertices.splice(this.selectedVertices.indexOf(s),1),this._set("selectedVertices",this.selectedVertices),s.set("symbol",n)}}catch(c){o.e(c)}finally{o.f()}this._emitDeselectEvent(e)}},{key:"_clearSelection",value:function(){if(this.selectedVertices.length){var e,t=this.selectedVertices,i=(0,a.Z)(this.selectedVertices);try{for(i.s();!(e=i.n()).done;){e.value.set("symbol",this.symbols.vertices.default)}}catch(n){i.e(n)}finally{i.f()}this._set("selectedVertices",[]),this._emitDeselectEvent(t)}}},{key:"_keyDownHandler",value:function(e){R.j.delete.includes(e.key)&&!e.repeat&&this.selectedVertices.length&&this._removeVertices(this.selectedVertices)}},{key:"_removeVertices",value:function(e){var t=this.graphic.geometry;if(!((0,_.Wi)(t)||"polygon"!==t.type&&"polyline"!==t.type)&&!("polygon"===t.type&&this.vertexGraphics.length<4||this.vertexGraphics.length<3)){e instanceof v.Z&&(e=[e]);var i=this.graphic.clone(),n=t.clone(),r=(0,w.nA)(n),s=[];e instanceof v.Z&&(e=[e]);var c,l=(0,a.Z)(e);try{for(l.s();!(c=l.n()).done;)for(var h=c.value.geometry,u=h.x,p=h.y,f=0;f<r.length;f++)for(var d=r[f],y=0;y<d.length;y++){var m=(0,o.Z)(d[y],2),g=m[0],x=m[1];u===g&&p===x&&(s.push({coordinates:r[f][y],componentIndex:f,vertexIndex:y}),r[f].splice(Number(y),1))}}catch(G){l.e(G)}finally{l.f()}if("polygon"===n.type)r=r.filter((function(e){if(e.length<2)return!1;var t=(0,o.Z)(e[0],2),i=t[0],n=t[1],r=(0,o.Z)(e[e.length-1],2),a=r[0],s=r[1];return(2!==e.length||i!==a||n!==s)&&(i===a&&n===s||e.push(e[0]),!0)})),n.rings=r;else{var b,k=(0,a.Z)(r);try{for(k.s();!(b=k.n()).done;){var M=b.value;1===M.length&&r.splice(r.indexOf(M),1)}}catch(G){k.e(G)}finally{k.f()}n.paths=r}this.graphic.geometry=n,this.refresh(),this._emitVertexRemoveEvent(e,i,s)}}},{key:"_isVertex",value:function(e){return this.vertexGraphics.includes(e)}},{key:"_isSelected",value:function(e){return this._isVertex(e)&&this.selectedVertices.includes(e)}},{key:"_isMidpoint",value:function(e){return this.midpointGraphics.includes(e)}},{key:"_updateHoverCursor",value:function(e){this.view.cursor=this._isMidpoint(e)?"copy":"move"}},{key:"_emitMoveStartEvent",value:function(e,t){var i=new W(this.graphic,e,t);this.emit("move-start",i),this.callbacks.onMoveStart&&this.callbacks.onMoveStart(i)}},{key:"_emitMoveEvent",value:function(e,t){var i=new U(this.graphic,e,t);this.emit("move",i),this.callbacks.onMove&&this.callbacks.onMove(i)}},{key:"_emitMoveStopEvent",value:function(){var e=this._activeOperationInfo,t=e.totalDx,i=e.totalDy,n=new D(this.graphic,t,i);this.emit("move-stop",n),this.callbacks.onMoveStop&&this.callbacks.onMoveStop(n)}},{key:"_emitReshapeStartEvent",value:function(e){var t=new T(this.graphic,e,this.selectedVertices);this.emit("reshape-start",t),this.callbacks.onReshapeStart&&this.callbacks.onReshapeStart(t)}},{key:"_emitReshapeEvent",value:function(e){var t=new F(this.graphic,e,this.selectedVertices);this.emit("reshape",t),this.callbacks.onReshape&&this.callbacks.onReshape(t)}},{key:"_emitReshapeStopEvent",value:function(e){var t=new H(this.graphic,e,this.selectedVertices);this.emit("reshape-stop",t),this.callbacks.onReshapeStop&&this.callbacks.onReshapeStop(t)}},{key:"_emitSelectEvent",value:function(e){var t=new B(e);this.emit("select",t),this.callbacks.onVertexSelect&&this.callbacks.onVertexSelect(t)}},{key:"_emitDeselectEvent",value:function(e){var t=new j(e);this.emit("deselect",t),this.callbacks.onVertexDeselect&&this.callbacks.onVertexDeselect(t)}},{key:"_emitVertexAddEvent",value:function(e,t,i){var n=new q(e,this.graphic,t,i);this.emit("vertex-add",n),this.callbacks.onVertexAdd&&this.callbacks.onVertexAdd(n)}},{key:"_emitVertexRemoveEvent",value:function(e,t,i){var n=new J(e,this.graphic,t,i);this.emit("vertex-remove",n),this.callbacks.onVertexRemove&&this.callbacks.onVertexRemove(n)}},{key:"_logGeometryTypeError",value:function(){X.error(new d.Z("reshape:invalid-geometry","Reshape operation not supported for the provided graphic. The geometry type is not supported."))}}]),i}(y.Z.EventedAccessor);(0,p._)([(0,k.Cb)()],K.prototype,"callbacks",void 0),(0,p._)([(0,k.Cb)()],K.prototype,"enableMidpoints",void 0),(0,p._)([(0,k.Cb)()],K.prototype,"enableMovement",void 0),(0,p._)([(0,k.Cb)()],K.prototype,"enableVertices",void 0),(0,p._)([(0,k.Cb)()],K.prototype,"graphic",void 0),(0,p._)([(0,k.Cb)({readOnly:!0})],K.prototype,"vertexGraphics",void 0),(0,p._)([(0,k.Cb)()],K.prototype,"layer",void 0),(0,p._)([(0,k.Cb)({readOnly:!0})],K.prototype,"midpointGraphics",void 0),(0,p._)([(0,k.Cb)()],K.prototype,"midpointSymbol",void 0),(0,p._)([(0,k.Cb)({readOnly:!0})],K.prototype,"selectedVertices",void 0),(0,p._)([(0,k.Cb)()],K.prototype,"snappingManager",void 0),(0,p._)([(0,k.Cb)({readOnly:!0})],K.prototype,"state",null),(0,p._)([(0,k.Cb)({value:Y})],K.prototype,"symbols",null),(0,p._)([(0,k.Cb)({readOnly:!0})],K.prototype,"type",void 0),(0,p._)([(0,k.Cb)()],K.prototype,"view",void 0);var $=K=(0,p._)([(0,M.j)(Q)],K)},70040:function(e,t,i){i.d(t,{O:function(){return a},X:function(){return v}});var n=i(43144),r=i(15671),o=i(51995),a={main:new o.Z([255,127,0]),selected:new o.Z([255,255,255]),outline:new o.Z([0,0,0,.5]),selectedOutline:new o.Z([255,255,255]),hoverOutline:new o.Z([255,255,255]),secondary:new o.Z([255,255,255]),secondaryOutline:new o.Z([100,100,100]),transparent:new o.Z([0,0,0,0])};function s(e,t){if(t)for(var i in t)e[i]=t[i]}var c=(0,n.Z)((function e(t){(0,r.Z)(this,e),this.size=8,this.hoverSize=10,this.color=a.main,this.hoverColor=a.main,this.outlineColor=a.outline,this.hoverOutlineColor=a.hoverOutline,s(this,t)})),l=(0,n.Z)((function e(t){(0,r.Z)(this,e),this.color=a.secondary,this.hoverColor=a.main,s(this,t)})),h=(0,n.Z)((function e(t){(0,r.Z)(this,e),this.color=a.transparent,this.hoverColor=a.transparent,this.outlineColor=a.main,this.hoverOutlineColor=a.main,this.stagedColor=a.transparent,this.stagedOutlineColor=a.secondary,s(this,t)})),u=(0,n.Z)((function e(t){(0,r.Z)(this,e),this.vertex=new c,this.midpoint=new c({color:a.secondary,outlineColor:a.secondaryOutline,size:6}),this.selected=new c({color:a.selected,hoverColor:a.selected,hoverOutlineColor:a.hoverOutline}),s(this,t)})),p=(0,n.Z)((function e(t){(0,r.Z)(this,e),this.center=new c({color:a.secondaryOutline}),this.fill=new h,this.line=new l,this.vertex=new c({color:a.selected,outlineColor:a.main,hoverColor:a.selected,hoverOutlineColor:a.secondaryOutline}),s(this,t)})),v=new((0,n.Z)((function e(t){(0,r.Z)(this,e),this.reshapeGraphics=new u,this.transformGraphics=new p,s(this,t)})))}}]);
//# sourceMappingURL=4154.7fe0f598.chunk.js.map