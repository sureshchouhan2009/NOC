"use strict";(self.webpackChunketihadrailapp=self.webpackChunketihadrailapp||[]).push([[646],{43813:function(e,t,r){r.d(t,{E:function(){return a}});var i=r(15671),n=r(43144),o=r(29439),s=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this._options=t}return(0,n.Z)(e,[{key:"toQueryParams",value:function(e){var t=this;if(!e)return null;var r=e.toJSON(),i={};return Object.keys(r).forEach((function(e){var n=t._options[e];if(n){var s="boolean"!=typeof n&&n.name?n.name:e,a="boolean"!=typeof n&&n.getter?n.getter(r):r[e];null!=a&&(i[s]=function(e){if(!Array.isArray(e))return!1;var t=(0,o.Z)(e,1)[0];return"number"==typeof t||"string"==typeof t}(a)?a.join(","):"object"==typeof a?JSON.stringify(a):a)}else i[e]=r[e]}),this),i}}]),e}();function a(e){return new s(e)}},27991:function(e,t,r){r.d(t,{et:function(){return F},ef:function(){return J},bI:function(){return G},mT:function(){return Y},Wf:function(){return V}});var i,n=r(15861),o=r(37762),s=r(87757),a=r(76200),u=r(10064),l=r(92026),p=r(18202),c=r(35995),d=r(23084),f=r(43144),v=r(15671),y=r(60136),m=r(29388),h=r(27366),b=r(67123),g=r(49861),T=(r(63780),r(93169),r(25243),r(69912)),N=r(84652),Z=r(27135),w=r(43404),A=(0,w.wY)()({esriCentimeters:"centimeters",esriDecimalDegrees:"decimal-degrees",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriPoints:"points",esriYards:"yards"}),_=((0,w.wY)()({esriNAUCentimeters:"centimeters",esriNAUDecimalDegrees:"decimal-degrees",esriNAUDecimeters:"decimeters",esriNAUFeet:"feet",esriNAUInches:"inches",esriNAUKilometers:"kilometers",esriNAUMeters:"meters",esriNAUMiles:"miles",esriNAUMillimeters:"millimeters",esriNAUNauticalMiles:"nautical-miles",esriNAUPoints:"points",esriNAUYards:"yards"}),(0,w.wY)()({esriDOTComplete:"complete",esriDOTCompleteNoEvents:"complete-no-events",esriDOTInstructionsOnly:"instructions-only",esriDOTStandard:"standard",esriDOTSummaryOnly:"summary-only"}),(0,w.wY)()({esriNAOutputLineNone:"none",esriNAOutputLineStraight:"straight",esriNAOutputLineTrueShape:"true-shape",esriNAOutputLineTrueShapeWithMeasure:"true-shape-with-measure"}),(0,w.wY)()({esriNAOutputPolygonNone:"none",esriNAOutputPolygonSimplified:"simplified",esriNAOutputPolygonDetailed:"detailed"}),(0,w.wY)()({esriNFSBAllowBacktrack:"allow-backtrack",esriNFSBAtDeadEndsOnly:"at-dead-ends-only",esriNFSBNoBacktrack:"no-backtrack",esriNFSBAtDeadEndsAndIntersections:"at-dead-ends-and-intersections"})),C=((0,w.wY)()({esriNATravelDirectionFromFacility:"from-facility",esriNATravelDirectionToFacility:"to-facility"}),(0,w.wY)()({esriNATimeOfDayNotUsed:"not-used",esriNATimeOfDayUseAsStartTime:"start",esriNATimeOfDayUseAsEndTime:"end"}),(0,w.wY)()({AUTOMOBILE:"automobile",TRUCK:"truck",WALK:"walk",OTHER:"other"})),M=i=function(e){(0,y.Z)(r,e);var t=(0,m.Z)(r);function r(e){var i;return(0,v.Z)(this,r),(i=t.call(this,e)).attributeParameterValues=null,i.description=null,i.distanceAttributeName=null,i.id=null,i.impedanceAttributeName=null,i.name=null,i.restrictionAttributeNames=null,i.simplificationTolerance=null,i.simplificationToleranceUnits=null,i.timeAttributeName=null,i.type=null,i.useHierarchy=null,i.uturnAtJunctions=null,i}return(0,f.Z)(r,[{key:"clone",value:function(){return new i((0,N.d9)({attributeParameterValues:this.attributeParameterValues,description:this.description,distanceAttributeName:this.distanceAttributeName,id:this.id,impedanceAttributeName:this.impedanceAttributeName,name:this.name,restrictionAttributeNames:this.restrictionAttributeNames,simplificationTolerance:this.simplificationTolerance,simplificationToleranceUnits:this.simplificationToleranceUnits,timeAttributeName:this.timeAttributeName,type:this.type,useHierarchy:this.useHierarchy,uturnAtJunctions:this.uturnAtJunctions}))}}]),r}(b.wq);(0,h._)([(0,g.Cb)({type:[Object],json:{write:!0}})],M.prototype,"attributeParameterValues",void 0),(0,h._)([(0,g.Cb)({type:String,json:{write:!0}})],M.prototype,"description",void 0),(0,h._)([(0,g.Cb)({type:String,json:{write:!0}})],M.prototype,"distanceAttributeName",void 0),(0,h._)([(0,g.Cb)({type:String,json:{write:!0}})],M.prototype,"id",void 0),(0,h._)([(0,g.Cb)({type:String,json:{write:!0}})],M.prototype,"impedanceAttributeName",void 0),(0,h._)([(0,g.Cb)({type:String,json:{write:!0}})],M.prototype,"name",void 0),(0,h._)([(0,g.Cb)({type:[String],json:{write:!0}})],M.prototype,"restrictionAttributeNames",void 0),(0,h._)([(0,g.Cb)({type:Number,json:{write:!0}})],M.prototype,"simplificationTolerance",void 0),(0,h._)([(0,Z.J)(A)],M.prototype,"simplificationToleranceUnits",void 0),(0,h._)([(0,g.Cb)({type:String,json:{write:!0}})],M.prototype,"timeAttributeName",void 0),(0,h._)([(0,Z.J)(C)],M.prototype,"type",void 0),(0,h._)([(0,g.Cb)({type:Boolean,json:{write:!0}})],M.prototype,"useHierarchy",void 0),(0,h._)([(0,Z.J)(_)],M.prototype,"uturnAtJunctions",void 0);var k=M=i=(0,h._)([(0,T.j)("esri.rest.support.TravelMode")],M),O=function(e){(0,y.Z)(r,e);var t=(0,m.Z)(r);function r(e){var i;return(0,v.Z)(this,r),(i=t.call(this,e)).currentVersion=null,i.defaultTravelMode=null,i.directionsLanguage=null,i.directionsSupportedLanguages=null,i.directionsTimeAttribute=null,i.hasZ=null,i.impedance=null,i.networkDataset=null,i.supportedTravelModes=null,i}return(0,f.Z)(r)}(b.wq);(0,h._)([(0,g.Cb)()],O.prototype,"currentVersion",void 0),(0,h._)([(0,g.Cb)()],O.prototype,"defaultTravelMode",void 0),(0,h._)([(0,g.Cb)()],O.prototype,"directionsLanguage",void 0),(0,h._)([(0,g.Cb)()],O.prototype,"directionsSupportedLanguages",void 0),(0,h._)([(0,g.Cb)()],O.prototype,"directionsTimeAttribute",void 0),(0,h._)([(0,g.Cb)()],O.prototype,"hasZ",void 0),(0,h._)([(0,g.Cb)()],O.prototype,"impedance",void 0),(0,h._)([(0,g.Cb)()],O.prototype,"networkDataset",void 0),(0,h._)([(0,g.Cb)({type:[k]})],O.prototype,"supportedTravelModes",void 0);var S=O=(0,h._)([(0,T.j)("esri.rest.support.NetworkServiceDescription")],O),j=r(52639),B=r(38511),U=r(49818),D=r(89677),R=r(10691),x=function(e){(0,y.Z)(r,e);var t=(0,m.Z)(r);function r(e){var i;return(0,v.Z)(this,r),(i=t.call(this,e)).directions=null,i.route=null,i.routeName=null,i.stops=null,i}return(0,f.Z)(r)}(b.wq);(0,h._)([(0,g.Cb)({type:R.Z,json:{write:!0}})],x.prototype,"directions",void 0),(0,h._)([(0,g.Cb)({type:j.Z,json:{write:!0}})],x.prototype,"route",void 0),(0,h._)([(0,g.Cb)({type:String,json:{write:!0}})],x.prototype,"routeName",void 0),(0,h._)([(0,g.Cb)({type:[j.Z],json:{write:!0}})],x.prototype,"stops",void 0);var P=x=(0,h._)([(0,T.j)("esri.rest.support.RouteResult")],x);function I(e){return e&&U.default.fromJSON(e).features.map((function(e){return e}))}var E=function(e){(0,y.Z)(r,e);var t=(0,m.Z)(r);function r(e){var i;return(0,v.Z)(this,r),(i=t.call(this,e)).barriers=null,i.messages=null,i.pointBarriers=null,i.polylineBarriers=null,i.polygonBarriers=null,i.routeResults=null,i}return(0,f.Z)(r,[{key:"readPointBarriers",value:function(e,t){return I(t.barriers||t.pointBarriers)}},{key:"readPolylineBarriers",value:function(e){return I(e)}},{key:"readPolygonBarriers",value:function(e){return I(e)}}]),r}(b.wq);(0,h._)([(0,g.Cb)({aliasOf:"pointBarriers"})],E.prototype,"barriers",void 0),(0,h._)([(0,g.Cb)({type:[D.Z]})],E.prototype,"messages",void 0),(0,h._)([(0,g.Cb)({type:[j.Z]})],E.prototype,"pointBarriers",void 0),(0,h._)([(0,B.r)("pointBarriers",["barriers","pointBarriers"])],E.prototype,"readPointBarriers",null),(0,h._)([(0,g.Cb)({type:[j.Z]})],E.prototype,"polylineBarriers",void 0),(0,h._)([(0,B.r)("polylineBarriers")],E.prototype,"readPolylineBarriers",null),(0,h._)([(0,g.Cb)({type:[j.Z]})],E.prototype,"polygonBarriers",void 0),(0,h._)([(0,B.r)("polygonBarriers")],E.prototype,"readPolygonBarriers",null),(0,h._)([(0,g.Cb)({type:[P]})],E.prototype,"routeResults",void 0);var L=E=(0,h._)([(0,T.j)("esri.rest.support.RouteResultsContainer")],E);function F(e,t,r,i){i[r]=[t.length,t.length+e.length],e.forEach((function(e){t.push(e.geometry)}))}function J(e,t){for(var r=0;r<t.length;r++){var i=e[t[r]];if(i&&i.length){var n,s=(0,o.Z)(i);try{for(s.s();!(n=s.n()).done;){n.value.z=void 0}}catch(a){s.e(a)}finally{s.f()}}}console.log("The remote Network Analysis service is powered by a network dataset which is not Z-aware.\nZ-coordinates of the input geometry are ignored.")}function Y(e){var t,r,i=[],n=[],o=e.data,s=o.directions,a=void 0===s?[]:s,u=o.routes,p=(u=void 0===u?{}:u).features,c=void 0===p?[]:p,d=u.spatialReference,f=void 0===d?null:d,v=o.stops,y=(v=void 0===v?{}:v).features,m=void 0===y?[]:y,h=v.spatialReference,b=void 0===h?null:h,g=o.barriers,T=o.polygonBarriers,N=o.polylineBarriers,Z=o.messages,w="esri.tasks.RouteTask.NULL_ROUTE_NAME",A=!0,_=c&&f||m&&b||g&&g.spatialReference||T&&T.spatialReference||N&&N.spatialReference;a.forEach((function(e){i.push(t=e.routeName),n[t]={directions:e}})),c.forEach((function(e){-1===i.indexOf(t=e.attributes.Name)&&(i.push(t),n[t]={}),(0,l.pC)(e.geometry)&&(e.geometry.spatialReference=_),n[t].route=e})),m.forEach((function(e){r=e.attributes,-1===i.indexOf(t=r.RouteName||w)&&(i.push(t),n[t]={}),t!==w&&(A=!1),(0,l.pC)(e.geometry)&&(e.geometry.spatialReference=_),null==n[t].stops&&(n[t].stops=[]),n[t].stops.push(e)})),m.length>0&&!0===A&&(n[i[0]].stops=n[w].stops,delete n[w],i.splice(i.indexOf(w),1));var C=i.map((function(e){return n[e].routeName=e===w?null:e,n[e]}));return L.fromJSON({routeResults:C,pointBarriers:g,polygonBarriers:T,polylineBarriers:N,messages:Z})}function V(e,t){for(var r=0;r<t.length;r++){var i=e[t[r]];if(i&&i.length){var n,s=(0,o.Z)(i);try{for(s.s();!(n=s.n()).done;){var a=n.value;if((0,l.pC)(a)&&a.hasZ)return!0}}catch(u){s.e(u)}finally{s.f()}}}return!1}function G(e,t,r){return H.apply(this,arguments)}function H(){return H=(0,n.Z)(s.mark((function e(t,r,i){var n,o,l,p,c,f,v,y;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}throw new u.Z("network-service:missing-url","Url to Network service is missing");case 2:return n=(0,d.lA)({f:"json",token:r},i),e.next=5,(0,a.default)(t,n);case 5:for(o=e.sent,(l=o.data).supportedTravelModes||(l.supportedTravelModes=[]),p=0;p<l.supportedTravelModes.length;p++)l.supportedTravelModes[p].id||(l.supportedTravelModes[p].id=l.supportedTravelModes[p].itemId);return c=l.currentVersion>=10.4?Q(t,r,i):q(t,i),e.next=12,c;case 12:return f=e.sent,v=f.defaultTravelMode,y=f.supportedTravelModes,e.abrupt("return",(l.defaultTravelMode=v,l.supportedTravelModes=y,S.fromJSON(l)));case 16:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function q(e,t){return K.apply(this,arguments)}function K(){return K=(0,n.Z)(s.mark((function e(t,r){var i,n,u,l,f,v,y,m,h,b,g,T,N,Z,w,A,_,C,M,k,O,S,j,B,U,D;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=(0,d.lA)({f:"json"},r),e.next=3,(0,a.default)(t.replace(/\/rest\/.*$/i,"/info"),u);case 3:if(l=e.sent,(f=l.data)&&f.owningSystemUrl){e.next=7;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 7:return v=f.owningSystemUrl,y=(0,c.Qj)(v)+"/sharing/rest/portals/self",e.next=11,(0,a.default)(y,u);case 11:if(m=e.sent,h=m.data,b=(0,p.hS)("helperServices.routingUtilities.url",h)){e.next=16;break}return e.abrupt("return",{supportedTravelModes:[],defaultTravelMode:null});case 16:return g=(0,d.en)(v),T=/\/solve$/i.test(g.path)?"Route":/\/solveclosestfacility$/i.test(g.path)?"ClosestFacility":"ServiceAreas",N=(0,d.lA)({f:"json",serviceName:T},r),Z=(0,c.Qj)(b)+"/GetTravelModes/execute",e.next=22,(0,a.default)(Z,N);case 22:if(w=e.sent,A=[],_=null,null!=w&&null!=(i=w.data)&&null!=(n=i.results)&&n.length){C=w.data.results,M=(0,o.Z)(C);try{for(M.s();!(k=M.n()).done;)if("supportedTravelModes"===(O=k.value).paramName){if(null!=(S=O.value)&&S.features){j=(0,o.Z)(O.value.features);try{for(j.s();!(B=j.n()).done;)(U=B.value.attributes)&&(D=JSON.parse(U.TravelMode),A.push(D))}catch(s){j.e(s)}finally{j.f()}}}else"defaultTravelMode"===O.paramName&&(_=O.value)}catch(s){M.e(s)}finally{M.f()}}return e.abrupt("return",{supportedTravelModes:A,defaultTravelMode:_});case 27:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function Q(e,t,r){return W.apply(this,arguments)}function W(){return W=(0,n.Z)(s.mark((function e(t,r,i){var n,o,l,p,f,v;return s.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=(0,d.lA)({f:"json",token:r},i),o=(0,c.Qj)(t)+"/retrieveTravelModes",e.next=5,(0,a.default)(o,n);case 5:return l=e.sent,p=l.data,f=p.supportedTravelModes,v=p.defaultTravelMode,e.abrupt("return",{supportedTravelModes:f,defaultTravelMode:v});case 12:throw e.prev=12,e.t0=e.catch(0),new u.Z("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),W.apply(this,arguments)}},10691:function(e,t,r){r.d(t,{Z:function(){return w}});var i=r(93433),n=r(37762),o=r(1413),s=r(15671),a=r(43144),u=r(60136),l=r(29388),p=r(27366),c=(r(59486),r(92026)),d=r(49861),f=(r(63780),r(93169),r(25243),r(38511)),v=r(69912),y=function(e){(0,u.Z)(r,e);var t=(0,l.Z)(r);function r(){return(0,s.Z)(this,r),t.apply(this,arguments)}return(0,a.Z)(r)}(r(52639).Z);(0,p._)([(0,d.Cb)()],y.prototype,"events",void 0),(0,p._)([(0,d.Cb)()],y.prototype,"strings",void 0);var m=y=(0,p._)([(0,v.j)("esri.rest.support.DirectionsFeature")],y),h=r(49818),b=r(53866),g=r(78952),T=r(29909),N=r(7882),Z=function(e){(0,u.Z)(r,e);var t=(0,l.Z)(r);function r(e){var i;return(0,s.Z)(this,r),(i=t.call(this,e)).extent=null,i.features=null,i.geometryType="polyline",i.routeId=null,i.routeName=null,i.totalDriveTime=null,i.totalLength=null,i.totalTime=null,i}return(0,a.Z)(r,[{key:"readFeatures",value:function(e,t){var r,i=this;if(!e)return[];var n=null!=(r=t.summary.envelope.spatialReference)?r:t.spatialReference,s=n&&g.Z.fromJSON(n);return e.map((function(e){var t,r,n=i._decompressGeometry(e.compressedGeometry),a=new T.Z((0,o.Z)((0,o.Z)({},n),{},{spatialReference:s})),u=null!=(t=null==(r=e.events)?void 0:r.map((function(e){var t=e.arriveTimeUTC,r=e.ETA,i=e.point,n=i.x,o=i.y,a=i.z,u=e.strings;return new m({geometry:new N.Z({x:n,y:o,z:a,hasZ:void 0!==a,spatialReference:s}),attributes:{ETA:r,arriveTimeUTC:t},strings:u})})))?t:[];return new m({attributes:e.attributes,events:u,geometry:a,strings:e.strings})}))}},{key:"mergedGeometry",get:function(){if(!this.features)return null;var e=this.features.map((function(e){var t=e.geometry;return(0,c.Wg)(t)})),t=this.get("extent.spatialReference");return this._mergePolylinesToSinglePath(e,t)}},{key:"strings",get:function(){return this.features.map((function(e){return e.strings}))}},{key:"_decompressGeometry",value:function(e){var t,r,i,n,o,s,a,u,l=0,p=0,c=0,d=0,f=[],v=0,y=0,m=0;if((o=e.match(/((\+|\-)[^\+\-\|]+|\|)/g))||(o=[]),0===parseInt(o[v],32)){v=2;var h=parseInt(o[v],32);v++,s=parseInt(o[v],32),v++,1&h&&(y=o.indexOf("|")+1,a=parseInt(o[y],32),y++),2&h&&(m=o.indexOf("|",y)+1,u=parseInt(o[m],32),m++)}else s=parseInt(o[v],32),v++;for(;v<o.length&&"|"!==o[v];){t=parseInt(o[v],32)+l,v++,l=t,r=parseInt(o[v],32)+p,v++,p=r;var b=[t/s,r/s];y&&(n=parseInt(o[y],32)+c,y++,c=n,b.push(n/a)),m&&(i=parseInt(o[m],32)+d,m++,d=i,b.push(i/u)),f.push(b)}return{paths:[f],hasZ:y>0,hasM:m>0}}},{key:"_mergePolylinesToSinglePath",value:function(e,t){if(0===e.length)return new T.Z({spatialReference:t});var r,o=[],s=(0,n.Z)(e);try{for(s.s();!(r=s.n()).done;){var a,u=r.value,l=(0,n.Z)(u.paths);try{for(l.s();!(a=l.n()).done;){var p=a.value;o.push.apply(o,(0,i.Z)(p))}}catch(y){l.e(y)}finally{l.f()}}}catch(y){s.e(y)}finally{s.f()}var c=[];o.forEach((function(e,t){0!==t&&e[0]===o[t-1][0]&&e[1]===o[t-1][1]||c.push(e)}));var d=e[0],f=d.hasM,v=d.hasZ;return new T.Z({hasM:f,hasZ:v,paths:[c],spatialReference:t})}}]),r}(h.default);(0,p._)([(0,d.Cb)({type:b.Z,json:{read:{source:"summary.envelope"}}})],Z.prototype,"extent",void 0),(0,p._)([(0,d.Cb)()],Z.prototype,"features",void 0),(0,p._)([(0,f.r)("features")],Z.prototype,"readFeatures",null),(0,p._)([(0,d.Cb)()],Z.prototype,"geometryType",void 0),(0,p._)([(0,d.Cb)({readOnly:!0})],Z.prototype,"mergedGeometry",null),(0,p._)([(0,d.Cb)()],Z.prototype,"routeId",void 0),(0,p._)([(0,d.Cb)()],Z.prototype,"routeName",void 0),(0,p._)([(0,d.Cb)({value:null,readOnly:!0})],Z.prototype,"strings",null),(0,p._)([(0,d.Cb)({json:{read:{source:"summary.totalDriveTime"}}})],Z.prototype,"totalDriveTime",void 0),(0,p._)([(0,d.Cb)({json:{read:{source:"summary.totalLength"}}})],Z.prototype,"totalLength",void 0),(0,p._)([(0,d.Cb)({json:{read:{source:"summary.totalTime"}}})],Z.prototype,"totalTime",void 0);var w=Z=(0,p._)([(0,v.j)("esri.rest.support.DirectionsFeatureSet")],Z)},89677:function(e,t,r){r.d(t,{Z:function(){return v}});var i=r(43144),n=r(15671),o=r(60136),s=r(29388),a=r(27366),u=r(43404),l=r(49861),p=(r(63780),r(93169),r(25243),r(69912)),c=r(2429),d=new u.Xn({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"}),f=function(e){(0,o.Z)(r,e);var t=(0,s.Z)(r);function r(e){var i;return(0,n.Z)(this,r),(i=t.call(this,e)).type=null,i}return(0,i.Z)(r)}(c.Z);(0,a._)([(0,l.Cb)({type:String,json:{read:d.read,write:d.write}})],f.prototype,"type",void 0);var v=f=(0,a._)([(0,p.j)("esri.rest.support.NAMessage")],f)}}]);
//# sourceMappingURL=646.7eff3cee.chunk.js.map