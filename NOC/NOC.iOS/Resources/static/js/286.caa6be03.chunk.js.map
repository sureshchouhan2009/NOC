{"version":3,"file":"static/js/286.caa6be03.chunk.js","mappings":"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","sources":["../node_modules/@arcgis/core/layers/GroupLayer.js","../node_modules/@arcgis/core/views/2d/interactive/SnappingVisualizer2D.js","../node_modules/@arcgis/core/views/draw/DrawAction.js","../node_modules/@arcgis/core/views/draw/input/DrawEvents.js","../node_modules/@arcgis/core/chunks/MultipointDrawAction.js","../node_modules/@arcgis/core/views/draw/DrawTool.js","../node_modules/@arcgis/core/views/draw/PointDrawAction.js","../node_modules/@arcgis/core/views/draw/PolygonDrawAction.js","../node_modules/@arcgis/core/views/draw/PolylineDrawAction.js","../node_modules/@arcgis/core/views/draw/SegmentDrawAction.js","../node_modules/@arcgis/core/views/draw/Draw.js","../node_modules/@arcgis/core/views/draw/support/settings.js","../node_modules/@arcgis/core/views/interactive/GraphicManipulator.js","../node_modules/@arcgis/core/widgets/support/InteractiveToolViewModel.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as i}from\"../chunks/tslib.es6.js\";import{loadAll as e}from\"../core/loadAll.js\";import{isSome as t}from\"../core/maybe.js\";import{MultiOriginJSONMixin as s}from\"../core/MultiOriginJSONSupport.js\";import{property as r}from\"../core/accessorSupport/decorators/property.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import{getProperties as o}from\"../core/accessorSupport/utils.js\";import\"../core/accessorSupport/ensureType.js\";import{subclass as l}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as a}from\"../core/accessorSupport/decorators/writer.js\";import p from\"./Layer.js\";import{BlendLayer as n}from\"./mixins/BlendLayer.js\";import{OperationalLayer as y}from\"./mixins/OperationalLayer.js\";import{PortalLayer as h}from\"./mixins/PortalLayer.js\";import{ScaleRangeLayer as c}from\"./mixins/ScaleRangeLayer.js\";import{LayersMixin as d}from\"../support/LayersMixin.js\";import{TablesMixin as b}from\"../support/TablesMixin.js\";import{getLayerJSON as v}from\"../webdoc/support/writeUtils.js\";let m=class extends(n(c(y(h(b(d(s(p)))))))){constructor(i){super(i),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType=\"GroupLayer\",this.spatialReference=void 0,this.type=\"group\",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch(\"visible\",this._visibleWatcher.bind(this),!0)}_writeLayers(i,e,s,r){const o=[];if(!i)return o;i.forEach((i=>{const e=v(i,r.webmap?r.webmap.getLayerJSONFromResourceInfo(i):null,r);t(e)&&e.layerType&&o.push(e)})),e.layers=o}set portalItem(i){this._set(\"portalItem\",i)}set visibilityMode(i){const e=this._get(\"visibilityMode\")!==i;this._set(\"visibilityMode\",i),e&&this._enforceVisibility(i,this.visible)}load(i){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},i)),Promise.resolve(this)}loadAll(){return e(this,(i=>{i(this.layers)}))}layerAdded(i){i.visible&&\"exclusive\"===this.visibilityMode?this._turnOffOtherLayers(i):\"inherited\"===this.visibilityMode&&(i.visible=this.visible),this._visibilityHandles[i.uid]=i.watch(\"visible\",this._visibilityWatcher,!0)}layerRemoved(i){const e=this._visibilityHandles[i.uid];e&&(e.remove(),delete this._visibilityHandles[i.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(i){this.layers.forEach((e=>{e!==i&&(e.visible=!1)}))}_enforceVisibility(i,e){if(!o(this).initialized)return;const t=this.layers;let s=t.find((i=>i.visible));switch(i){case\"exclusive\":t.length&&!s&&(s=t.getItemAt(0),s.visible=!0),this._turnOffOtherLayers(s);break;case\"inherited\":t.forEach((i=>{i.visible=e}))}}_visibleWatcher(i){\"inherited\"===this.visibilityMode&&this.layers.forEach((e=>{e.visible=i}))}_visibilityWatcher(i,e,t,s){const r=s;switch(this.visibilityMode){case\"exclusive\":i?this._turnOffOtherLayers(r):this._isAnyLayerVisible()||(r.visible=!0);break;case\"inherited\":r.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((i=>i.visible))}};i([r()],m.prototype,\"fullExtent\",void 0),i([r({json:{read:!1,write:{ignoreOrigin:!0}}})],m.prototype,\"layers\",void 0),i([a(\"layers\")],m.prototype,\"_writeLayers\",null),i([r({type:[\"GroupLayer\"]})],m.prototype,\"operationalLayerType\",void 0),i([r({json:{origins:{\"web-document\":{read:!1,write:!1}}}})],m.prototype,\"portalItem\",null),i([r()],m.prototype,\"spatialReference\",void 0),i([r({json:{read:!1},readOnly:!0,value:\"group\"})],m.prototype,\"type\",void 0),i([r({type:[\"independent\",\"inherited\",\"exclusive\"],value:\"independent\",json:{write:!0,origins:{\"web-map\":{read:!1,write:!1}}}})],m.prototype,\"visibilityMode\",null),m=i([l(\"esri.layers.GroupLayer\")],m);const u=m;export{u as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../Graphic.js\";import\"../../../symbols.js\";import{makeHandle as r}from\"../../../core/handleUtils.js\";import{px2pt as i}from\"../../../core/screenUtils.js\";import{f as t,j as n}from\"../../../chunks/vec2.js\";import{a as o}from\"../../../chunks/vec2f64.js\";import{c as a}from\"../../../chunks/vec3f64.js\";import{colors as l}from\"../../draw/support/settings.js\";import{defaults as s}from\"../../interactive/snapping/Settings.js\";import{SnappingVisualizer as p}from\"../../interactive/snapping/SnappingVisualizer.js\";import m from\"../../../symbols/SimpleMarkerSymbol.js\";import c from\"../../../symbols/SimpleLineSymbol.js\";import y from\"../../../symbols/CIMSymbol.js\";import b from\"../../../geometry/Point.js\";import S from\"../../../geometry/Polyline.js\";class h extends p{constructor(e){super(),this.graphicsLayer=e}visualizeIntersectionPoint(e,r){return this._visualizeSnappingIndicator(new b({x:e.intersectionPoint[0],y:e.intersectionPoint[1],spatialReference:r.coordinateHelper.spatialReference}),u)}visualizePoint(e,r){return this._visualizeSnappingIndicator(new b({x:e.point[0],y:e.point[1],spatialReference:r.coordinateHelper.spatialReference}),M)}visualizeLine(e,r){return this._visualizeSnappingIndicator(new S({paths:[[e.lineStart,e.lineEnd]],spatialReference:r.coordinateHelper.spatialReference}),f)}visualizeParallelSign(e,r){return this._visualizeSnappingIndicator(new S({paths:[[e.lineStart,e.lineEnd]],spatialReference:r.coordinateHelper.spatialReference}),I)}visualizeRightAngleQuad(e,r){return this._visualizeSnappingIndicator(new S({paths:[[e.previousVertex,e.centerVertex,e.nextVertex]],spatialReference:r.coordinateHelper.spatialReference}),C(e))}_visualizeSnappingIndicator(i,t){const n=new e({geometry:i,symbol:t});return this.graphicsLayer.add(n),r((()=>{this.graphicsLayer.remove(n)}))}}const d=l.main.toArray(),g=[...l.main.toRgb(),100],u=new m({outline:new c({width:1.5,color:d}),size:15,color:[0,0,0,0]}),M=new m({outline:{width:.5,color:[0,0,0,1]},size:10,color:d}),f=new y({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:i(s.lineHintWidthTarget),color:d}]}}}),I=new y({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:-1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,1.5],[7,1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:d}]}}],scaleSymbolsProportionally:!0,respectFrame:!0},{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:0,y:1,z:0},anchorPointUnits:\"Relative\",size:5,markerPlacement:{type:\"CIMMarkerPlacementOnLine\",placePerPart:!0,angleToLine:!0,relativeTo:\"LineMiddle\"},frame:{xmin:-5,ymin:-1.5,xmax:5,ymax:1.5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{rings:[[[7,0],[-7,0],[-7,-1.5],[7,-1.5]]]},symbol:{type:\"CIMPolygonSymbol\",symbolLayers:[{type:\"CIMSolidFill\",enable:!0,color:d}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),P=e=>new y({data:{type:\"CIMSymbolReference\",symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMVectorMarker\",enable:!0,anchorPoint:{x:.5,y:.5,z:0},anchorPointUnits:\"Relative\",size:i(s.rightAngleHintSize),rotation:e,markerPlacement:{type:\"CIMMarkerPlacementOnVertices\",placePerPart:!0,angleToLine:!0,placeOnEndPoints:!1},frame:{xmin:-5,ymin:-5,xmax:5,ymax:5},markerGraphics:[{type:\"CIMMarkerGraphic\",geometry:{paths:[[[5,-5],[-5,-5],[-5,5],[5,5],[5,-5]]]},symbol:{type:\"CIMLineSymbol\",symbolLayers:[{type:\"CIMSolidStroke\",enable:!0,capStyle:\"Butt\",joinStyle:\"Round\",miterLimit:10,width:i(s.rightAngleHintOutlineSize),color:d},{type:\"CIMSolidFill\",enable:!0,color:g}]}}],scaleSymbolsProportionally:!0,respectFrame:!0}]}}}),x=P(45),v=P(225),C=(()=>{const e=o(),r=o(),i=a();return o=>(t(e,o.centerVertex,o.previousVertex),t(r,o.nextVertex,o.previousVertex),n(i,e,r),i[2]<0?x:v)})();export{h as SnappingVisualizer2D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{abortMaybe as s,isSome as i,isNone as r,unwrapOr as n}from\"../../core/maybe.js\";import{createTask as o}from\"../../core/promiseUtils.js\";import{createScreenPointArray as a}from\"../../core/screenUtils.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import d from\"../../layers/GraphicsLayer.js\";import{makeDehydratedPoint as c}from\"../../layers/graphics/dehydratedFeatures.js\";import{SnappingVisualizer2D as l}from\"../2d/interactive/SnappingVisualizer2D.js\";import{createCoordinateHelper as m}from\"../interactive/coordinateHelper.js\";import{EditGeometry as y,Component as _}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as u}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{SnappingContext as g}from\"../interactive/snapping/SnappingContext.js\";var v;let f=v=class extends t.EventedAccessor{constructor(e){var t;super(e),this._hasZ=null,this._cursorScreenPoint=null,this._snappingTask=null,this._stagedVertex=null,this._stagedVertexUnsnapped=null,this._lastVertexUnsnapped=null,this._nativeEventHistory={undoStack:[],redoStack:[]},this.interactiveUndoDisabled=!1,this.history=[],this.redoHistory=[],this.snapToScene=!1,this.view=null,this.elevationInfo=null,this.defaultZ=0,this._coordinateHelper=m(e.hasZ,!1,e.view.spatialReference),this._snappingManager=e.snappingManager,this._editGeometryOperations=new u(new y(null!=(t=e.editGeometryType)?t:\"polygon\",this._coordinateHelper,2)),this._snappingGraphicsLayer=new d({id:v.SNAPPING_GRAPHICS_LAYER_ID,listMode:\"hide\",internal:!0}),this._snappingContext=new g({editGeometryOperations:this._editGeometryOperations,elevationInfo:{mode:\"on-the-ground\",offset:0},pointer:\"mouse\",visualizer:new l(this._snappingGraphicsLayer)}),this._activeComponent=new _(e.view.spatialReference,2),this._editGeometryOperations.data.components.push(this._activeComponent)}initialize(){\"2d\"===this.view.type&&this.view.map.layers.add(this._snappingGraphicsLayer)}destroy(){this._snappingTask=s(this._snappingTask),this.view.map.layers.remove(this._snappingGraphicsLayer),this._snappingGraphicsLayer.destroy(),i(this._snappingManager)&&this._snappingManager.doneSnapping(),this._editGeometryOperations.destroy()}get _committedVertices(){return this._editGeometryOperations.data.components[0].vertices.map((e=>e.pos))}get vertices(){return i(this._stagedVertex)?[...this._committedVertices,this._coordinateHelper.pointToArray(this._stagedVertex)]:this._committedVertices}get hasZ(){return i(this._hasZ)?this._hasZ:\"3d\"===this.view.type}set hasZ(e){this._hasZ=e,this.notifyChange(\"hasZ\")}canUndo(){return this._editGeometryOperations.canUndo}canRedo(){return this._editGeometryOperations.canRedo}undo(){this.canUndo&&this._editGeometryOperations.undo()}redo(){this.canRedo&&this._editGeometryOperations.redo()}getCoordsFromScreenPoint(e){const t=this.screenToMap(e);return i(t)?t.hasZ?[t.x,t.y,t.z]:[t.x,t.y]:null}getCoordsAndPointFromScreenPoint(e){const t=this.screenToMap(e);return i(t)?t.hasZ?{vertex:[t.x,t.y,t.z],mapPoint:t}:{vertex:[t.x,t.y],mapPoint:t}:null}_pushCursorVertex(e){const t=c(e[0],e[1],null,this.view.spatialReference);this._stagedVertexUnsnapped=t,r(this._snappingManager)?this._stagedVertex=t:(this._stagedVertex=this._snappingManager.update(t,this._snappingContext),this._snappingTask=o((async e=>{if(i(this._snappingManager)){const s=await this._snappingManager.snap(t,this._snappingContext,e);return s.valid&&(this._stagedVertex=s.apply(),this.notifyChange(\"vertices\")),s}return null})))}_popCursorVertex(){this._stagedVertex=null,this._stagedVertexUnsnapped=null,this.notifyChange(\"vertices\")}getGeometryZValue(){return this.defaultZ}screenToMap(e){let t=null;if(\"3d\"===this.view.type)if(this.hasZ){const s=n(this.elevationInfo,x);t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(a(e.x,e.y),s,this.getGeometryZValue())}else{const s=n(this.elevationInfo,G);t=this.view.sceneIntersectionHelper.intersectElevationFromScreen(a(e.x,e.y),s,0),i(t)&&(t.z=void 0)}else t=this.view.toMap(e),i(t)&&(t.z=this.hasZ?this.getGeometryZValue():void 0);return t}_isDuplicateOfLastVertex(e){const t=this._editGeometryOperations.data.components[0].getLastVertex();if(i(t)&&e[0]===t[0]&&e[1]===t[1])return!0;const{x:s,y:r}=this._coordinateHelper.vectorToDehydratedPoint(e);return!(!i(this._lastVertexUnsnapped)||s!==this._lastVertexUnsnapped.x||r!==this._lastVertexUnsnapped.y)}_vertexAddHandler(e){const t=i(this._stagedVertex)?this._coordinateHelper.pointToArray(this._stagedVertex):this.getCoordsFromScreenPoint(this._cursorScreenPoint);i(t)&&this._addVertex(t,e.native)}_drawCompleteHandler(e){this._completeDrawing(e.native)}};f.SNAPPING_GRAPHICS_LAYER_ID=\"DrawAction-snapping-graphics-layer\",e([p({readOnly:!0})],f.prototype,\"vertices\",null),e([p({type:Boolean,nonNullable:!0})],f.prototype,\"interactiveUndoDisabled\",void 0),e([p({readOnly:!0})],f.prototype,\"history\",void 0),e([p({readOnly:!0})],f.prototype,\"redoHistory\",void 0),e([p()],f.prototype,\"snapToScene\",void 0),e([p()],f.prototype,\"view\",void 0),e([p()],f.prototype,\"elevationInfo\",void 0),e([p({nonNullable:!0})],f.prototype,\"defaultZ\",void 0),e([p()],f.prototype,\"hasZ\",null),f=v=e([h(\"esri.views.draw.DrawAction\")],f);const x={mode:\"absolute-height\",offset:0},G={mode:\"on-the-ground\",offset:0},V=f;export{V as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nclass t{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-add\"}preventDefault(){this.defaultPrevented=!0}}class e{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-update\"}preventDefault(){this.defaultPrevented=!0}}class s{constructor(t,e,s,i){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.defaultPrevented=!1,this.type=\"vertex-remove\"}preventDefault(){this.defaultPrevented=!0}}class i{constructor(t,e,s,i,r=null){this.view=t,this.native=e,this.vertexIndex=s,this.vertices=i,this.mapPoint=r,this.coordinates=null,this.defaultPrevented=!1,this.type=\"cursor-update\",this.coordinates=1===i.length?i[0]:null}preventDefault(){this.defaultPrevented=!0}}class r{constructor(t,e){this.native=t,this.vertices=e,this.coordinates=null,this.defaultPrevented=!1,this.type=\"draw-complete\",this.coordinates=1===e.length?e[0]:null}preventDefault(){this.defaultPrevented=!0}}export{i as CursorUpdateEvent,r as DrawCompleteEvent,t as VertexAddEvent,s as VertexRemoveEvent,e as VertexUpdateEvent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"./tslib.es6.js\";import\"../geometry.js\";import t from\"../core/Handles.js\";import{abortMaybe as i,isSome as s,isNone as o}from\"../core/maybe.js\";import\"../core/Logger.js\";import\"../core/accessorSupport/ensureType.js\";import\"../core/arrayUtils.js\";import\"../core/has.js\";import\"../core/accessorSupport/set.js\";import{subclass as n}from\"../core/accessorSupport/decorators/subclass.js\";import r from\"../views/draw/DrawAction.js\";import{VertexRemoveEvent as a,VertexAddEvent as p,CursorUpdateEvent as d,DrawCompleteEvent as h}from\"../views/draw/input/DrawEvents.js\";import{ViewEventPriorities as c}from\"../views/input/InputManager.js\";import{SKETCH_KEYS as _}from\"../views/interactive/keybindings.js\";import{createScreenPointFromEvent as v}from\"../views/support/screenUtils.js\";import l from\"../geometry/Point.js\";let u=class extends r{constructor(e){super(e),this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new t,this._undoRedoHandles=new t}initialize(){this._addViewHandles(),this._addUndoRedoHandles()}destroy(){this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy(),this.emit(\"destroy\")}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){this._completeDrawing()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),c.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=v(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),c.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=v(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),c.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._addVertexOnPointerUp=!1)}),c.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=i(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp)this._vertexAddHandler(e);else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),c.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),c.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),c.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),c.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:s}=e;t===_.vertexAdd&&!s&&this._cursorScreenPoint?(e.stopPropagation(),this._snappingTask=i(this._snappingTask),this._vertexAddHandler(e)):t!==_.complete||s?t!==_.undo||this.interactiveUndoDisabled||s?t!==_.redo||this.interactiveUndoDisabled||s?t!==_.pan||s||e.stopPropagation():(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),c.TOOL),this.view.on(\"key-up\",(e=>{e.key===_.pan&&e.stopPropagation()}),c.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometryOperations.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];s(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new a(this.view,t,e.vertices[0].index,i))}})),this._editGeometryOperations.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new p(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];s(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new p(this.view,t,e.vertices[0].index,i))}}))])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(i);const s=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(s)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(s(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new d(this.view,e,this._activeComponent.vertices.length,this.vertices,s(this._stagedVertex)?new l(this._stagedVertex):null);this.emit(\"cursor-update\",t()),s(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._snappingTask=i(this._snappingTask),s(this._snappingManager)&&this._snappingManager.doneSnapping(),this.vertices.length<1)return;const t=new h(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return m(e)&&(o(this._activePointerId)||this._activePointerId===e.pointerId)}};function m(e){return\"mouse\"!==e.pointerType||0===e.button}u=e([n(\"esri.views.draw.MultipointDrawAction\")],u);const g=Object.freeze({__proto__:null,get MultipointDrawAction(){return u}});export{u as M,g as a};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Evented.js\";import{HandleOwnerMixin as o}from\"../../core/HandleOwner.js\";import{unwrapOr as r,destroyMaybe as i}from\"../../core/maybe.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{DrawOperation as s}from\"./DrawOperation.js\";import{SceneDrawSurface as p,ElevationDrawSurface as d}from\"./drawSurfaces.js\";import{InteractiveToolBase as l}from\"../interactive/InteractiveToolBase.js\";let h=class extends(o(t.EventedMixin(l))){constructor(e){super(e),this.defaultZ=0,this.elevationInfo=null,this.hasZ=!0,this.mode=null,this.snapToScene=null,this.type=\"draw-3d\"}initialize(){const e=r(this.elevationInfo,{mode:this.hasZ?\"absolute-height\":\"on-the-ground\",offset:0}),t=this.view;this.drawOperation=new s({view:t,manipulators:this.manipulators,geometryType:this.geometryType,drawingMode:this.mode,hasZ:this.hasZ,defaultZ:this.defaultZ,snapToSceneEnabled:this.snapToScene,drawSurface:\"3d\"===t.type?new p(t,e):null,elevationDrawSurface:\"3d\"===t.type?new d(e,this.defaultZ,t):null,hasM:!1,elevationInfo:e}),this.handles.add([this.drawOperation.on(\"vertex-add\",(e=>this.onVertexAdd(e))),this.drawOperation.on(\"vertex-remove\",(e=>this.onVertexRemove(e))),this.drawOperation.on(\"vertex-update\",(e=>this.onVertexUpdate(e))),this.drawOperation.on(\"cursor-update\",(e=>this.onCursorUpdate(e))),this.drawOperation.on(\"complete\",(e=>this.onComplete(e)))]),this.complete()}destroy(){this.drawOperation=i(this.drawOperation),this._set(\"view\",null)}get canRedo(){return this.drawOperation.canRedo}get canUndo(){return this.drawOperation.canUndo}set enabled(e){this.drawOperation.interactive=e,this._set(\"enabled\",e)}get updating(){var e,t;return null!=(e=null==(t=this.drawOperation)?void 0:t.updating)&&e}completeCreateOperation(){this.drawOperation.complete()}onDeactivate(){this.drawOperation.isCompleted||this.drawOperation.cancel()}getVertexCoords(){return this.drawOperation.vertices}onInputEvent(e){this.drawOperation.onInputEvent(e)}redo(){this.drawOperation.redo()}reset(){}undo(){this.drawOperation.undo()}onComplete(e){this.emit(\"complete\",e)}onCursorUpdate(e){this.emit(\"cursor-update\",e)}onVertexAdd(e){this.emit(\"vertex-add\",e)}onVertexRemove(e){this.emit(\"vertex-remove\",e)}onVertexUpdate(e){this.emit(\"vertex-update\",e)}};e([n({constructOnly:!0,nonNullable:!0})],h.prototype,\"defaultZ\",void 0),e([n()],h.prototype,\"drawOperation\",void 0),e([n({constructOnly:!0})],h.prototype,\"elevationInfo\",void 0),e([n({value:!0})],h.prototype,\"enabled\",null),e([n({constructOnly:!0})],h.prototype,\"geometryType\",void 0),e([n({constructOnly:!0})],h.prototype,\"hasZ\",void 0),e([n({constructOnly:!0})],h.prototype,\"mode\",void 0),e([n()],h.prototype,\"snapToScene\",void 0),e([n({readOnly:!0})],h.prototype,\"type\",void 0),e([n({readOnly:!0})],h.prototype,\"updating\",null),e([n({constructOnly:!0,nonNullable:!0})],h.prototype,\"view\",void 0),h=e([a(\"esri.views.draw.DrawTool\")],h);export{h as DrawTool};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import{deprecatedProperty as t}from\"../../core/deprecate.js\";import i from\"../../core/Handles.js\";import s from\"../../core/Logger.js\";import{abortMaybe as r,destroyMaybe as o,isSome as n,isNone as a}from\"../../core/maybe.js\";import{property as p}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as h}from\"../../core/accessorSupport/decorators/subclass.js\";import d from\"./DrawAction.js\";import{DrawTool as c}from\"./DrawTool.js\";import{CursorUpdateEvent as l,DrawCompleteEvent as _}from\"./input/DrawEvents.js\";import{ViewEventPriorities as m}from\"../input/InputManager.js\";import{SKETCH_KEYS as v}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as u}from\"../support/screenUtils.js\";import w from\"../../geometry/Point.js\";let g=class extends d{constructor(e){super(e),this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new i}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}get coordinates(){return t(s.getLogger(\"esri.views.draw.PointDrawAction\"),\"coordinates\",{replacement:\"vertices\",version:\"4.19\"}),this.vertices[0]}complete(){\"2d\"===this.view.type?this._cursorScreenPoint&&this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=r(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=u(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),m.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=r(this._snappingTask),this._cursorScreenPoint=u(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),m.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=r(this._snappingTask),this._addVertexOnPointerUp=!1)}),m.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=r(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp)e.stopPropagation(),this._vertexAddHandler(e);else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),m.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),m.TOOL),this.view.on(\"key-down\",(e=>{e.key===v.complete&&this._cursorScreenPoint&&(this._snappingTask=r(this._snappingTask),this._vertexAddHandler(e))}),m.TOOL)])}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(e){this._drawTool=new c({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"point\",mode:\"click\"}),this.view.addAndActivateTool(this._drawTool),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new l(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new _(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){this.view.tools.remove(this._drawTool),this._drawTool=o(this._drawTool)}_addVertex(e){const t=this._coordinateHelper.arrayToVector(e);this._isDuplicateOfLastVertex(t)||(this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(t),this.notifyChange(\"vertices\"),this._completeDrawing())}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(n(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new l(this.view,e,this._activeComponent.vertices.length,this.vertices,n(this._stagedVertex)?new w(this._stagedVertex):null);this.emit(\"cursor-update\",t()),n(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){this._activePointerId=null,this._popCursorVertex(),this._snappingTask=r(this._snappingTask),n(this._snappingManager)&&this._snappingManager.doneSnapping();const t=new _(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return T(e)&&(a(this._activePointerId)||this._activePointerId===e.pointerId)}};function T(e){return\"mouse\"!==e.pointerType||0===e.button}e([p({readOnly:!0})],g.prototype,\"coordinates\",null),g=e([h(\"esri.views.draw.PointDrawAction\")],g);export{g as PointDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Handles.js\";import{abortMaybe as i,isSome as o,destroyMaybe as s,isNone as r}from\"../../core/maybe.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{drawingModes as d,defaultDrawingMode as h}from\"./DrawingMode.js\";import p from\"./DrawAction.js\";import{DrawTool as l}from\"./DrawTool.js\";import{VertexRemoveEvent as _,VertexAddEvent as c,CursorUpdateEvent as v,DrawCompleteEvent as u}from\"./input/DrawEvents.js\";import{ViewEventPriorities as m}from\"../input/InputManager.js\";import{SKETCH_KEYS as w}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as g}from\"../support/screenUtils.js\";import T from\"../../geometry/Point.js\";let y=class extends p{constructor(e){super(e),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new t,this._undoRedoHandles=new t,this.mode=h}initialize(){\"2d\"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}getGeometryZValue(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get(\"defaultZ\")}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),m.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=g(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),m.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=i(this._snappingTask),this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._cursorScreenPoint=g(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),m.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=g(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),m.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=i(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),m.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&o(this._activePointerId)&&!this._panEnabled&&e.stopPropagation()}),m.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),m.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),m.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),m.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:o}=e;t===w.vertexAdd&&!o&&this._cursorScreenPoint?(e.stopPropagation(),this._snappingTask=i(this._snappingTask),this._vertexAddHandler(e)):t!==w.complete||o?t!==w.undo||this.interactiveUndoDisabled||o?t!==w.redo||this.interactiveUndoDisabled||o?t!==w.pan||o||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),m.TOOL),this.view.on(\"key-up\",(e=>{e.key===w.pan&&(e.stopPropagation(),this._panEnabled=!1)}),m.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometryOperations.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new _(this.view,t,e.vertices[0].index,i))}})),this._editGeometryOperations.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new c(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new c(this.view,t,e.vertices[0].index,i))}}))])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addDrawTool(e){this._drawTool=new l({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polygon\",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new c(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new v(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new u(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){this.view.tools.remove(this._drawTool),this._drawTool=s(this._drawTool)}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(o(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new v(this.view,e,this._activeComponent.vertices.length,this.vertices,o(this._stagedVertex)?new T(this._stagedVertex):null);this.emit(\"cursor-update\",t()),o(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<3)return;this._snappingTask=i(this._snappingTask),o(this._snappingManager)&&this._snappingManager.doneSnapping();const t=new u(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return x(e)&&(r(this._activePointerId)||this._activePointerId===e.pointerId)}};function x(e){return\"mouse\"!==e.pointerType||0===e.button}e([n()],y.prototype,\"_dragEnabled\",null),e([n()],y.prototype,\"_clickEnabled\",null),e([n({type:d})],y.prototype,\"mode\",void 0),y=e([a(\"esri.views.draw.PolygonDrawAction\")],y);export{y as PolygonDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Handles.js\";import{abortMaybe as i,isSome as o,destroyMaybe as s,isNone as r}from\"../../core/maybe.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{drawingModes as d,defaultDrawingMode as h}from\"./DrawingMode.js\";import p from\"./DrawAction.js\";import{DrawTool as l}from\"./DrawTool.js\";import{VertexRemoveEvent as _,VertexAddEvent as c,CursorUpdateEvent as v,DrawCompleteEvent as u}from\"./input/DrawEvents.js\";import{ViewEventPriorities as m}from\"../input/InputManager.js\";import{SKETCH_KEYS as w}from\"../interactive/keybindings.js\";import{createScreenPointFromEvent as g}from\"../support/screenUtils.js\";import T from\"../../geometry/Point.js\";let y=class extends p{constructor(e){super(e),this._panEnabled=!1,this._popVertexOnPointerMove=!1,this._addVertexOnPointerUp=!1,this._activePointerId=null,this._viewHandles=new t,this._undoRedoHandles=new t,this.mode=h}initialize(){\"2d\"===this.view.type?(this._addViewHandles(),this._addUndoRedoHandles()):this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy(),this._removeUndoRedoHandles(),this._undoRedoHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}get _clickEnabled(){return\"click\"===this.mode||\"hybrid\"===this.mode}get _dragEnabled(){return\"freehand\"===this.mode||\"hybrid\"===this.mode}undo(){super.undo(),this.notifyChange(\"vertices\")}redo(){super.redo(),this.notifyChange(\"vertices\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}_addViewHandles(){this._removeViewHandles(),this._viewHandles.add([this.view.on(\"click\",(e=>{e.stopPropagation()}),m.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&!this._panEnabled&&(this._snappingTask=i(this._snappingTask),this._activePointerId=e.pointerId,this._addVertexOnPointerUp=!0,this._cursorScreenPoint=g(e),\"touch\"===e.pointerType&&this._updateCursor(e.native))}),m.TOOL),this.view.on(\"pointer-move\",(e=>{this._popVertexOnPointerMove&&(this.undo(),this._popVertexOnPointerMove=!1),this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=g(e),\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),m.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=i(this._snappingTask),this._cursorScreenPoint=g(e),this._dragEnabled&&!this._panEnabled?this._vertexAddHandler(e):this._addVertexOnPointerUp=!1)}),m.TOOL),this.view.on(\"pointer-up\",(e=>{if(this._shouldHandlePointerEvent(e))if(this._snappingTask=i(this._snappingTask),this._activePointerId=null,this._addVertexOnPointerUp){if(!this._clickEnabled)return 1===this.vertices.length&&this.vertices.pop(),void this._drawCompleteHandler(e);this._vertexAddHandler(e)}else{const t=\"touch\"===e.pointerType;this._updateCursor(e.native,t)}}),m.TOOL),this.view.on(\"drag\",(e=>{this._dragEnabled&&o(this._activePointerId)&&!this._panEnabled&&e.stopPropagation()}),m.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),m.TOOL),this.view.on(\"double-click\",(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),m.TOOL),this.view.on(\"double-click\",[\"Control\"],(e=>{e.stopPropagation(),this._drawCompleteHandler(e)}),m.TOOL),this.view.on(\"key-down\",(e=>{const{key:t,repeat:o}=e;t===w.vertexAdd&&!o&&this._cursorScreenPoint?(e.stopPropagation(),this._snappingTask=i(this._snappingTask),this._vertexAddHandler(e)):t!==w.complete||o?t!==w.undo||this.interactiveUndoDisabled||o?t!==w.redo||this.interactiveUndoDisabled||o?t!==w.pan||o||(e.stopPropagation(),this._panEnabled=!0):(e.stopPropagation(),this.redo()):(e.stopPropagation(),this.undo()):(e.stopPropagation(),this._drawCompleteHandler(e))}),m.TOOL),this.view.on(\"key-up\",(e=>{e.key===w.pan&&(e.stopPropagation(),this._panEnabled=!1)}),m.TOOL)])}_addUndoRedoHandles(){this._removeUndoRedoHandles(),this._undoRedoHandles.add([this._editGeometryOperations.on(\"vertex-remove\",(e=>{if(this.notifyChange(\"vertices\"),\"undo\"===e.operation){const t=this._nativeEventHistory.undoStack.pop();this._nativeEventHistory.redoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"undo\",new _(this.view,t,e.vertices[0].index,i))}})),this._editGeometryOperations.on(\"vertex-add\",(e=>{if(this.notifyChange(\"vertices\"),\"apply\"===e.operation){const e=this._nativeEventHistory.undoStack[this._nativeEventHistory.undoStack.length],t=this._committedVertices.length-1,i=new c(this.view,e,t,this.vertices);this.emit(\"vertex-add\",i),i.defaultPrevented&&(this._popVertexOnPointerMove=!0)}else if(\"redo\"===e.operation){const t=this._nativeEventHistory.redoStack.pop();this._nativeEventHistory.undoStack.push(t);const i=[...this._committedVertices];o(this._stagedVertex)&&i.push(this._coordinateHelper.pointToArray(this._stagedVertex)),this.emit(\"redo\",new c(this.view,t,e.vertices[0].index,i))}}))])}_removeViewHandles(){this._viewHandles.removeAll()}_removeUndoRedoHandles(){this._undoRedoHandles.removeAll()}_addDrawTool(e){this._drawTool=new l({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"polyline\",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new c(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new v(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new u(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){this.view.tools.remove(this._drawTool),this._drawTool=s(this._drawTool)}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(i);const o=t||new Event(\"placeholder\");this._nativeEventHistory.undoStack.push(o)}_updateCursor(e,t=!1){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const i=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(o(i)&&!t){this._pushCursorVertex(i.vertex);const t=()=>new v(this.view,e,this._activeComponent.vertices.length,this.vertices,o(this._stagedVertex)?new T(this._stagedVertex):null);this.emit(\"cursor-update\",t()),o(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",t())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._committedVertices.length<2)return;this._snappingTask=i(this._snappingTask),o(this._snappingManager)&&this._snappingManager.doneSnapping();const t=new u(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_shouldHandlePointerEvent(e){return x(e)&&(r(this._activePointerId)||this._activePointerId===e.pointerId)}};function x(e){return\"mouse\"!==e.pointerType||0===e.button}e([n()],y.prototype,\"_clickEnabled\",null),e([n()],y.prototype,\"_dragEnabled\",null),e([n({type:d})],y.prototype,\"mode\",void 0),y=e([a(\"esri.views.draw.PolylineDrawAction\")],y);export{y as PolylineDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import\"../../geometry.js\";import t from\"../../core/Handles.js\";import{isSome as i,abortMaybe as s,isNone as r,destroyMaybe as o}from\"../../core/maybe.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import h from\"./DrawAction.js\";import{DrawTool as d}from\"./DrawTool.js\";import{VertexAddEvent as p,CursorUpdateEvent as _,DrawCompleteEvent as l}from\"./input/DrawEvents.js\";import{createViewAlignedCoordinateSystem as c}from\"./support/surfaceCoordinateSystems.js\";import{ViewEventPriorities as m}from\"../input/InputManager.js\";import{SKETCH_KEYS as g}from\"../interactive/keybindings.js\";import{EditGeometry as v,Component as w}from\"../interactive/editGeometry/EditGeometry.js\";import{EditGeometryOperations as u}from\"../interactive/editGeometry/EditGeometryOperations.js\";import{createScreenPointFromEvent as T}from\"../support/screenUtils.js\";import y from\"../../geometry/Point.js\";const P=[\"freehand\",\"click\"];let k=class extends h{constructor(e){super(e),this._isDragging=!1,this._panEnabled=!1,this._viewHandles=new t,this._activePointerId=null,this._addVertexOnPointerUp=!1,this.viewAlignedCoordinateSystem=null,this.mode=\"freehand\"}initialize(){\"2d\"===this.view.type?this._addViewHandles():this._addDrawTool(this.view)}destroy(){\"2d\"===this.view.type?(this._removeViewHandles(),this._viewHandles.destroy()):this._removeDrawTool(),this.emit(\"destroy\")}complete(){\"2d\"===this.view.type?this._completeDrawing():this._drawTool.completeCreateOperation()}getGeometryZValue(){return this.vertices.length>0&&this.vertices[0].length>2?this.vertices[0][2]:this._get(\"defaultZ\")}_addViewHandles(){this._removeViewHandles(),\"click\"===this.mode?this._viewHandles.add(this._getClickModeViewHandles()):this._viewHandles.add(this._getDragModeViewHandles())}_getDragModeViewHandles(){return[this.view.on(\"immediate-click\",(e=>{if(e.stopPropagation(),e.mapPoint&&!this._panEnabled){const t=this.getCoordsFromScreenPoint(T(e));i(t)&&(this._vertexAddHandler(e),this._drawCompleteHandler(e))}}),m.TOOL),this.view.on(\"pointer-down\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._panEnabled||(this._resetGeometry(),this._addVertexOnPointerUp=!0,this._cursorScreenPoint=T(e),this._activePointerId=e.pointerId,this._vertexAddHandler(e),this._isDragging=!1,\"touch\"===e.pointerType&&this._updateCursor(e.native)))}),m.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=s(this._snappingTask),r(this._activePointerId)&&\"touch\"!==e.pointerType&&(this._cursorScreenPoint=T(e),this._updateCursor(e.native))}),m.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._isDragging=!0,this._cursorScreenPoint=T(e),this._updateCursor(e.native))}),m.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&this._addVertexOnPointerUp&&(this._snappingTask=s(this._snappingTask),this._activePointerId=null,this._isDragging&&this._vertexAddHandler(e),2===this._committedVertices.length&&this._drawCompleteHandler(e),this._isDragging=!1)}),m.TOOL),this.view.on(\"key-down\",(e=>{e.key===g.complete&&this._cursorScreenPoint?(this._snappingTask=s(this._snappingTask),this._vertexAddHandler(e),this._drawCompleteHandler(e)):e.key===g.pan&&(this._panEnabled=!0)}),m.TOOL),this.view.on(\"key-up\",(e=>{e.key===g.pan&&(this._panEnabled=!1)}),m.TOOL),this.view.on(\"drag\",(e=>{i(this._activePointerId)&&e.stopPropagation()}),m.TOOL),this.view.on(\"drag\",[\"Shift\"],(e=>{e.stopPropagation()}),m.TOOL)]}_getClickModeViewHandles(){return[this.view.on(\"pointer-down\",(e=>{this._snappingTask=s(this._snappingTask),this._cursorScreenPoint=T(e),this._activePointerId=e.pointerId,this._isDragging=!1,\"touch\"===e.pointerType&&this._updateCursor(e.native)}),m.TOOL),this.view.on(\"pointer-move\",(e=>{this._snappingTask=s(this._snappingTask),this._cursorScreenPoint=T(e),r(this._activePointerId)&&\"touch\"!==e.pointerType&&this._updateCursor(e.native)}),m.TOOL),this.view.on(\"pointer-drag\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._isDragging=!0)}),m.TOOL),this.view.on(\"pointer-up\",(e=>{this._shouldHandlePointerEvent(e)&&(this._snappingTask=s(this._snappingTask),this._activePointerId=null,e.stopPropagation(),this._isDragging||this._vertexAddHandler(e),2!==this.vertices.length||this._isDragging||this._drawCompleteHandler(e),this._isDragging=!1)}),m.TOOL),this.view.on(\"key-down\",(e=>{e.key===g.vertexAdd&&this._cursorScreenPoint&&(this._vertexAddHandler(e),2===this.vertices.length&&this._drawCompleteHandler(e)),e.key===g.complete&&this._cursorScreenPoint&&2===this.vertices.length&&(this._vertexAddHandler(e),this._drawCompleteHandler(e))}),m.TOOL)]}_removeViewHandles(){this._viewHandles.removeAll()}_addDrawTool(e){this._drawTool=new d({view:e,elevationInfo:this.elevationInfo,hasZ:this.hasZ,geometryType:\"segment\",mode:this.mode}),this.view.addAndActivateTool(this._drawTool),this._drawTool.on(\"vertex-add\",(e=>{1===e.vertices.length&&this.emit(\"vertex-add\",new p(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"cursor-update\",(e=>{1===e.vertices.length&&this.emit(\"cursor-update\",new _(this.view,null,e.vertices[0].vertexIndex,this._drawTool.getVertexCoords()))})),this._drawTool.on(\"complete\",(e=>{this.emit(\"draw-complete\",new l(null,this._drawTool.getVertexCoords())),this._removeDrawTool()}))}_removeDrawTool(){this.view.tools.remove(this._drawTool),this._drawTool=o(this._drawTool)}_addVertex(e,t){const i=this._coordinateHelper.arrayToVector(e);if(this._isDuplicateOfLastVertex(i))return;this._lastVertexUnsnapped=this._stagedVertexUnsnapped,this._popCursorVertex(),this._editGeometryOperations.appendVertex(i),1===this._committedVertices.length&&(this.viewAlignedCoordinateSystem=c(this.view,this._committedVertices[0]));const s=this._committedVertices.length-1,r=new p(this.view,t,s,this.vertices);this.emit(\"vertex-add\",r)}_updateCursor(e){if(this._popCursorVertex(),!this._cursorScreenPoint)return;const t=this.getCoordsAndPointFromScreenPoint(this._cursorScreenPoint);if(i(t)){this._pushCursorVertex(t.vertex);const s=()=>new _(this.view,e,this._activeComponent.vertices.length,this.vertices,i(this._stagedVertex)?new y(this._stagedVertex):null);this.emit(\"cursor-update\",s()),i(this._snappingTask)&&this._snappingTask.promise.then((e=>{e.valid&&this.emit(\"cursor-update\",s())}),(()=>{}))}}_completeDrawing(e){if(this._activePointerId=null,this._popCursorVertex(),this._cursorScreenPoint=null,this._isDragging=!1,this._snappingTask=s(this._snappingTask),i(this._snappingManager)&&this._snappingManager.doneSnapping(),this.vertices.length<1)return;const t=new l(e,this.vertices);this.emit(\"draw-complete\",t),t.defaultPrevented||this._removeViewHandles()}_resetGeometry(){this._editGeometryOperations.destroy(),this._editGeometryOperations=new u(new v(\"polygon\",this._coordinateHelper,2)),this._activeComponent=new w(this._coordinateHelper.spatialReference,2),this._editGeometryOperations.data.components.push(this._activeComponent)}_shouldHandlePointerEvent(e){return H(e)&&(r(this._activePointerId)||this._activePointerId===e.pointerId)}};function H(e){return\"mouse\"!==e.pointerType||0===e.button}e([n({type:P})],k.prototype,\"mode\",void 0),k=e([a(\"esri/views/2d/engine/markup/SegmentDrawAction\")],k);export{k as SegmentDrawAction};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import e from\"../../core/Accessor.js\";import\"../../core/has.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as i}from\"../../core/accessorSupport/decorators/subclass.js\";import{M as r}from\"../../chunks/MultipointDrawAction.js\";import{PointDrawAction as s}from\"./PointDrawAction.js\";import{PolygonDrawAction as c}from\"./PolygonDrawAction.js\";import{PolylineDrawAction as n}from\"./PolylineDrawAction.js\";import{SegmentDrawAction as a}from\"./SegmentDrawAction.js\";let p=class extends e{constructor(){super(...arguments),this.activeAction=null,this.type=\"draw\",this.view=null}destroy(){this.activeAction&&(this.activeAction.destroy(),this.activeAction=null)}create(t,e){this.reset();const o={view:this.view,...e};switch(t){case\"point\":o.editGeometryType=\"point\",this.activeAction=new s(o);break;case\"polyline\":o.editGeometryType=\"polyline\",this.activeAction=new n(o);break;case\"multipoint\":o.editGeometryType=\"polygon\",this.activeAction=new r(o);break;case\"polygon\":o.editGeometryType=\"polygon\",this.activeAction=new c(o);break;case\"rectangle\":case\"circle\":case\"ellipse\":case\"triangle\":o.editGeometryType=\"polygon\",this.activeAction=new a(o)}return this.activeAction}complete(){this.activeAction&&this.activeAction.complete(),this.activeAction=null}reset(){this.activeAction&&this.activeAction.destroy(),this.activeAction=null}};t([o()],p.prototype,\"activeAction\",void 0),t([o({readOnly:!0})],p.prototype,\"type\",void 0),t([o()],p.prototype,\"view\",void 0),p=t([i(\"esri.views.draw.Draw\")],p);const l=p;export{l as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport e from\"../../../Color.js\";const o={main:new e([255,127,0]),selected:new e([255,255,255]),outline:new e([0,0,0,.5]),selectedOutline:new e([255,255,255]),hoverOutline:new e([255,255,255]),secondary:new e([255,255,255]),secondaryOutline:new e([100,100,100]),transparent:new e([0,0,0,0])};function t(e,o){if(o)for(const t in o)e[t]=o[t]}class s{constructor(e){this.size=8,this.hoverSize=10,this.color=o.main,this.hoverColor=o.main,this.outlineColor=o.outline,this.hoverOutlineColor=o.hoverOutline,t(this,e)}}class n{constructor(e){this.color=o.secondary,this.hoverColor=o.main,t(this,e)}}class r{constructor(e){this.color=o.transparent,this.hoverColor=o.transparent,this.outlineColor=o.main,this.hoverOutlineColor=o.main,this.stagedColor=o.transparent,this.stagedOutlineColor=o.secondary,t(this,e)}}class i{constructor(e){this.vertex=new s,this.midpoint=new s({color:o.secondary,outlineColor:o.secondaryOutline,size:6}),this.selected=new s({color:o.selected,hoverColor:o.selected,hoverOutlineColor:o.hoverOutline}),t(this,e)}}class l{constructor(e){this.center=new s({color:o.secondaryOutline}),this.fill=new r,this.line=new n,this.vertex=new s({color:o.selected,outlineColor:o.main,hoverColor:o.selected,hoverOutlineColor:o.secondaryOutline}),t(this,e)}}class c{constructor(e){this.reshapeGraphics=new i,this.transformGraphics=new l,t(this,e)}}const h=new c;export{o as colors,h as settings};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import i from\"../../core/Evented.js\";import{isNone as o,isSome as s}from\"../../core/maybe.js\";import{pt2px as r,screenPointObjectToArray as l,createScreenPointArray as a}from\"../../core/screenUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{a as h}from\"../../chunks/vec2.js\";import{i as p}from\"../../chunks/vec3.js\";import{c as m}from\"../../chunks/vec3f64.js\";import{canProjectWithoutEngine as u,project as y,projectPointToVector as g}from\"../../geometry/projection.js\";import{getGraphicEffectiveElevationMode as d}from\"../../support/elevationInfoUtils.js\";import{getDefaultSymbol2D as b}from\"../../symbols/support/defaults.js\";import f from\"../../symbols/support/ElevationInfo.js\";import{intersectsDrapedGeometry as _}from\"../support/drapedUtils.js\";let v=class extends t{constructor(e){super(e),this.layer=null,this.interactive=!0,this.selectable=!1,this.grabbable=!0,this.dragging=!1,this.cursor=null,this.events=new i.EventEmitter,this._circleCollisionCache=null,this._graphicSymbolChangedHandle=null,this._originalSymbol=null}set graphic(e){this._circleCollisionCache=null,this._originalSymbol=e.symbol,this._set(\"graphic\",e),this.attachSymbolChanged()}get elevationInfo(){const e=\"elevationInfo\"in this.graphic.layer&&this.graphic.layer.elevationInfo,t=d(this.graphic),i=e?e.offset:0;return new f({mode:t,offset:i})}set focusedSymbol(e){e!==this._get(\"focusedSymbol\")&&(this._set(\"focusedSymbol\",e),this._updateGraphicSymbol(),this._circleCollisionCache=null)}grabbableForEvent(){return!0}set grabbing(e){e!==this._get(\"grabbing\")&&(this._set(\"grabbing\",e),this._updateGraphicSymbol())}set hovering(e){e!==this._get(\"hovering\")&&(this._set(\"hovering\",e),this._updateGraphicSymbol())}set selected(e){e!==this._get(\"selected\")&&(this._set(\"selected\",e),this._updateGraphicSymbol(),this.events.emit(\"select-changed\",{action:e?\"select\":\"deselect\"}))}get _focused(){return this._get(\"hovering\")||this._get(\"grabbing\")}destroy(){this.detachSymbolChanged(),this._resetGraphicSymbol(),this._set(\"view\",null)}intersectionDistance(e){const t=this.graphic;if(!1===t.visible)return null;const i=t.geometry;if(o(i))return null;const r=this._get(\"focusedSymbol\"),l=s(r)?r:t.symbol;return\"2d\"===this.view.type?this._intersectDistance2D(this.view,e,i,l):this._intersectDistance3D(this.view,e,t)}attach(){this.attachSymbolChanged(),s(this.layer)&&this.layer.add(this.graphic)}detach(){this.detachSymbolChanged(),this._resetGraphicSymbol(),s(this.layer)&&this.layer.remove(this.graphic)}attachSymbolChanged(){this.detachSymbolChanged(),this._graphicSymbolChangedHandle=this.graphic.watch(\"symbol\",(e=>{s(e)&&e!==this.focusedSymbol&&e!==this._originalSymbol&&(this._originalSymbol=e,this._focused&&s(this.focusedSymbol)&&(this.graphic.symbol=this.focusedSymbol))}),!0)}detachSymbolChanged(){s(this._graphicSymbolChangedHandle)&&(this._graphicSymbolChangedHandle.remove(),this._graphicSymbolChangedHandle=null)}_updateGraphicSymbol(){this.graphic.symbol=this._focused&&s(this.focusedSymbol)?this.focusedSymbol:this._originalSymbol}_resetGraphicSymbol(){this.graphic.symbol=this._originalSymbol}_intersectDistance2D(e,t,i,a){if(a=a||b(i),o(a))return null;const n=1;let c=this._circleCollisionCache;if(\"point\"!==i.type||\"simple-marker\"!==a.type)return _(t,i,e)?n:null;if(o(c)||!c.originalPoint.equals(i)){const t=i,o=e.spatialReference;if(u(t.spatialReference,o)){const e=y(t,o);c={originalPoint:t.clone(),mapPoint:e,radiusPx:r(a.size)},this._circleCollisionCache=c}}if(s(c)){const i=l(t,C),o=e.toScreen(c.mapPoint),s=c.radiusPx,p=o.x+r(a.xoffset),m=o.y-r(a.yoffset);return h(i,[p,m])<s*s?n:null}return null}_intersectDistance3D(e,t,i){const o=e.toMap(t,{include:[i]});return o&&g(o,S,e.renderSpatialReference)?p(S,e.state.camera.eye):null}};e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"graphic\",null),e([n({readOnly:!0})],v.prototype,\"elevationInfo\",null),e([n({constructOnly:!0,nonNullable:!0})],v.prototype,\"view\",void 0),e([n({value:null})],v.prototype,\"focusedSymbol\",null),e([n({constructOnly:!0})],v.prototype,\"layer\",void 0),e([n()],v.prototype,\"interactive\",void 0),e([n()],v.prototype,\"selectable\",void 0),e([n()],v.prototype,\"grabbable\",void 0),e([n({value:!1})],v.prototype,\"grabbing\",null),e([n()],v.prototype,\"dragging\",void 0),e([n()],v.prototype,\"hovering\",null),e([n({value:!1})],v.prototype,\"selected\",null),e([n()],v.prototype,\"cursor\",void 0),v=e([c(\"esri.views.interactive.GraphicManipulator\")],v);const S=m(),C=a();export{v as GraphicManipulator};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.22/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../core/Accessor.js\";import s from\"../../core/Error.js\";import i from\"../../core/Handles.js\";import{isSome as o,abortMaybe as r,destroyMaybe as n,isNone as a,unwrap as l}from\"../../core/maybe.js\";import{createTask as h,throwIfAborted as c,isAborted as p}from\"../../core/promiseUtils.js\";import{react as d,syncAndInitial as w,reactTruthy as v}from\"../../core/reactiveUtils.js\";import{property as u}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/arrayUtils.js\";import\"../../core/has.js\";import\"../../core/accessorSupport/ensureType.js\";import{subclass as y}from\"../../core/accessorSupport/decorators/subclass.js\";import{evaluateToolConstructorArguments as _}from\"../../views/interactive/interactiveToolUtils.js\";let m=class extends t{constructor(e){super(e),this.analysis=null,this.tool=null,this._baseHandles=new i,this._loggedUnsupportedErrorOnce=!1,this._reconnectViewTask=null,this._isAnalysisOwner=!0,this._parentChangeFromReconnect=!1,this._toolCreationTask=null,e&&null!=e.visible&&(this.visible=e.visible)}initialize(){this._baseHandles.add([d((()=>({ready:o(this.view)&&this.view.ready,supported:this.supported})),(({ready:e,supported:t})=>{!e||t||this._loggedUnsupportedErrorOnce||(this.logError(this.unsupportedErrorMessage),this._loggedUnsupportedErrorOnce=!0),this._scheduleViewReconnect()}),w),d((()=>o(this.analysis)?this.analysis.parent:null),(e=>{this._isAnalysisOwner&&o(e)&&e!==this.view&&(this._isAnalysisOwner=!1),this._parentChangeFromReconnect||this._scheduleViewReconnect()}),{sync:!0})])}destroy(){this.removeTool(),this._reconnectViewTask=r(this._reconnectViewTask),this._disconnectFromView(this.view),this.view=null,this._baseHandles=n(this._baseHandles),this._isAnalysisOwner&&o(this.analysis)&&(this.analysis.destroy(),this._set(\"analysis\",null))}get supported(){return a(this.view)||this.view.type===this.supportedViewType}get view(){return this._get(\"view\")}set view(e){if(e===this.view)return;this._disconnectFromView(this.view),this.removeTool(),this._set(\"view\",e);const t=\"tools\";this._baseHandles.remove(t),a(e)||this._baseHandles.add(e.tools.on(\"change\",(e=>{if(this.tool)for(const t of e.removed)if(this.tool===t){t.destroyed||t.destroy(),this._set(\"tool\",null);break}})),t)}set visible(e){this._set(\"visible\",e),o(this.tool)&&(this.tool.visible=e),e||(this._toolCreationTask=r(this._toolCreationTask))}get active(){return o(this._toolCreationTask)&&!this._toolCreationTask.finished||o(this.tool)&&this.tool.active}get disabled(){return a(this.view)||!this.view.ready||!this.supported}get creatingTool(){return o(this._toolCreationTask)&&!this._toolCreationTask.finished}onConnectToAnalysisView(e){}onDisconnectFromAnalysisView(){}async createTool(){const e=\"Tool creation was interrupted by another tool being created.\";if(o(this.tool)&&this.tool.rejectCreation(e),this.removeTool(),a(this.view)||!this.supported)return Promise.reject(new s(\"tool:create\",\"The view does not support the tool.\",this.unsupportedErrorMessage));this._toolCreationTask=h((async t=>{await l(this.view).whenReady(),c(t,e);const s=this.createToolParams(),i=_(s.constructorArguments);o(this.analysis)&&(i.analysis=this.analysis);const r=new s.toolConstructor({visible:this.visible,...i,view:this.view});return await r.whenCreationStarted(),p(t)&&r.rejectCreation(e),c(t,e),r}));const t=await this._toolCreationTask.promise;this._set(\"tool\",t),t.completed?this.view.tools.add(t):(this.view.addAndActivateTool(t),v((()=>t.completed),(()=>{t.active&&o(this.view)&&(this.view.activeTool=null)}),{initial:!0,once:!0}))}removeTool(){this._toolCreationTask=r(this._toolCreationTask),a(this.tool)||(o(this.view)&&this.view.tools&&this.view.tools.remove(this.tool),this.tool.rejectCreation(\"Rejecting creation because tool is removed.\"),this.tool.destroyed||this.tool.destroy(),this._set(\"tool\",null))}_scheduleViewReconnect(){this._reconnectViewTask=r(this._reconnectViewTask),this._reconnectViewTask=h((e=>this._reconnectView(e)))}async _reconnectView(e){const t=o(this.view)&&this.view.ready&&this.supported;if(p(e))return;if(this._disconnectFromView(this.view),!t||a(this.view))return;const s=this.view;if(o(this.analysis)){if(this._isAnalysisOwner){if(o(this.analysis.parent))return void this.logError(\"expected owned analysis to have null parent when connecting to view\");this._parentChangeFromReconnect=!0,s.analyses.add(this.analysis),this._parentChangeFromReconnect=!1}const t=await s.whenAnalysisView(this.analysis);if(p(e))return void this._disconnectFromView(s);if(a(t))return void this.logError(\"Unable to retrieve analysis view for analysis. Analysis may not be part of the scene.\");this.onConnectToAnalysisView(t)}}_disconnectFromView(e){o(this.analysis)&&(o(e)&&this._isAnalysisOwner&&(this._parentChangeFromReconnect=!0,e.analyses.remove(this.analysis),this._parentChangeFromReconnect=!1),this.onDisconnectFromAnalysisView())}logError(...e){this.logger.error(...e)}};e([u({constructOnly:!0})],m.prototype,\"analysis\",void 0),e([u({constructOnly:!0})],m.prototype,\"tool\",void 0),e([u()],m.prototype,\"supported\",null),e([u({value:null})],m.prototype,\"view\",null),e([u({type:Boolean,value:!0})],m.prototype,\"visible\",null),e([u()],m.prototype,\"active\",null),e([u()],m.prototype,\"disabled\",null),e([u()],m.prototype,\"_toolCreationTask\",void 0),e([u({readOnly:!0})],m.prototype,\"creatingTool\",null),m=e([y(\"esri.widgets.support.InteractiveToolViewModel\")],m);export{m as InteractiveToolViewModel};\n"],"names":["m","i","_visibilityHandles","fullExtent","operationalLayerType","spatialReference","type","_visibilityWatcher","bind","this","_enforceVisibility","visibilityMode","visible","watch","_visibleWatcher","e","s","r","o","forEach","v","webmap","getLayerJSONFromResourceInfo","t","layerType","push","layers","_set","_get","addResolvingPromise","loadFromPortal","supportedTypes","Promise","resolve","_turnOffOtherLayers","uid","remove","initialized","find","length","getItemAt","_isAnyLayerVisible","some","n","c","y","h","b","d","p","prototype","json","read","write","ignoreOrigin","a","origins","readOnly","value","u","l","graphicsLayer","_visualizeSnappingIndicator","x","intersectionPoint","coordinateHelper","point","M","S","paths","lineStart","lineEnd","f","I","previousVertex","centerVertex","nextVertex","C","geometry","symbol","add","g","outline","width","color","size","data","symbolLayers","enable","capStyle","joinStyle","miterLimit","anchorPoint","z","anchorPointUnits","markerPlacement","placePerPart","angleToLine","relativeTo","frame","xmin","ymin","xmax","ymax","markerGraphics","rings","scaleSymbolsProportionally","respectFrame","P","rotation","placeOnEndPoints","_hasZ","_cursorScreenPoint","_snappingTask","_stagedVertex","_stagedVertexUnsnapped","_lastVertexUnsnapped","_nativeEventHistory","undoStack","redoStack","interactiveUndoDisabled","history","redoHistory","snapToScene","view","elevationInfo","defaultZ","_coordinateHelper","hasZ","_snappingManager","snappingManager","_editGeometryOperations","editGeometryType","_snappingGraphicsLayer","id","SNAPPING_GRAPHICS_LAYER_ID","listMode","internal","_snappingContext","editGeometryOperations","mode","offset","pointer","visualizer","_activeComponent","_","components","map","destroy","doneSnapping","vertices","pos","_committedVertices","pointToArray","notifyChange","canUndo","canRedo","undo","redo","screenToMap","vertex","mapPoint","update","snap","valid","apply","sceneIntersectionHelper","intersectElevationFromScreen","getGeometryZValue","G","toMap","getLastVertex","vectorToDehydratedPoint","getCoordsFromScreenPoint","_addVertex","native","_completeDrawing","Boolean","nonNullable","V","vertexIndex","defaultPrevented","coordinates","_popVertexOnPointerMove","_addVertexOnPointerUp","_activePointerId","_viewHandles","_undoRedoHandles","_addViewHandles","_addUndoRedoHandles","_removeViewHandles","_removeUndoRedoHandles","emit","on","stopPropagation","_shouldHandlePointerEvent","pointerId","pointerType","_updateCursor","_vertexAddHandler","_drawCompleteHandler","key","repeat","operation","pop","index","removeAll","arrayToVector","_isDuplicateOfLastVertex","_popCursorVertex","appendVertex","Event","getCoordsAndPointFromScreenPoint","_pushCursorVertex","promise","then","button","Object","freeze","__proto__","MultipointDrawAction","drawOperation","manipulators","geometryType","drawingMode","snapToSceneEnabled","drawSurface","elevationDrawSurface","hasM","handles","onVertexAdd","onVertexRemove","onVertexUpdate","onCursorUpdate","onComplete","complete","interactive","updating","isCompleted","cancel","onInputEvent","constructOnly","_addDrawTool","_removeDrawTool","replacement","version","_drawTool","completeCreateOperation","addAndActivateTool","getVertexCoords","tools","w","T","_panEnabled","_dragEnabled","_clickEnabled","k","_isDragging","viewAlignedCoordinateSystem","_getClickModeViewHandles","_getDragModeViewHandles","_resetGeometry","H","arguments","activeAction","reset","main","selected","selectedOutline","hoverOutline","secondary","secondaryOutline","transparent","hoverSize","hoverColor","outlineColor","hoverOutlineColor","stagedColor","stagedOutlineColor","midpoint","center","fill","line","reshapeGraphics","transformGraphics","layer","selectable","grabbable","dragging","cursor","events","_circleCollisionCache","_graphicSymbolChangedHandle","_originalSymbol","attachSymbolChanged","graphic","_updateGraphicSymbol","action","detachSymbolChanged","_resetGraphicSymbol","_intersectDistance2D","_intersectDistance3D","focusedSymbol","_focused","originalPoint","equals","clone","radiusPx","toScreen","xoffset","yoffset","include","renderSpatialReference","state","camera","eye","analysis","tool","_baseHandles","_loggedUnsupportedErrorOnce","_reconnectViewTask","_isAnalysisOwner","_parentChangeFromReconnect","_toolCreationTask","ready","supported","logError","unsupportedErrorMessage","_scheduleViewReconnect","parent","sync","removeTool","_disconnectFromView","supportedViewType","removed","destroyed","finished","active","rejectCreation","reject","whenReady","createToolParams","constructorArguments","toolConstructor","whenCreationStarted","completed","activeTool","initial","once","_reconnectView","analyses","whenAnalysisView","onConnectToAnalysisView","onDisconnectFromAnalysisView","logger","error"],"sourceRoot":""}