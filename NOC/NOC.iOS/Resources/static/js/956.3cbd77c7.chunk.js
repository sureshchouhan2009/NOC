"use strict";(self.webpackChunketihadrailapp=self.webpackChunketihadrailapp||[]).push([[956],{13491:function(t,r,n){n.d(r,{QB:function(){return f}});var e=n(60136),i=n(29388),a=n(37762),o=n(15671),h=n(43144),u=n(63780),c=n(92026),s=n(27546),l=n(36231),f=function(){function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,n=arguments.length>1?arguments[1]:void 0;(0,o.Z)(this,t),this.compareMinX=p,this.compareMinY=x,this.toBBox=function(t){return t},this._maxEntries=Math.max(4,r||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&("function"==typeof n?this.toBBox=n:this._initFormat(n)),this.clear()}return(0,h.Z)(t,[{key:"destroy",value:function(){this.clear(),A.prune(),k.prune(),T.prune(),Z.prune()}},{key:"all",value:function(t){this._all(this.data,t)}},{key:"search",value:function(t,r){var n=this.data,e=this.toBBox;if(_(t,n))for(A.clear();n;){for(var i=0,a=n.children.length;i<a;i++){var o=n.children[i],h=n.leaf?e(o):o;_(t,h)&&(n.leaf?r(o):Y(t,h)?this._all(o,r):A.push(o))}n=A.pop()}}},{key:"collides",value:function(t){var r=this.data,n=this.toBBox;if(!_(t,r))return!1;for(A.clear();r;){for(var e=0,i=r.children.length;e<i;e++){var a=r.children[e],o=r.leaf?n(a):a;if(_(t,o)){if(r.leaf||Y(t,o))return!0;A.push(a)}}r=A.pop()}return!1}},{key:"load",value:function(t){if(!t.length)return this;if(t.length<this._minEntries){for(var r=0,n=t.length;r<n;r++)this.insert(t[r]);return this}var e=this._build(t.slice(0,t.length),0,t.length-1,0);if(this.data.children.length)if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){var i=this.data;this.data=e,e=i}this._insert(e,this.data.height-e.height-1,!0)}else this.data=e;return this}},{key:"insert",value:function(t){return t&&this._insert(t,this.data.height-1),this}},{key:"clear",value:function(){return this.data=new E([]),this}},{key:"remove",value:function(t){if(!t)return this;var r,n=this.data,e=null,i=0,a=!1,o=this.toBBox(t);for(T.clear(),Z.clear();n||T.length>0;){var h;if(n||(n=(0,c.j0)(T.pop()),e=T.data[T.length-1],i=null!=(h=Z.pop())?h:0,a=!0),n.leaf&&-1!==(r=(0,u.cq)(n.children,t,n.children.length,n.indexHint)))return n.children.splice(r,1),T.push(n),this._condense(T),this;a||n.leaf||!Y(n,o)?e?(i++,n=e.children[i],a=!1):n=null:(T.push(n),Z.push(i),i=0,e=n,n=n.children[0])}return this}},{key:"toJSON",value:function(){return this.data}},{key:"fromJSON",value:function(t){return this.data=t,this}},{key:"_all",value:function(t,r){var n=t;for(k.clear();n;){var e;if(!0===n.leaf){var i,o=(0,a.Z)(n.children);try{for(o.s();!(i=o.n()).done;){r(i.value)}}catch(h){o.e(h)}finally{o.f()}}else k.pushArray(n.children);n=null!=(e=k.pop())?e:null}}},{key:"_build",value:function(t,r,n,e){var i=n-r+1,a=this._maxEntries;if(i<=a){var o=new E(t.slice(r,n+1));return m(o,this.toBBox),o}e||(e=Math.ceil(Math.log(i)/Math.log(a)),a=Math.ceil(i/Math.pow(a,e-1)));var h=new P([]);h.height=e;var u=Math.ceil(i/a),c=u*Math.ceil(Math.sqrt(a));X(t,r,n,c,this.compareMinX);for(var s=r;s<=n;s+=c){var l=Math.min(s+c-1,n);X(t,s,l,u,this.compareMinY);for(var f=s;f<=l;f+=u){var d=Math.min(f+u-1,l);h.children.push(this._build(t,f,d,e-1))}}return m(h,this.toBBox),h}},{key:"_chooseSubtree",value:function(t,r,n,e){for(;e.push(r),!0!==r.leaf&&e.length-1!==n;){for(var i=void 0,a=1/0,o=1/0,h=0,u=r.children.length;h<u;h++){var c=r.children[h],s=y(c),l=M(t,c)-s;l<o?(o=l,a=s<a?s:a,i=c):l===o&&s<a&&(a=s,i=c)}r=i||r.children[0]}return r}},{key:"_insert",value:function(t,r,n){var e=this.toBBox,i=n?t:e(t);T.clear();var a=this._chooseSubtree(i,this.data,r,T);for(a.children.push(t),v(a,i);r>=0&&T.data[r].children.length>this._maxEntries;)this._split(T,r),r--;this._adjustParentBBoxes(i,T,r)}},{key:"_split",value:function(t,r){var n=t.data[r],e=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,e);var a=this._chooseSplitIndex(n,i,e);if(a){var o=n.children.splice(a,n.children.length-a),h=n.leaf?new E(o):new P(o);h.height=n.height,m(n,this.toBBox),m(h,this.toBBox),r?t.data[r-1].children.push(h):this._splitRoot(n,h)}else console.log("  Error: assertion failed at PooledRBush._split: no valid split index")}},{key:"_splitRoot",value:function(t,r){this.data=new P([t,r]),this.data.height=t.height+1,m(this.data,this.toBBox)}},{key:"_chooseSplitIndex",value:function(t,r,n){var e,i,a;e=i=1/0;for(var o=r;o<=n-r;o++){var h=d(t,0,o,this.toBBox),u=d(t,o,n,this.toBBox),c=B(h,u),s=y(h)+y(u);c<e?(e=c,a=o,i=s<i?s:i):c===e&&s<i&&(i=s,a=o)}return a}},{key:"_chooseSplitAxis",value:function(t,r,n){var e=t.leaf?this.compareMinX:p,i=t.leaf?this.compareMinY:x;this._allDistMargin(t,r,n,e)<this._allDistMargin(t,r,n,i)&&t.children.sort(e)}},{key:"_allDistMargin",value:function(t,r,n,e){t.children.sort(e);for(var i=this.toBBox,a=d(t,0,r,i),o=d(t,n-r,n,i),h=g(a)+g(o),u=r;u<n-r;u++){var c=t.children[u];v(a,t.leaf?i(c):c),h+=g(a)}for(var s=n-r-1;s>=r;s--){var l=t.children[s];v(o,t.leaf?i(l):l),h+=g(o)}return h}},{key:"_adjustParentBBoxes",value:function(t,r,n){for(var e=n;e>=0;e--)v(r.data[e],t)}},{key:"_condense",value:function(t){for(var r=t.length-1;r>=0;r--){var n=t.data[r];if(0===n.children.length)if(r>0){var e=t.data[r-1],i=e.children;i.splice((0,u.cq)(i,n,i.length,e.indexHint),1)}else this.clear();else m(n,this.toBBox)}}},{key:"_initFormat",value:function(t){var r=["return a"," - b",";"];this.compareMinX=new Function("a","b",r.join(t[0])),this.compareMinY=new Function("a","b",r.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}]),t}();function m(t,r){d(t,0,t.children.length,r,t)}function d(t,r,n,e,i){i||(i=new E([])),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a,o=r;o<n;o++)a=t.children[o],v(i,t.leaf?e(a):a);return i}function v(t,r){t.minX=Math.min(t.minX,r.minX),t.minY=Math.min(t.minY,r.minY),t.maxX=Math.max(t.maxX,r.maxX),t.maxY=Math.max(t.maxY,r.maxY)}function p(t,r){return t.minX-r.minX}function x(t,r){return t.minY-r.minY}function y(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function g(t){return t.maxX-t.minX+(t.maxY-t.minY)}function M(t,r){return(Math.max(r.maxX,t.maxX)-Math.min(r.minX,t.minX))*(Math.max(r.maxY,t.maxY)-Math.min(r.minY,t.minY))}function B(t,r){var n=Math.max(t.minX,r.minX),e=Math.max(t.minY,r.minY),i=Math.min(t.maxX,r.maxX),a=Math.min(t.maxY,r.maxY);return Math.max(0,i-n)*Math.max(0,a-e)}function Y(t,r){return t.minX<=r.minX&&t.minY<=r.minY&&r.maxX<=t.maxX&&r.maxY<=t.maxY}function _(t,r){return r.minX<=t.maxX&&r.minY<=t.maxY&&r.maxX>=t.minX&&r.maxY>=t.minY}function X(t,r,n,e,i){for(var a=[r,n];a.length;){var o=(0,c.j0)(a.pop()),h=(0,c.j0)(a.pop());if(!(o-h<=e)){var u=h+Math.ceil((o-h)/e/2)*e;(0,l.q)(t,u,h,o,i),a.push(h,u,u,o)}}}var A=new s.Z,k=new s.Z,T=new s.Z,Z=new s.Z({deallocator:void 0}),w=function(t){(0,e.Z)(n,t);var r=(0,i.Z)(n);function n(){var t;return(0,o.Z)(this,n),(t=r.apply(this,arguments)).height=1,t.indexHint=new u.SO,t}return(0,h.Z)(n)}((0,h.Z)((function t(){(0,o.Z)(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}))),E=function(t){(0,e.Z)(n,t);var r=(0,i.Z)(n);function n(t){var e;return(0,o.Z)(this,n),(e=r.call(this)).children=t,e.leaf=!0,e}return(0,h.Z)(n)}(w),P=function(t){(0,e.Z)(n,t);var r=(0,i.Z)(n);function n(t){var e;return(0,o.Z)(this,n),(e=r.call(this)).children=t,e.leaf=!1,e}return(0,h.Z)(n)}(w)},30767:function(t,r,n){n.r(r),n.d(r,{ElevationSamplerWorker:function(){return f},default:function(){return f}});var e=n(37762),i=n(15861),a=n(15671),o=n(43144),h=n(87757),u=n(93169),c=n(92026),s=n(13491),l=n(57898),f=function(){function t(){(0,a.Z)(this,t)}return(0,o.Z)(t,[{key:"createIndex",value:function(){var t=(0,i.Z)(h.mark((function t(r,n){var e,i,a;return h.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=new Array,r.vertexAttributes&&r.vertexAttributes.position){t.next=3;break}return t.abrupt("return",new s.QB);case 3:if(i=this.createMeshData(r),!(0,c.pC)(n)){t.next=10;break}return t.next=7,n.invoke("createIndexThread",i,{transferList:e});case 7:t.t0=t.sent,t.next=11;break;case 10:t.t0=this.createIndexThread(i).result;case 11:return a=t.t0,t.abrupt("return",this.createPooledRBush().fromJSON(a));case 13:case"end":return t.stop()}}),t,this)})));return function(r,n){return t.apply(this,arguments)}}()},{key:"createIndexThread",value:function(t){var r=new Float64Array(t.position),n=this.createPooledRBush();return t.components?this.createIndexComponentsThread(n,r,t.components.map((function(t){return new Uint32Array(t)}))):this.createIndexAllThread(n,r)}},{key:"createIndexAllThread",value:function(t,r){for(var n=new Array(r.length/9),e=0,i=0;i<r.length;i+=9)n[e++]=m(r,i+0,i+3,i+6);return t.load(n),{result:t.toJSON()}}},{key:"createIndexComponentsThread",value:function(t,r,n){var i,a=0,o=(0,e.Z)(n);try{for(o.s();!(i=o.n()).done;){a+=i.value.length/3}}catch(d){o.e(d)}finally{o.f()}var h,u=new Array(a),c=0,s=(0,e.Z)(n);try{for(s.s();!(h=s.n()).done;)for(var l=h.value,f=0;f<l.length;f+=3)u[c++]=m(r,3*l[f+0],3*l[f+1],3*l[f+2])}catch(d){s.e(d)}finally{s.f()}return t.load(u),{result:t.toJSON()}}},{key:"createMeshData",value:function(t){var r=(t.transform?(0,l.I5)({position:t.vertexAttributes.position,normal:null,tangent:null},t.transform,t.spatialReference).position:t.vertexAttributes.position).buffer;return!t.components||t.components.some((function(t){return!t.faces}))?{position:r}:{position:r,components:t.components.map((function(t){return t.faces}))}}},{key:"createPooledRBush",value:function(){return new s.QB(9,(0,u.Z)("esri-csp-restrictions")?function(t){return t}:[".minX",".minY",".maxX",".maxY"])}}]),t}();function m(t,r,n,e){return{minX:Math.min(t[r+0],t[n+0],t[e+0]),maxX:Math.max(t[r+0],t[n+0],t[e+0]),minY:Math.min(t[r+1],t[n+1],t[e+1]),maxY:Math.max(t[r+1],t[n+1],t[e+1]),p0:[t[r+0],t[r+1],t[r+2]],p1:[t[n+0],t[n+1],t[n+2]],p2:[t[e+0],t[e+1],t[e+2]]}}},11700:function(t,r,n){n.d(r,{To:function(){return M},Yk:function(){return y},Iz:function(){return x},M2:function(){return A},wi:function(){return X},XO:function(){return g},w9:function(){return Y},zZ:function(){return B},VS:function(){return _}});var e=n(32718),i=n(92026),a=n(22753),o=n(11873),h=n(81949),u=n(11186),c=n(71353),s=n(60176),l=n(92183),f=n(92975),m=n(81753),d=n(25158),v=n(32035),p=e.Z.getLogger("esri.geometry.support.meshUtils.normalProjection");function x(t,r,n,e,i){return T(e)?(k(0,d.ct.fromTypedArray(t),d.fP.fromTypedArray(r),d.fP.fromTypedArray(n),e,d.ct.fromTypedArray(i)),i):(p.error("Cannot convert spatial reference to PCPF"),i)}function y(t,r,n,e,i){return T(e)?(k(1,d.ct.fromTypedArray(t),d.fP.fromTypedArray(r),d.fP.fromTypedArray(n),e,d.ct.fromTypedArray(i)),i):(p.error("Cannot convert to spatial reference from PCPF"),i)}function g(t,r,n){return(0,s.CM)(t,r,0,n,(0,l.rS)(r),0,t.length/3),n}function M(t,r,n){return(0,s.CM)(t,(0,l.rS)(n),0,r,n,0,t.length/3),r}function B(t,r,n){if((0,i.Wi)(t))return r;var e=d.fP.fromTypedArray(t),a=d.fP.fromTypedArray(r);return(0,v.t)(a,e,n),r}function Y(t,r,n){if((0,i.Wi)(t))return r;(0,a.a)(S,n);var e=d.ct.fromTypedArray(t),o=d.ct.fromTypedArray(r);return(0,v.a)(o,e,S),(0,a.i)(S)||(0,v.n)(o,o),r}function _(t,r,n){if((0,i.Wi)(t))return r;(0,a.a)(S,n);var e=d.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),o=d.ct.fromTypedArray(r,4*Float32Array.BYTES_PER_ELEMENT);if((0,v.a)(o,e,S),(0,a.i)(S)||(0,v.n)(o,o),t!==r)for(var h=3;h<t.length;h+=4)r[h]=t[h];return r}function X(t,r,n,e,i){if(!T(e))return p.error("Cannot convert spatial reference to PCPF"),i;k(0,d.ct.fromTypedArray(t,4*Float32Array.BYTES_PER_ELEMENT),d.fP.fromTypedArray(r),d.fP.fromTypedArray(n),e,d.ct.fromTypedArray(i,4*Float32Array.BYTES_PER_ELEMENT));for(var a=3;a<t.length;a+=4)i[a]=t[a];return i}function A(t,r,n,e,i){if(!T(e))return p.error("Cannot convert to spatial reference from PCPF"),i;k(1,d.ct.fromTypedArray(t,16),d.fP.fromTypedArray(r),d.fP.fromTypedArray(n),e,d.ct.fromTypedArray(i,16));for(var a=3;a<t.length;a+=4)i[a]=t[a];return i}function k(t,r,n,e,i,o){if(r){var h=n.count,c=(0,l.rS)(i);if(Z(i))for(var f=0;f<h;f++)e.getVec(f,w),r.getVec(f,E),(0,s.Bm)(c,w,P,c),(0,a.f)(S,P),1===t&&(0,a.t)(S,S),(0,u.t)(E,E,S),o.setVec(f,E);else for(var d=0;d<h;d++){e.getVec(d,w),r.getVec(d,E),(0,s.Bm)(c,w,P,c),(0,a.f)(S,P);var v=(0,m.mZ)(n.get(d,1)),p=Math.cos(v);0===t&&(p=1/p),S[0]*=p,S[1]*=p,S[2]*=p,S[3]*=p,S[4]*=p,S[5]*=p,1===t&&(0,a.t)(S,S),(0,u.t)(E,E,S),(0,u.n)(E,E),o.setVec(d,E)}return o}}function T(t){return Z(t)||function(t){return t.isWebMercator}(t)}function Z(t){return t.isWGS84||(0,f.yW)(t)||(0,f.BZ)(t)||(0,f.V2)(t)}var w=(0,c.c)(),E=(0,c.c)(),P=(0,h.c)(),S=(0,o.c)()}}]);
//# sourceMappingURL=956.3cbd77c7.chunk.js.map