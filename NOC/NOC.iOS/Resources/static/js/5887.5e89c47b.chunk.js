"use strict";(self.webpackChunketihadrailapp=self.webpackChunketihadrailapp||[]).push([[5887],{75887:function(e,t,i){i.r(t),i.d(t,{default:function(){return se}});var n,a=i(15671),s=i(43144),r=i(60136),o=i(29388),l=i(27366),u=i(66978),h=i(68860),c=i(8025),d=(i(63780),i(93169),i(25243),i(49861)),p=i(69912),_=i(27496),m=i(15861),y=i(87757),v=i(1413),f=i(80573),g=i(84652),w=i(32718),b=i(92026),k=i(80885),V=w.Z.getLogger("esri.analysis.AreaMeasurement"),D=n=function(e){(0,r.Z)(i,e);var t=(0,o.Z)(i);function i(e){var n;return(0,a.Z)(this,i),(n=t.call(this,e)).type="area-measurement",n.extent=null,n.unit=null,n}return(0,s.Z)(i,[{key:"geometry",set:function(e){if((0,b.Wi)(e))return this._set("geometry",null),void this._set("extent",null);e.rings.length>1&&V.warn("Measuring polygons with multiple rings is not supported."),this._set("geometry",e.clone()),this._set("extent",e.extent)}},{key:"clone",value:function(){return new n((0,v.Z)({geometry:(0,g.d9)(this.geometry),unit:this.unit},this.cloneBaseAnalysisProperties()))}}]),i}(f.Z);(0,l._)([(0,d.Cb)({readOnly:!0})],D.prototype,"type",void 0),(0,l._)([(0,d.Cb)({value:null,type:k.Z})],D.prototype,"geometry",null),(0,l._)([(0,d.Cb)({readOnly:!0})],D.prototype,"extent",void 0),(0,l._)([(0,d.Cb)({type:h.fN,value:null})],D.prototype,"unit",void 0);var P=D=n=(0,l._)([(0,p.j)("esri.analysis.AreaMeasurement")],D),M=i(77671),C=i(100),S=i(94172),x=i(37818),L=i(51328),A=i(17842),Z=i(71353),T=i(83639),O=i(82232),U=i(75508),I=i(70619),z=i(13679),W=i(92853),E={laserLineGlowColor:[1,.5,0],laserLineGlowWidth:8,laserLineGlowFalloff:8,laserLineInnerColor:[1,1,1],laserLineInnerWidth:1,laserLineGlobalAlpha:.75,laserLineEnabled:!0,handleColor:[1,.5,0],handleOpacity:.5,handleRadius:5,handleRadiusHovered:10,handleRadiusMouse:10,handleRadiusTouch:25,pathLineColor:[1,.5,0,1],pathLineWidth:3,intersectingLineColor:[1,.2,0,1],perimeterLineColor:[1,.5,0,1],perimeterLineWidth:2,projectionLineColor:[1,.5,0,1],projectionLineWidth:2,projectionLineStippleSize:5,areaColor1:[1,.5,0,.5],areaColor2:[1,1,1,.5],fillColor:[1,.5,0,.5],lineSubdivisions:64,labelDistance:25},R=function(){function e(t){var i,n,s,r=this;(0,a.Z)(this,e),this.vertexManipulators=[],this._analysisView=null,this._analysisVisualization=null,this._state="pending",this._mode=0,this._cursorPoint=null,this._lastDraggedVertex=null,this._visible=!1,this._laserLine=null,this._cursorManipulator=null,this._listenerHandles=null,this._tempHandlePosition=(0,Z.c)(),this._analysis=t.analysis,this._toolState=t.toolState,this._manipulators=null!=(i=t.manipulators)?i:new W.D,this._view=t.view,this._mode=null!=(n=t.mode)?n:0,this._cursorPoint=null!=(s=t.cursorPoint)?s:null,this._style=(0,O.gh)(E,t.style),this._intersector=(0,z.Z8)(this._view.state.viewingMode),this._intersector.options.store=0,this._creationPromise=this._view.whenAnalysisView(this._analysis).then((function(e){return r._initialize(e)}))}return(0,s.Z)(e,[{key:"_initialize",value:function(e){switch(this._state){case"pending":break;case"destroyed":return}this._analysisView=e,this._analysisVisualization=e.analysisVisualization,this._analysisViewData=e.analysisViewData;var t=(0,T.aD)(this._view,this._style.handleColor,this._style.handleOpacity);t.available=!1,t.radius=this._style.handleRadius,t.interactive=!1,this._manipulators.add(t),this._cursorManipulator=t,this._laserLine=new U.W({view:this._view,attached:!0,style:{glowColor:this._style.laserLineGlowColor,glowWidth:this._style.laserLineGlowWidth,glowFalloff:this._style.laserLineGlowFalloff,innerColor:this._style.laserLineInnerColor,innerWidth:this._style.laserLineInnerWidth,globalAlpha:this._style.laserLineGlobalAlpha}}),this._analysisView.analysisViewData.mode=this._mode,this._analysisViewData.cursorPoint=this._cursorPoint,this._visible&&this._updateVisibility(this._visible),this._state="ready"}},{key:"destroy",value:function(){switch(this._state){case"pending":return void(this._state="destroyed");case"ready":break;default:return}this.hide(),this._laserLine.destroy(),this._laserLine=null,this._state="destroyed"}},{key:"when",value:function(){return this._creationPromise.then((function(){}))}},{key:"whenMessages",value:function(){var e=(0,m.Z)(y.mark((function e(){var t=this;return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._creationPromise;case 2:return e.next=4,new Promise((function(e){(0,S.zF)((function(){return!t._analysisView.updating}),e,{initial:!0,sync:!0,once:!0})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"state",get:function(){return this._state}},{key:"analysisVisualization",get:function(){return this._analysisVisualization}},{key:"analysisView",get:function(){return this._analysisView}},{key:"validMeasurement",get:function(){return"ready"===this.state&&this._analysisViewData.validMeasurement}},{key:"path",get:function(){return"ready"!==this.state?null:this._analysisViewData.path}},{key:"requiresCursorPoint",get:function(){return("initial"===this._toolState.polygonState||"drawing"===this._toolState.polygonState)&&this._toolState.active}},{key:"visible",get:function(){return this._visible},set:function(e){e?this.show():this.hide()}},{key:"mode",get:function(){return this._mode},set:function(e){switch(this._state){case"pending":this._mode=e;break;case"ready":this._mode=e,this._analysisViewData.mode=e}}},{key:"cursorPoint",get:function(){return this._cursorPoint},set:function(e){switch(this._state){case"pending":this._cursorPoint=e;break;case"ready":this._cursorPoint=e,this._analysisViewData.cursorPoint=e}}},{key:"lastDraggedVertex",get:function(){return this._lastDraggedVertex},set:function(e){switch(this._state){case"pending":this._lastDraggedVertex=e;break;case"ready":this._lastDraggedVertex=e,this._analysisViewData.lastDraggedVertex=e}}},{key:"testData",get:function(){var e=this._laserLine.testData;return{labels:this._analysisVisualization.testData.labels,laserLineRenderer:(0,b.pC)(e)?{heightManifoldEnabled:e.heightManifoldEnabled,heightManifoldTarget:e.heightManifoldTarget,pointDistanceEnabled:e.pointDistanceEnabled,pointDistanceOrigin:e.pointDistanceOrigin,pointDistanceTarget:e.pointDistanceTarget,lineVerticalPlaneEnabled:e.lineVerticalPlaneEnabled}:{heightManifoldEnabled:!1,heightManifoldTarget:null,pointDistanceEnabled:!1,pointDistanceOrigin:null,pointDistanceTarget:null,lineVerticalPlaneEnabled:!1}}}},{key:"show",value:function(){this._setVisiblity(!0)}},{key:"hide",value:function(){this._setVisiblity(!1)}},{key:"_setVisiblity",value:function(e){switch(this._state){case"ready":this._visible!==e&&this._updateVisibility(e);break;case"pending":this._visible=e;break;default:return}}},{key:"_updateVisibility",value:function(e){var t=this;this._visible=e,this._analysis.visible=e,this._laserLine.visible=e,e?(this._initializeListeners(),this._updateAll(this._analysisVisualization.viewData)):(this._destroyListeners(),this.vertexManipulators.forEach((function(e){t._removeVertexManipulator(e.manipulator)})),this.vertexManipulators=[],this._view.cursor=null)}},{key:"vertexHandleAt",value:function(e,t){var i=this._manipulators.intersect(e,t);return(0,b.pC)(i)?i.manipulator.metadata:null}},{key:"manipulatorToVertex",value:function(e){return e.metadata}},{key:"pick",value:function(t){var i=this._view.spatialReference,n=(0,A.md)(t.screenPoint);this._view.sceneIntersectionHelper.intersectToolIntersectorScreen(n,this._intersector);var a=this._intersector.results.min,s=(0,Z.c)();if(!a.getIntersectionPoint(s))return new e.PickResult;var r=this._view.renderCoordsHelper.fromRenderCoords(s,i);if((0,b.Wi)(r))return new e.PickResult;var o=2===a.intersector?"surface":"feature";return new e.PickResult(o,s,r)}},{key:"overlappingHandles",value:function(e,t){return(0,O.Vl)(e,t,this._view)<=this._style.handleRadius}},{key:"screenToMap3D",value:function(){return(0,L.gv)(this._view)}},{key:"finishMeasurement",value:function(){switch(this._state){case"pending":return;case"ready":var e=this._analysisViewData.path;return void(e.numVertices<3?(e.clear(),this.cursorPoint=null,this._toolState.polygonState="initial"):(e.close(),this.cursorPoint=null,this._toolState.polygonState="measured"))}}},{key:"_updateAll",value:function(e){this._visible&&(this._updateVertexManipulators(e),this._updateLaserLine())}},{key:"_createVertexManipulator",value:function(){var e=(0,T.aD)(this._view,this._style.handleColor,this._style.handleOpacity);return e.radius=this._style.handleRadius,{id:this._manipulators.add(e),manipulator:e}}},{key:"_removeVertexManipulator",value:function(e){this._manipulators.remove(e)}},{key:"_updateVertexManipulators",value:function(e){var t=this,i=this._analysisViewData.path?this._analysisViewData.path.vertices:[],n=this.vertexManipulators;(0,O.B$)(n,i.length,(function(){return t._createVertexManipulator()}),(function(e){return t._removeVertexManipulator(e.manipulator)})),n.forEach((function(t,n){t.manipulator.metadata=i[n],t.manipulator.renderLocation=e.positionsRenderCoords[n]})),"drawing"===this._toolState.polygonState&&(0,b.pC)(this.cursorPoint)?(this._cursorManipulator.available=!0,this._cursorManipulator.location=this.cursorPoint):this._cursorManipulator.available=!1}},{key:"_getFocusPoint",value:function(){var e=this.lastDraggedVertex;switch(this._toolState.polygonState){case"drawing":return(0,b.pC)(this.cursorPoint)?this.cursorPoint:(0,b.pC)(e)?this._analysisViewData.path.getVertexPositionAsPoint(e):(0,b.Wg)(this._analysisViewData.path.lastPoint);case"editing":return(0,b.pC)(e)?this._analysisViewData.path.getVertexPositionAsPoint(e):null;default:return this.cursorPoint}}},{key:"_updateLaserLine",value:function(){var e=this._style.laserLineEnabled&&"measured"!==this._toolState.polygonState&&this._toolState.active,t=this._getFocusPoint();if(e&&(0,b.pC)(t)){var i=this._tempHandlePosition;this._view.renderCoordsHelper.toRenderCoords(t,i),this._laserLine.heightManifoldTarget=i}else this._laserLine.heightManifoldTarget=null}},{key:"_initializeListeners",value:function(){var e=this;this._listenerHandles=new C.Z,this._listenerHandles.add([(0,S.Ym)((function(){return e._toolState.polygonState}),(function(){return e._updateLaserLine()})),(0,S.Ym)((function(){return e._analysisVisualization.viewData}),(function(){return e._updateAll(e._analysisVisualization.viewData)}),S.Z_),(0,S.Ym)((function(){return{lastDraggedVertex:e._analysisViewData.lastDraggedVertex,cursorPoint:e._analysisViewData.cursorPoint}}),(function(){return e._updateLaserLine()})),(0,S.Ym)((function(){return e._toolState.active}),(function(){return e._updateAll(e._analysisVisualization.viewData)}))])}},{key:"_destroyListeners",value:function(){this._listenerHandles=(0,b.SC)(this._listenerHandles)}}]),e}();R._handleGeometry=I.Z.createSphereGeometry(1,32,32),function(e){var t=(0,s.Z)((function e(){(0,a.Z)(this,e)}));e.PickRequest=t;var i=(0,s.Z)((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,a.Z)(this,e),this.type=t,this.scenePoint=i,this.mapPoint=n}));e.PickResult=i}(R||(R={}));var H=R,G=i(38316),B=i(74229),j=i(45900),q=i(72612),F=w.Z.getLogger("esri.views.3d.interactive.measurementTools.areaMeasurement3D.AreaMeasurement3DTool"),Y=function(e){(0,r.Z)(i,e);var t=(0,o.Z)(i);function i(e){var n;return(0,a.Z)(this,i),(n=t.call(this,e))._handles=new C.Z,n._tempPickRequest=new H.PickRequest,n.polygonState="initial",n}return(0,s.Z)(i,[{key:"initialize",value:function(){var e=this;this.measurementView=new H({view:this.view,analysis:this.analysis,toolState:this,manipulators:this.manipulators}),this.measurementView.when().then((function(){return e._initialize()}))}},{key:"_initialize",value:function(){var e=this;this.destroyed?F.error("Calling _initialized() on destroyed AreaMeasurement3DTool."):(this._setupManipulators(),this.visible&&this.measurementView.show(),this._handles.add((0,S.Ym)((function(){return e.state}),(function(t){"measured"===t?e.complete():e.finishToolCreation()}),S.Z_)),"measured"===this.state?this.complete():this.startToolCreation())}},{key:"destroy",value:function(){this.attached&&this.detach(),this.measurementView.destroy(),this._set("measurementView",null),this._handles=(0,b.SC)(this._handles)}},{key:"state",get:function(){var e,t;switch(this.polygonState){case"initial":return(null==(e=this.measurementView)||null==(t=e.path)?void 0:t.numVertices)>=1?"measuring":"ready";case"drawing":case"editing":return"measuring";case"measured":return"measured"}}},{key:"cursor",get:function(){return this.destroyed?(F.error("Can't query the cursor of a destroyed tool."),null):!this.active||"initial"!==this.polygonState&&"drawing"!==this.polygonState?null:"crosshair"}},{key:"onShow",value:function(){this.created&&this.measurementView.show()}},{key:"onHide",value:function(){this.created&&this.measurementView.hide()}},{key:"onDetach",value:function(){switch(this.toolState){case"created":case"creating":this.measurementView.path&&this.measurementView.path.clear(),this.measurementView.cursorPoint=null,this.polygonState="initial"}}},{key:"onInputEvent",value:function(e){switch(e.type){case"immediate-double-click":this._handleImmediateDoubleClick(e);break;case"immediate-click":this._handleImmediateClick(e);break;case"pointer-move":this._handlePointerMove(e);break;case"drag":this._handleDrag(e);break;case"key-down":this._handleKeyDown(e)}}},{key:"_setupManipulators",value:function(){var e=this,t=function(e){return"manipulator-".concat(e)},i=0,n=function(t){return function(n){return"start"===n.action&&(i++,e.measurementView.lastDraggedVertex=(0,b.Wg)(e.measurementView.manipulatorToVertex(t)),"measured"===e.polygonState&&(e.polygonState="editing")),n}},a=function(){return function(t){return"end"===t.action?(0===--i&&"editing"===e.polygonState&&(e.polygonState="measured"),null):t}},s=function(i,s){e._handles.add([(0,B.Xd)(s,(function(t,i,s){var r=(0,L.J4)(t),o=(0,b.Wg)(e.measurementView.manipulatorToVertex(t));i.next(n(t)).next(r).next(a()).next(e.measurementView.screenToMap3D()).next((function(i){t.location=i.mapEnd,e.measurementView.path.setVertexPosition(o,(0,x.WG)(i.mapEnd))}));var l=(0,x.WG)(e.measurementView.path.getVertexPositionAsPoint(o));s.next(r).next((function(){e.measurementView.path.setVertexPosition(o,l),t.location=l}))}))],t(i))},r=function(i){e._handles.remove(t(i))};this.manipulators.forEach((function(e){var t=e.id,i=e.manipulator;s(t,i)})),this._handles.add([this.manipulators.on("after-add",(function(e){var t=e.item,i=t.id,n=t.manipulator;s(i,n)})),this.manipulators.on("after-remove",(function(e){var t=e.item.id;r(t)}))])}},{key:"_handleImmediateDoubleClick",value:function(e){G.Z.isPrimaryPointerAction(e)&&("drawing"===this.polygonState&&this.measurementView.finishMeasurement(),e.stopPropagation())}},{key:"_handleDrag",value:function(e){"editing"===this.polygonState&&e.stopPropagation()}},{key:"_handleImmediateClick",value:function(e){if(G.Z.isPrimaryPointerAction(e)){var t=(0,q.vT)(e);if(this.active)switch(this.polygonState){case"initial":if(this._addVertexAt(t))return this.measurementView.cursorPoint=null,this.polygonState="drawing",void e.stopPropagation();break;case"drawing":var i=this.measurementView.vertexHandleAt(t,e.pointerType);if((0,b.Wi)(i)){if(this._addVertexAt(t))return this.measurementView.cursorPoint=null,void e.stopPropagation()}else 0===i.index&&(this.measurementView.finishMeasurement(),e.stopPropagation())}"mouse"===e.pointerType&&this._hoverAt(t)}}},{key:"_handlePointerMove",value:function(e){if("mouse"===e.pointerType){var t=(0,q.vT)(e);this._hoverAt(t)}}},{key:"_handleKeyDown",value:function(e){"Enter"===e.key&&"drawing"===this.polygonState&&(this.measurementView.finishMeasurement(),e.stopPropagation())}},{key:"_hoverAt",value:function(e){if(this.measurementView.requiresCursorPoint){var t=this._pick(e);t.mapPoint&&(this.measurementView.cursorPoint=t.mapPoint)}else this.measurementView.cursorPoint=null}},{key:"_addVertexAt",value:function(e){var t=this._pick(e);return!!t.mapPoint&&(this.measurementView.path.add(t.mapPoint),!0)}},{key:"_pick",value:function(e){var t=this._tempPickRequest;return t.screenPoint=e,this.measurementView.pick(t)}}]),i}(j.m);(0,l._)([(0,d.Cb)({readOnly:!0})],Y.prototype,"state",null),(0,l._)([(0,d.Cb)()],Y.prototype,"polygonState",void 0),(0,l._)([(0,d.Cb)({readOnly:!0})],Y.prototype,"cursor",null),(0,l._)([(0,d.Cb)()],Y.prototype,"measurementView",void 0),(0,l._)([(0,d.Cb)({constructOnly:!0})],Y.prototype,"view",void 0),(0,l._)([(0,d.Cb)()],Y.prototype,"analysis",void 0);var N=Y=(0,l._)([(0,p.j)("esri.views.3d.interactive.measurementTools.areaMeasurement3D.AreaMeasurement3DTool")],Y),K=i(32845),J=w.Z.getLogger("esri.widgets.AreaMeasurement3D.AreaMeasurement3DViewModel"),X=function(e){(0,r.Z)(i,e);var t=(0,o.Z)(i);function i(e){var n;return(0,a.Z)(this,i),(n=t.call(this,e)).logger=J,n.supportedViewType="3d",n.unsupportedErrorMessage="AreaMeasurement3DViewModel is only supported in 3D views.",n._userUnitOptions=null,n._userUnit=null,n.ready=!1,n.analysis=new P,n}return(0,s.Z)(i,[{key:"initialize",value:function(){this.analysis.unit=this.unit}},{key:"state",get:function(){return this.disabled?"disabled":(0,b.Wi)(this.tool)?"ready":this.tool.state}},{key:"measurement",get:function(){if((0,b.Wi)(this.tool)||this.disabled||this.tool.destroyed||"pending"===this.tool.toolState)return null;var e=this.tool.measurementView;if("pending"===e.state||"destroyed"===e.state)return null;var t=e.analysisVisualization,i=t.viewData,n=i.measurementData,a=i.validMeasurement,s="euclidean"===i.mode,r=0===(s?n.intersectingSegments:n.geodesicIntersectingSegments).size,o=r?a?"available":"unavailable":"invalid";return{mode:s?"euclidean":"geodesic",area:{text:r&&a?t.areaLabel:null,state:o},perimeterLength:{text:r&&a?t.perimeterLengthLabel:null,state:o}}}},{key:"unitOptions",get:function(){return this._filteredOrAllUnits(this._userUnitOptions)},set:function(e){this._userUnitOptions=e,this._set("unitOptions",this._filteredOrAllUnits(this._userUnitOptions))}},{key:"unit",get:function(){return(0,b.pC)(this._userUnit)?(this._userUnit=this._findSelectableUnit(this._userUnit,this.defaultUnit),this._userUnit):this._findSelectableUnit(this.defaultUnit)},set:function(e){this._userUnit=e?this._findSelectableUnit(e,this._userUnit):null,this.analysis.unit=this._userUnit}},{key:"start",value:function(){return this.createTool()}},{key:"clear",value:function(){this.removeTool()}},{key:"createToolParams",value:function(){return{toolConstructor:N}}},{key:"_findSelectableUnit",value:function(e,t){var i=this.unitOptions;return-1!==i.indexOf(e)?e:(0,b.pC)(t)?this._findSelectableUnit(t):i[0]}},{key:"_filteredOrAllUnits",value:function(e){if((0,b.Wi)(e))return h.fN.slice();var t=e.filter((function(e){return-1!==h.fN.indexOf(e)}));return 0===t.length?h.fN.slice():t}},{key:"onConnectToAnalysisView",value:function(){var e=(0,m.Z)(y.mark((function e(){return y.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,b.pC)(this.view)&&this.view.ready&&(this.ready=!0);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onDisconnectFromAnalysisView",value:function(){this.ready=!1}}]),i}(K.V);(0,l._)([(0,d.Cb)()],X.prototype,"_userUnit",void 0),(0,l._)([(0,d.Cb)()],X.prototype,"ready",void 0),(0,l._)([(0,d.Cb)({readOnly:!0})],X.prototype,"state",null),(0,l._)([(0,d.Cb)({readOnly:!0})],X.prototype,"measurement",null),(0,l._)([(0,d.Cb)(M.Y)],X.prototype,"defaultUnit",void 0),(0,l._)([(0,d.Cb)()],X.prototype,"unitOptions",null),(0,l._)([(0,d.Cb)()],X.prototype,"unit",null),(0,l._)([(0,d.Cb)()],X.prototype,"analysis",void 0);var $=X=(0,l._)([(0,p.j)("esri.widgets.AreaMeasurement3D.AreaMeasurement3DViewModel")],X),Q=i(78088),ee=i(80532),te=i(67005),ie=(i(80975),"esri-area-measurement-3d"),ne={buttonDisabled:"esri-button--disabled",base:"".concat(ie," esri-widget esri-widget--panel"),container:"".concat(ie,"__container"),hint:"".concat(ie,"__hint"),hintText:"".concat(ie,"__hint-text"),panelError:"".concat(ie,"__panel--error"),measurement:"".concat(ie,"__measurement"),measurementItem:"".concat(ie,"__measurement-item"),measurementItemDisabled:"".concat(ie,"__measurement-item--disabled"),measurementItemTitle:"".concat(ie,"__measurement-item-title"),measurementItemValue:"".concat(ie,"__measurement-item-value"),settings:"".concat(ie,"__settings"),units:"".concat(ie,"__units"),unitsLabel:"".concat(ie,"__units-label"),unitsSelect:"".concat(ie,"__units-select esri-select"),unitsSelectWrapper:"".concat(ie,"__units-select-wrapper"),actionSection:"".concat(ie,"__actions"),newMeasurementButton:"".concat(ie,"__clear-button esri-button esri-button--primary"),widgetIcon:"esri-icon-measure-area"},ae=function(e){(0,r.Z)(i,e);var t=(0,o.Z)(i);function i(e,n){var s;return(0,a.Z)(this,i),(s=t.call(this,e,n)).view=null,s.visible=null,s.iconClass=ne.widgetIcon,s.label=void 0,s.messages=null,s.messagesUnits=null,s.viewModel=new $,s.unitOptions=null,s.unit=null,s}return(0,s.Z)(i,[{key:"render",value:function(){var e=this,t=this.viewModel,i=t.supported,n=t.active,a=t.measurement,s=t.state,r=t.unit,o="disabled"===s,l="ready"===s,u="measuring"===s||"measured"===s,c=this.messages,d=this.messagesUnits,p=n&&l?(0,te.u)("section",{key:"esri-area-measurement-3d__hint",class:ne.hint},(0,te.u)("p",{class:ne.hintText},c.hint)):null,_=i?null:(0,te.u)("section",{key:"esri-area-measurement-3d__unsupported",class:ne.panelError},(0,te.u)("p",null,c.unsupported)),m=function(t,i,n){switch(i.state){case"available":return(0,te.u)("div",{key:"".concat(n,"-enabled"),class:ne.measurementItem},(0,te.u)("span",{class:ne.measurementItemTitle},t),(0,te.u)("span",{class:ne.measurementItemValue},i.text));case"unavailable":return(0,te.u)("div",{key:"".concat(n,"-disabled"),class:e.classes(ne.measurementItem,ne.measurementItemDisabled)},(0,te.u)("span",{class:ne.measurementItemTitle},t));case"invalid":return(0,te.u)("div",{key:"".concat(n,"-enabled"),class:ne.measurementItem},(0,te.u)("span",{class:ne.measurementItemTitle},t),(0,te.u)("span",{class:ne.measurementItemValue},c.notApplicable))}},y=u?(0,te.u)("section",{key:"esri-area-measurement-3d__measurement",class:ne.measurement},m(c.area,a.area,"area"),m(c.perimeterLength,a.perimeterLength,"perimeter-length")):null,v="".concat(this.id,"__units"),f=(0,te.u)("label",{class:ne.unitsLabel,for:v},c.unit),g=(0,te.u)("div",{class:ne.unitsSelectWrapper},(0,te.u)("select",{class:ne.unitsSelect,id:v,onchange:this._changeUnit,bind:this,value:r},this.viewModel.unitOptions.map((function(e){var t;return(0,te.u)("option",{key:e,value:e},(0,h.ZO)(e)?d.systems[e]:null==(t=d.units[e])?void 0:t.pluralCapitalized)})))),w=u?(0,te.u)("section",{key:"esri-area-measurement-3d__units",class:ne.units},f,g):null,b=u?(0,te.u)("div",{key:"settings",class:ne.settings},w):null,k=!i||n&&!u?null:(0,te.u)("div",{class:ne.actionSection},(0,te.u)("button",{disabled:o,class:this.classes(ne.newMeasurementButton,o&&ne.buttonDisabled),bind:this,onclick:this._newMeasurement,type:"button"},c.newMeasurement)),V=this.visible?(0,te.u)("div",{class:ne.container},_,p,b,y,k):null;return(0,te.u)("div",{key:this,class:ne.base,role:"presentation"},V)}},{key:"_newMeasurement",value:function(){(0,u.R8)(this.viewModel.start())}},{key:"_changeUnit",value:function(e){var t=e.target,i=t.options[t.selectedIndex];i&&(this.unit=i.value)}}]),i}(_.Z);(0,l._)([(0,c.B)("viewModel.view")],ae.prototype,"view",void 0),(0,l._)([(0,c.B)("viewModel.visible")],ae.prototype,"visible",void 0),(0,l._)([(0,c.B)("viewModel.active")],ae.prototype,"active",void 0),(0,l._)([(0,d.Cb)()],ae.prototype,"iconClass",void 0),(0,l._)([(0,d.Cb)({aliasOf:{source:"messages.widgetLabel",overridable:!0}})],ae.prototype,"label",void 0),(0,l._)([(0,d.Cb)(),(0,ee.H)("esri/widgets/AreaMeasurement3D/t9n/AreaMeasurement3D")],ae.prototype,"messages",void 0),(0,l._)([(0,d.Cb)(),(0,ee.H)("esri/core/t9n/Units")],ae.prototype,"messagesUnits",void 0),(0,l._)([(0,d.Cb)()],ae.prototype,"uiStrings",void 0),(0,l._)([(0,d.Cb)({type:$})],ae.prototype,"viewModel",void 0),(0,l._)([(0,c.B)("viewModel.unitOptions")],ae.prototype,"unitOptions",void 0),(0,l._)([(0,c.B)("viewModel.unit")],ae.prototype,"unit",void 0),(0,l._)([(0,Q.h)()],ae.prototype,"_newMeasurement",null),(0,l._)([(0,Q.h)()],ae.prototype,"_changeUnit",null);var se=ae=(0,l._)([(0,p.j)("esri.widgets.AreaMeasurement3D")],ae)}}]);
//# sourceMappingURL=5887.5e89c47b.chunk.js.map